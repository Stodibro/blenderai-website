var Rp=e=>{throw TypeError(e)};var $u=(e,t,n)=>t.has(e)||Rp("Cannot "+n);var C=(e,t,n)=>($u(e,t,"read from private field"),n?n.call(e):t.get(e)),X=(e,t,n)=>t.has(e)?Rp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),K=(e,t,n,r)=>($u(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ue=(e,t,n)=>($u(e,t,"access private method"),n);var wl=(e,t,n,r)=>({set _(s){K(e,t,s,n)},get _(){return C(e,t,r)}});function M_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Sv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jv={exports:{}},eu={},kv={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=Symbol.for("react.element"),D_=Symbol.for("react.portal"),L_=Symbol.for("react.fragment"),U_=Symbol.for("react.strict_mode"),F_=Symbol.for("react.profiler"),$_=Symbol.for("react.provider"),B_=Symbol.for("react.context"),V_=Symbol.for("react.forward_ref"),q_=Symbol.for("react.suspense"),W_=Symbol.for("react.memo"),K_=Symbol.for("react.lazy"),Op=Symbol.iterator;function H_(e){return e===null||typeof e!="object"?null:(e=Op&&e[Op]||e["@@iterator"],typeof e=="function"?e:null)}var Cv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nv=Object.assign,Ev={};function va(e,t,n){this.props=e,this.context=t,this.refs=Ev,this.updater=n||Cv}va.prototype.isReactComponent={};va.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};va.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tv(){}Tv.prototype=va.prototype;function Rf(e,t,n){this.props=e,this.context=t,this.refs=Ev,this.updater=n||Cv}var Of=Rf.prototype=new Tv;Of.constructor=Rf;Nv(Of,va.prototype);Of.isPureReactComponent=!0;var Ip=Array.isArray,Pv=Object.prototype.hasOwnProperty,If={current:null},Av={key:!0,ref:!0,__self:!0,__source:!0};function Rv(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Pv.call(t,r)&&!Av.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Zo,type:e,key:i,ref:a,props:s,_owner:If.current}}function G_(e,t){return{$$typeof:Zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zo}function Y_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zp=/\/+/g;function Bu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Y_(""+e.key):t.toString(36)}function Gl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zo:case D_:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Bu(a,0):r,Ip(s)?(n="",e!=null&&(n=e.replace(zp,"$&/")+"/"),Gl(s,t,n,"",function(u){return u})):s!=null&&(zf(s)&&(s=G_(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(zp,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ip(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Bu(i,l);a+=Gl(i,t,n,c,s)}else if(c=H_(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Bu(i,l++),a+=Gl(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xl(e,t,n){if(e==null)return e;var r=[],s=0;return Gl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Q_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Yl={transition:null},J_={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:If};function Ov(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:xl,forEach:function(e,t,n){xl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xl(e,function(){t++}),t},toArray:function(e){return xl(e,function(t){return t})||[]},only:function(e){if(!zf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=va;de.Fragment=L_;de.Profiler=F_;de.PureComponent=Rf;de.StrictMode=U_;de.Suspense=q_;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J_;de.act=Ov;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nv({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=If.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Pv.call(t,c)&&!Av.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Zo,type:e.type,key:s,ref:i,props:r,_owner:a}};de.createContext=function(e){return e={$$typeof:B_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$_,_context:e},e.Consumer=e};de.createElement=Rv;de.createFactory=function(e){var t=Rv.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:V_,render:e}};de.isValidElement=zf;de.lazy=function(e){return{$$typeof:K_,_payload:{_status:-1,_result:e},_init:Q_}};de.memo=function(e,t){return{$$typeof:W_,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Yl.transition;Yl.transition={};try{e()}finally{Yl.transition=t}};de.unstable_act=Ov;de.useCallback=function(e,t){return jt.current.useCallback(e,t)};de.useContext=function(e){return jt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};de.useEffect=function(e,t){return jt.current.useEffect(e,t)};de.useId=function(){return jt.current.useId()};de.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return jt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};de.useRef=function(e){return jt.current.useRef(e)};de.useState=function(e){return jt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return jt.current.useTransition()};de.version="18.3.1";kv.exports=de;var b=kv.exports;const I=Sv(b),X_=M_({__proto__:null,default:I},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_=b,eS=Symbol.for("react.element"),tS=Symbol.for("react.fragment"),nS=Object.prototype.hasOwnProperty,rS=Z_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sS={key:!0,ref:!0,__self:!0,__source:!0};function Iv(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)nS.call(t,r)&&!sS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:eS,type:e,key:i,ref:a,props:s,_owner:rS.current}}eu.Fragment=tS;eu.jsx=Iv;eu.jsxs=Iv;jv.exports=eu;var o=jv.exports,Bd={},zv={exports:{}},Wt={},Mv={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,R){var U=O.length;O.push(R);e:for(;0<U;){var $=U-1>>>1,P=O[$];if(0<s(P,R))O[$]=R,O[U]=P,U=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var R=O[0],U=O.pop();if(U!==R){O[0]=U;e:for(var $=0,P=O.length,W=P>>>1;$<W;){var Z=2*($+1)-1,B=O[Z],ie=Z+1,se=O[ie];if(0>s(B,U))ie<P&&0>s(se,B)?(O[$]=se,O[ie]=U,$=ie):(O[$]=B,O[Z]=U,$=Z);else if(ie<P&&0>s(se,U))O[$]=se,O[ie]=U,$=ie;else break e}}return R}function s(O,R){var U=O.sortIndex-R.sortIndex;return U!==0?U:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=O)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function x(O){if(w=!1,p(O),!v)if(n(c)!==null)v=!0,A(S);else{var R=n(u);R!==null&&Y(x,R.startTime-O)}}function S(O,R){v=!1,w&&(w=!1,g(N),N=-1),m=!0;var U=f;try{for(p(R),h=n(c);h!==null&&(!(h.expirationTime>R)||O&&!z());){var $=h.callback;if(typeof $=="function"){h.callback=null,f=h.priorityLevel;var P=$(h.expirationTime<=R);R=e.unstable_now(),typeof P=="function"?h.callback=P:h===n(c)&&r(c),p(R)}else r(c);h=n(c)}if(h!==null)var W=!0;else{var Z=n(u);Z!==null&&Y(x,Z.startTime-R),W=!1}return W}finally{h=null,f=U,m=!1}}var j=!1,T=null,N=-1,k=5,E=-1;function z(){return!(e.unstable_now()-E<k)}function L(){if(T!==null){var O=e.unstable_now();E=O;var R=!0;try{R=T(!0,O)}finally{R?J():(j=!1,T=null)}}else j=!1}var J;if(typeof y=="function")J=function(){y(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,le=F.port2;F.port1.onmessage=L,J=function(){le.postMessage(null)}}else J=function(){_(L,0)};function A(O){T=O,j||(j=!0,J())}function Y(O,R){N=_(function(){O(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,A(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var U=f;f=R;try{return O()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=f;f=O;try{return R()}finally{f=U}},e.unstable_scheduleCallback=function(O,R,U){var $=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,O){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=U+P,O={id:d++,callback:R,priorityLevel:O,startTime:U,expirationTime:P,sortIndex:-1},U>$?(O.sortIndex=U,t(u,O),n(c)===null&&O===n(u)&&(w?(g(N),N=-1):w=!0,Y(x,U-$))):(O.sortIndex=P,t(c,O),v||m||(v=!0,A(S))),O},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(O){var R=f;return function(){var U=f;f=R;try{return O.apply(this,arguments)}finally{f=U}}}})(Dv);Mv.exports=Dv;var iS=Mv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS=b,Vt=iS;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lv=new Set,mo={};function ni(e,t){la(e,t),la(e+"Capture",t)}function la(e,t){for(mo[e]=t,e=0;e<t.length;e++)Lv.add(t[e])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vd=Object.prototype.hasOwnProperty,oS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mp={},Dp={};function lS(e){return Vd.call(Dp,e)?!0:Vd.call(Mp,e)?!1:oS.test(e)?Dp[e]=!0:(Mp[e]=!0,!1)}function cS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uS(e,t,n,r){if(t===null||typeof t>"u"||cS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mf=/[\-:]([a-z])/g;function Df(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mf,Df);ct[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mf,Df);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mf,Df);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lf(e,t,n,r){var s=ct.hasOwnProperty(t)?ct[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uS(t,n,s,r)&&(n=null),r||s===null?lS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ur=aS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bl=Symbol.for("react.element"),ji=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),qd=Symbol.for("react.profiler"),Uv=Symbol.for("react.provider"),Fv=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),Wd=Symbol.for("react.suspense"),Kd=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),$v=Symbol.for("react.offscreen"),Lp=Symbol.iterator;function Na(e){return e===null||typeof e!="object"?null:(e=Lp&&e[Lp]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Vu;function $a(e){if(Vu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vu=t&&t[1]||""}return`
`+Vu+e}var qu=!1;function Wu(e,t){if(!e||qu)return"";qu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{qu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$a(e):""}function dS(e){switch(e.tag){case 5:return $a(e.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return e=Wu(e.type,!1),e;case 11:return e=Wu(e.type.render,!1),e;case 1:return e=Wu(e.type,!0),e;default:return""}}function Hd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ki:return"Fragment";case ji:return"Portal";case qd:return"Profiler";case Uf:return"StrictMode";case Wd:return"Suspense";case Kd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fv:return(e.displayName||"Context")+".Consumer";case Uv:return(e._context.displayName||"Context")+".Provider";case Ff:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $f:return t=e.displayName||null,t!==null?t:Hd(e.type)||"Memo";case br:t=e._payload,e=e._init;try{return Hd(e(t))}catch{}}return null}function hS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hd(t);case 8:return t===Uf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fS(e){var t=Bv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _l(e){e._valueTracker||(e._valueTracker=fS(e))}function Vv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gd(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Up(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qv(e,t){t=t.checked,t!=null&&Lf(e,"checked",t,!1)}function Yd(e,t){qv(e,t);var n=rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qd(e,t.type,rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qd(e,t,n){(t!=="number"||uc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ba=Array.isArray;function Bi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+rs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $p(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Ba(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:rs(n)}}function Wv(e,t){var n=rs(t.value),r=rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sl,Hv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sl=Sl||document.createElement("div"),Sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function po(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mS=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(e){mS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ya[t]=Ya[e]})});function Gv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ya.hasOwnProperty(e)&&Ya[e]?(""+t).trim():t+"px"}function Yv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var pS=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zd(e,t){if(t){if(pS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function eh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=null;function Bf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nh=null,Vi=null,qi=null;function Vp(e){if(e=nl(e)){if(typeof nh!="function")throw Error(M(280));var t=e.stateNode;t&&(t=iu(t),nh(e.stateNode,e.type,t))}}function Qv(e){Vi?qi?qi.push(e):qi=[e]:Vi=e}function Jv(){if(Vi){var e=Vi,t=qi;if(qi=Vi=null,Vp(e),t)for(e=0;e<t.length;e++)Vp(t[e])}}function Xv(e,t){return e(t)}function Zv(){}var Ku=!1;function ew(e,t,n){if(Ku)return e(t,n);Ku=!0;try{return Xv(e,t,n)}finally{Ku=!1,(Vi!==null||qi!==null)&&(Zv(),Jv())}}function go(e,t){var n=e.stateNode;if(n===null)return null;var r=iu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var rh=!1;if(nr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){rh=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{rh=!1}function gS(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Qa=!1,dc=null,hc=!1,sh=null,yS={onError:function(e){Qa=!0,dc=e}};function vS(e,t,n,r,s,i,a,l,c){Qa=!1,dc=null,gS.apply(yS,arguments)}function wS(e,t,n,r,s,i,a,l,c){if(vS.apply(this,arguments),Qa){if(Qa){var u=dc;Qa=!1,dc=null}else throw Error(M(198));hc||(hc=!0,sh=u)}}function ri(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qp(e){if(ri(e)!==e)throw Error(M(188))}function xS(e){var t=e.alternate;if(!t){if(t=ri(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qp(s),e;if(i===r)return qp(s),t;i=i.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function nw(e){return e=xS(e),e!==null?rw(e):null}function rw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rw(e);if(t!==null)return t;e=e.sibling}return null}var sw=Vt.unstable_scheduleCallback,Wp=Vt.unstable_cancelCallback,bS=Vt.unstable_shouldYield,_S=Vt.unstable_requestPaint,qe=Vt.unstable_now,SS=Vt.unstable_getCurrentPriorityLevel,Vf=Vt.unstable_ImmediatePriority,iw=Vt.unstable_UserBlockingPriority,fc=Vt.unstable_NormalPriority,jS=Vt.unstable_LowPriority,aw=Vt.unstable_IdlePriority,tu=null,Pn=null;function kS(e){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(tu,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:ES,CS=Math.log,NS=Math.LN2;function ES(e){return e>>>=0,e===0?32:31-(CS(e)/NS|0)|0}var jl=64,kl=4194304;function Va(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Va(l):(i&=a,i!==0&&(r=Va(i)))}else a=n&~s,a!==0?r=Va(a):i!==0&&(r=Va(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),s=1<<n,r|=e[n],t&=~s;return r}function TS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-wn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=TS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function ih(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ow(){var e=jl;return jl<<=1,!(jl&4194240)&&(jl=64),e}function Hu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function el(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function AS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function qf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var be=0;function lw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cw,Wf,uw,dw,hw,ah=!1,Cl=[],Br=null,Vr=null,qr=null,yo=new Map,vo=new Map,Nr=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kp(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(t.pointerId)}}function Ta(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=nl(t),t!==null&&Wf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function OS(e,t,n,r,s){switch(t){case"focusin":return Br=Ta(Br,e,t,n,r,s),!0;case"dragenter":return Vr=Ta(Vr,e,t,n,r,s),!0;case"mouseover":return qr=Ta(qr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return yo.set(i,Ta(yo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vo.set(i,Ta(vo.get(i)||null,e,t,n,r,s)),!0}return!1}function fw(e){var t=Ns(e.target);if(t!==null){var n=ri(t);if(n!==null){if(t=n.tag,t===13){if(t=tw(n),t!==null){e.blockedOn=t,hw(e.priority,function(){uw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);th=r,n.target.dispatchEvent(r),th=null}else return t=nl(n),t!==null&&Wf(t),e.blockedOn=n,!1;t.shift()}return!0}function Hp(e,t,n){Ql(e)&&n.delete(t)}function IS(){ah=!1,Br!==null&&Ql(Br)&&(Br=null),Vr!==null&&Ql(Vr)&&(Vr=null),qr!==null&&Ql(qr)&&(qr=null),yo.forEach(Hp),vo.forEach(Hp)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,ah||(ah=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,IS)))}function wo(e){function t(s){return Pa(s,e)}if(0<Cl.length){Pa(Cl[0],e);for(var n=1;n<Cl.length;n++){var r=Cl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Br!==null&&Pa(Br,e),Vr!==null&&Pa(Vr,e),qr!==null&&Pa(qr,e),yo.forEach(t),vo.forEach(t),n=0;n<Nr.length;n++)r=Nr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)fw(n),n.blockedOn===null&&Nr.shift()}var Wi=ur.ReactCurrentBatchConfig,pc=!0;function zS(e,t,n,r){var s=be,i=Wi.transition;Wi.transition=null;try{be=1,Kf(e,t,n,r)}finally{be=s,Wi.transition=i}}function MS(e,t,n,r){var s=be,i=Wi.transition;Wi.transition=null;try{be=4,Kf(e,t,n,r)}finally{be=s,Wi.transition=i}}function Kf(e,t,n,r){if(pc){var s=oh(e,t,n,r);if(s===null)rd(e,t,r,gc,n),Kp(e,r);else if(OS(s,e,t,n,r))r.stopPropagation();else if(Kp(e,r),t&4&&-1<RS.indexOf(e)){for(;s!==null;){var i=nl(s);if(i!==null&&cw(i),i=oh(e,t,n,r),i===null&&rd(e,t,r,gc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rd(e,t,r,null,n)}}var gc=null;function oh(e,t,n,r){if(gc=null,e=Bf(r),e=Ns(e),e!==null)if(t=ri(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gc=e,null}function mw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SS()){case Vf:return 1;case iw:return 4;case fc:case jS:return 16;case aw:return 536870912;default:return 16}default:return 16}}var Ur=null,Hf=null,Jl=null;function pw(){if(Jl)return Jl;var e,t=Hf,n=t.length,r,s="value"in Ur?Ur.value:Ur.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Jl=s.slice(e,1<r?1-r:void 0)}function Xl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nl(){return!0}function Gp(){return!1}function Kt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nl:Gp,this.isPropagationStopped=Gp,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),t}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=Kt(wa),tl=Le({},wa,{view:0,detail:0}),DS=Kt(tl),Gu,Yu,Aa,nu=Le({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?(Gu=e.screenX-Aa.screenX,Yu=e.screenY-Aa.screenY):Yu=Gu=0,Aa=e),Gu)},movementY:function(e){return"movementY"in e?e.movementY:Yu}}),Yp=Kt(nu),LS=Le({},nu,{dataTransfer:0}),US=Kt(LS),FS=Le({},tl,{relatedTarget:0}),Qu=Kt(FS),$S=Le({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),BS=Kt($S),VS=Le({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qS=Kt(VS),WS=Le({},wa,{data:0}),Qp=Kt(WS),KS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GS[e])?!!t[e]:!1}function Yf(){return YS}var QS=Le({},tl,{key:function(e){if(e.key){var t=KS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yf,charCode:function(e){return e.type==="keypress"?Xl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JS=Kt(QS),XS=Le({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jp=Kt(XS),ZS=Le({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yf}),ej=Kt(ZS),tj=Le({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),nj=Kt(tj),rj=Le({},nu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sj=Kt(rj),ij=[9,13,27,32],Qf=nr&&"CompositionEvent"in window,Ja=null;nr&&"documentMode"in document&&(Ja=document.documentMode);var aj=nr&&"TextEvent"in window&&!Ja,gw=nr&&(!Qf||Ja&&8<Ja&&11>=Ja),Xp=" ",Zp=!1;function yw(e,t){switch(e){case"keyup":return ij.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function oj(e,t){switch(e){case"compositionend":return vw(t);case"keypress":return t.which!==32?null:(Zp=!0,Xp);case"textInput":return e=t.data,e===Xp&&Zp?null:e;default:return null}}function lj(e,t){if(Ci)return e==="compositionend"||!Qf&&yw(e,t)?(e=pw(),Jl=Hf=Ur=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gw&&t.locale!=="ko"?null:t.data;default:return null}}var cj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cj[e.type]:t==="textarea"}function ww(e,t,n,r){Qv(r),t=yc(t,"onChange"),0<t.length&&(n=new Gf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xa=null,xo=null;function uj(e){Pw(e,0)}function ru(e){var t=Ti(e);if(Vv(t))return e}function dj(e,t){if(e==="change")return t}var xw=!1;if(nr){var Ju;if(nr){var Xu="oninput"in document;if(!Xu){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),Xu=typeof tg.oninput=="function"}Ju=Xu}else Ju=!1;xw=Ju&&(!document.documentMode||9<document.documentMode)}function ng(){Xa&&(Xa.detachEvent("onpropertychange",bw),xo=Xa=null)}function bw(e){if(e.propertyName==="value"&&ru(xo)){var t=[];ww(t,xo,e,Bf(e)),ew(uj,t)}}function hj(e,t,n){e==="focusin"?(ng(),Xa=t,xo=n,Xa.attachEvent("onpropertychange",bw)):e==="focusout"&&ng()}function fj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ru(xo)}function mj(e,t){if(e==="click")return ru(t)}function pj(e,t){if(e==="input"||e==="change")return ru(t)}function gj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:gj;function bo(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vd.call(t,s)||!bn(e[s],t[s]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,t){var n=rg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rg(n)}}function _w(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_w(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sw(){for(var e=window,t=uc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uc(e.document)}return t}function Jf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yj(e){var t=Sw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_w(n.ownerDocument.documentElement,n)){if(r!==null&&Jf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=sg(n,i);var a=sg(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vj=nr&&"documentMode"in document&&11>=document.documentMode,Ni=null,lh=null,Za=null,ch=!1;function ig(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ch||Ni==null||Ni!==uc(r)||(r=Ni,"selectionStart"in r&&Jf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&bo(Za,r)||(Za=r,r=yc(lh,"onSelect"),0<r.length&&(t=new Gf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ni)))}function El(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ei={animationend:El("Animation","AnimationEnd"),animationiteration:El("Animation","AnimationIteration"),animationstart:El("Animation","AnimationStart"),transitionend:El("Transition","TransitionEnd")},Zu={},jw={};nr&&(jw=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function su(e){if(Zu[e])return Zu[e];if(!Ei[e])return e;var t=Ei[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jw)return Zu[e]=t[n];return e}var kw=su("animationend"),Cw=su("animationiteration"),Nw=su("animationstart"),Ew=su("transitionend"),Tw=new Map,ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(e,t){Tw.set(e,t),ni(t,[e])}for(var ed=0;ed<ag.length;ed++){var td=ag[ed],wj=td.toLowerCase(),xj=td[0].toUpperCase()+td.slice(1);ls(wj,"on"+xj)}ls(kw,"onAnimationEnd");ls(Cw,"onAnimationIteration");ls(Nw,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(Ew,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bj=new Set("cancel close invalid load scroll toggle".split(" ").concat(qa));function og(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wS(r,t,void 0,e),e.currentTarget=null}function Pw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;og(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;og(s,l,u),i=c}}}if(hc)throw e=sh,hc=!1,sh=null,e}function Ne(e,t){var n=t[mh];n===void 0&&(n=t[mh]=new Set);var r=e+"__bubble";n.has(r)||(Aw(t,e,2,!1),n.add(r))}function nd(e,t,n){var r=0;t&&(r|=4),Aw(n,e,r,t)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[Tl]){e[Tl]=!0,Lv.forEach(function(n){n!=="selectionchange"&&(bj.has(n)||nd(n,!1,e),nd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tl]||(t[Tl]=!0,nd("selectionchange",!1,t))}}function Aw(e,t,n,r){switch(mw(t)){case 1:var s=zS;break;case 4:s=MS;break;default:s=Kf}n=s.bind(null,t,n,e),s=void 0,!rh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rd(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ns(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}ew(function(){var u=i,d=Bf(n),h=[];e:{var f=Tw.get(e);if(f!==void 0){var m=Gf,v=e;switch(e){case"keypress":if(Xl(n)===0)break e;case"keydown":case"keyup":m=JS;break;case"focusin":v="focus",m=Qu;break;case"focusout":v="blur",m=Qu;break;case"beforeblur":case"afterblur":m=Qu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=US;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ej;break;case kw:case Cw:case Nw:m=BS;break;case Ew:m=nj;break;case"scroll":m=DS;break;case"wheel":m=sj;break;case"copy":case"cut":case"paste":m=qS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jp}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,p;y!==null;){p=y;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,g!==null&&(x=go(y,g),x!=null&&w.push(So(y,x,p)))),_)break;y=y.return}0<w.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==th&&(v=n.relatedTarget||n.fromElement)&&(Ns(v)||v[rr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Ns(v):null,v!==null&&(_=ri(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=Yp,x="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Jp,x="onPointerLeave",g="onPointerEnter",y="pointer"),_=m==null?f:Ti(m),p=v==null?f:Ti(v),f=new w(x,y+"leave",m,n,d),f.target=_,f.relatedTarget=p,x=null,Ns(d)===u&&(w=new w(g,y+"enter",v,n,d),w.target=p,w.relatedTarget=_,x=w),_=x,m&&v)t:{for(w=m,g=v,y=0,p=w;p;p=di(p))y++;for(p=0,x=g;x;x=di(x))p++;for(;0<y-p;)w=di(w),y--;for(;0<p-y;)g=di(g),p--;for(;y--;){if(w===g||g!==null&&w===g.alternate)break t;w=di(w),g=di(g)}w=null}else w=null;m!==null&&lg(h,f,m,w,!1),v!==null&&_!==null&&lg(h,_,v,w,!0)}}e:{if(f=u?Ti(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=dj;else if(eg(f))if(xw)S=pj;else{S=fj;var j=hj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=mj);if(S&&(S=S(e,u))){ww(h,S,n,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Qd(f,"number",f.value)}switch(j=u?Ti(u):window,e){case"focusin":(eg(j)||j.contentEditable==="true")&&(Ni=j,lh=u,Za=null);break;case"focusout":Za=lh=Ni=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,ig(h,n,d);break;case"selectionchange":if(vj)break;case"keydown":case"keyup":ig(h,n,d)}var T;if(Qf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ci?yw(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(gw&&n.locale!=="ko"&&(Ci||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ci&&(T=pw()):(Ur=d,Hf="value"in Ur?Ur.value:Ur.textContent,Ci=!0)),j=yc(u,N),0<j.length&&(N=new Qp(N,e,null,n,d),h.push({event:N,listeners:j}),T?N.data=T:(T=vw(n),T!==null&&(N.data=T)))),(T=aj?oj(e,n):lj(e,n))&&(u=yc(u,"onBeforeInput"),0<u.length&&(d=new Qp("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}Pw(h,t)})}function So(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=go(e,n),i!=null&&r.unshift(So(e,i,s)),i=go(e,t),i!=null&&r.push(So(e,i,s))),e=e.return}return r}function di(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lg(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=go(n,i),c!=null&&a.unshift(So(n,c,l))):s||(c=go(n,i),c!=null&&a.push(So(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var _j=/\r\n?/g,Sj=/\u0000|\uFFFD/g;function cg(e){return(typeof e=="string"?e:""+e).replace(_j,`
`).replace(Sj,"")}function Pl(e,t,n){if(t=cg(t),cg(e)!==t&&n)throw Error(M(425))}function vc(){}var uh=null,dh=null;function hh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,jj=typeof clearTimeout=="function"?clearTimeout:void 0,ug=typeof Promise=="function"?Promise:void 0,kj=typeof queueMicrotask=="function"?queueMicrotask:typeof ug<"u"?function(e){return ug.resolve(null).then(e).catch(Cj)}:fh;function Cj(e){setTimeout(function(){throw e})}function sd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),wo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wo(t)}function Wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Tn="__reactFiber$"+xa,jo="__reactProps$"+xa,rr="__reactContainer$"+xa,mh="__reactEvents$"+xa,Nj="__reactListeners$"+xa,Ej="__reactHandles$"+xa;function Ns(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rr]||n[Tn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=dg(e);e!==null;){if(n=e[Tn])return n;e=dg(e)}return t}e=n,n=e.parentNode}return null}function nl(e){return e=e[Tn]||e[rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ti(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function iu(e){return e[jo]||null}var ph=[],Pi=-1;function cs(e){return{current:e}}function Ee(e){0>Pi||(e.current=ph[Pi],ph[Pi]=null,Pi--)}function je(e,t){Pi++,ph[Pi]=e.current,e.current=t}var ss={},gt=cs(ss),Rt=cs(!1),Hs=ss;function ca(e,t){var n=e.type.contextTypes;if(!n)return ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(e){return e=e.childContextTypes,e!=null}function wc(){Ee(Rt),Ee(gt)}function hg(e,t,n){if(gt.current!==ss)throw Error(M(168));je(gt,t),je(Rt,n)}function Rw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,hS(e)||"Unknown",s));return Le({},n,r)}function xc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ss,Hs=gt.current,je(gt,e),je(Rt,Rt.current),!0}function fg(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Rw(e,t,Hs),r.__reactInternalMemoizedMergedChildContext=e,Ee(Rt),Ee(gt),je(gt,e)):Ee(Rt),je(Rt,n)}var Vn=null,au=!1,id=!1;function Ow(e){Vn===null?Vn=[e]:Vn.push(e)}function Tj(e){au=!0,Ow(e)}function us(){if(!id&&Vn!==null){id=!0;var e=0,t=be;try{var n=Vn;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vn=null,au=!1}catch(s){throw Vn!==null&&(Vn=Vn.slice(e+1)),sw(Vf,us),s}finally{be=t,id=!1}}return null}var Ai=[],Ri=0,bc=null,_c=0,Xt=[],Zt=0,Gs=null,Yn=1,Qn="";function vs(e,t){Ai[Ri++]=_c,Ai[Ri++]=bc,bc=e,_c=t}function Iw(e,t,n){Xt[Zt++]=Yn,Xt[Zt++]=Qn,Xt[Zt++]=Gs,Gs=e;var r=Yn;e=Qn;var s=32-wn(r)-1;r&=~(1<<s),n+=1;var i=32-wn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Yn=1<<32-wn(t)+s|n<<s|r,Qn=i+e}else Yn=1<<i|n<<s|r,Qn=e}function Xf(e){e.return!==null&&(vs(e,1),Iw(e,1,0))}function Zf(e){for(;e===bc;)bc=Ai[--Ri],Ai[Ri]=null,_c=Ai[--Ri],Ai[Ri]=null;for(;e===Gs;)Gs=Xt[--Zt],Xt[Zt]=null,Qn=Xt[--Zt],Xt[Zt]=null,Yn=Xt[--Zt],Xt[Zt]=null}var Bt=null,$t=null,Re=!1,vn=null;function zw(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,$t=Wr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gs!==null?{id:Yn,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,$t=null,!0):!1;default:return!1}}function gh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yh(e){if(Re){var t=$t;if(t){var n=t;if(!mg(e,t)){if(gh(e))throw Error(M(418));t=Wr(n.nextSibling);var r=Bt;t&&mg(e,t)?zw(r,n):(e.flags=e.flags&-4097|2,Re=!1,Bt=e)}}else{if(gh(e))throw Error(M(418));e.flags=e.flags&-4097|2,Re=!1,Bt=e}}}function pg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function Al(e){if(e!==Bt)return!1;if(!Re)return pg(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hh(e.type,e.memoizedProps)),t&&(t=$t)){if(gh(e))throw Mw(),Error(M(418));for(;t;)zw(e,t),t=Wr(t.nextSibling)}if(pg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=Wr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Bt?Wr(e.stateNode.nextSibling):null;return!0}function Mw(){for(var e=$t;e;)e=Wr(e.nextSibling)}function ua(){$t=Bt=null,Re=!1}function em(e){vn===null?vn=[e]:vn.push(e)}var Pj=ur.ReactCurrentBatchConfig;function Ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Rl(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gg(e){var t=e._init;return t(e._payload)}function Dw(e){function t(g,y){if(e){var p=g.deletions;p===null?(g.deletions=[y],g.flags|=16):p.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Yr(g,y),g.index=0,g.sibling=null,g}function i(g,y,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<y?(g.flags|=2,y):p):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,p,x){return y===null||y.tag!==6?(y=hd(p,g.mode,x),y.return=g,y):(y=s(y,p),y.return=g,y)}function c(g,y,p,x){var S=p.type;return S===ki?d(g,y,p.props.children,x,p.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===br&&gg(S)===y.type)?(x=s(y,p.props),x.ref=Ra(g,y,p),x.return=g,x):(x=ic(p.type,p.key,p.props,null,g.mode,x),x.ref=Ra(g,y,p),x.return=g,x)}function u(g,y,p,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==p.containerInfo||y.stateNode.implementation!==p.implementation?(y=fd(p,g.mode,x),y.return=g,y):(y=s(y,p.children||[]),y.return=g,y)}function d(g,y,p,x,S){return y===null||y.tag!==7?(y=Vs(p,g.mode,x,S),y.return=g,y):(y=s(y,p),y.return=g,y)}function h(g,y,p){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hd(""+y,g.mode,p),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bl:return p=ic(y.type,y.key,y.props,null,g.mode,p),p.ref=Ra(g,null,y),p.return=g,p;case ji:return y=fd(y,g.mode,p),y.return=g,y;case br:var x=y._init;return h(g,x(y._payload),p)}if(Ba(y)||Na(y))return y=Vs(y,g.mode,p,null),y.return=g,y;Rl(g,y)}return null}function f(g,y,p,x){var S=y!==null?y.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(g,y,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bl:return p.key===S?c(g,y,p,x):null;case ji:return p.key===S?u(g,y,p,x):null;case br:return S=p._init,f(g,y,S(p._payload),x)}if(Ba(p)||Na(p))return S!==null?null:d(g,y,p,x,null);Rl(g,p)}return null}function m(g,y,p,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(p)||null,l(y,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bl:return g=g.get(x.key===null?p:x.key)||null,c(y,g,x,S);case ji:return g=g.get(x.key===null?p:x.key)||null,u(y,g,x,S);case br:var j=x._init;return m(g,y,p,j(x._payload),S)}if(Ba(x)||Na(x))return g=g.get(p)||null,d(y,g,x,S,null);Rl(y,x)}return null}function v(g,y,p,x){for(var S=null,j=null,T=y,N=y=0,k=null;T!==null&&N<p.length;N++){T.index>N?(k=T,T=null):k=T.sibling;var E=f(g,T,p[N],x);if(E===null){T===null&&(T=k);break}e&&T&&E.alternate===null&&t(g,T),y=i(E,y,N),j===null?S=E:j.sibling=E,j=E,T=k}if(N===p.length)return n(g,T),Re&&vs(g,N),S;if(T===null){for(;N<p.length;N++)T=h(g,p[N],x),T!==null&&(y=i(T,y,N),j===null?S=T:j.sibling=T,j=T);return Re&&vs(g,N),S}for(T=r(g,T);N<p.length;N++)k=m(T,g,N,p[N],x),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?N:k.key),y=i(k,y,N),j===null?S=k:j.sibling=k,j=k);return e&&T.forEach(function(z){return t(g,z)}),Re&&vs(g,N),S}function w(g,y,p,x){var S=Na(p);if(typeof S!="function")throw Error(M(150));if(p=S.call(p),p==null)throw Error(M(151));for(var j=S=null,T=y,N=y=0,k=null,E=p.next();T!==null&&!E.done;N++,E=p.next()){T.index>N?(k=T,T=null):k=T.sibling;var z=f(g,T,E.value,x);if(z===null){T===null&&(T=k);break}e&&T&&z.alternate===null&&t(g,T),y=i(z,y,N),j===null?S=z:j.sibling=z,j=z,T=k}if(E.done)return n(g,T),Re&&vs(g,N),S;if(T===null){for(;!E.done;N++,E=p.next())E=h(g,E.value,x),E!==null&&(y=i(E,y,N),j===null?S=E:j.sibling=E,j=E);return Re&&vs(g,N),S}for(T=r(g,T);!E.done;N++,E=p.next())E=m(T,g,N,E.value,x),E!==null&&(e&&E.alternate!==null&&T.delete(E.key===null?N:E.key),y=i(E,y,N),j===null?S=E:j.sibling=E,j=E);return e&&T.forEach(function(L){return t(g,L)}),Re&&vs(g,N),S}function _(g,y,p,x){if(typeof p=="object"&&p!==null&&p.type===ki&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case bl:e:{for(var S=p.key,j=y;j!==null;){if(j.key===S){if(S=p.type,S===ki){if(j.tag===7){n(g,j.sibling),y=s(j,p.props.children),y.return=g,g=y;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===br&&gg(S)===j.type){n(g,j.sibling),y=s(j,p.props),y.ref=Ra(g,j,p),y.return=g,g=y;break e}n(g,j);break}else t(g,j);j=j.sibling}p.type===ki?(y=Vs(p.props.children,g.mode,x,p.key),y.return=g,g=y):(x=ic(p.type,p.key,p.props,null,g.mode,x),x.ref=Ra(g,y,p),x.return=g,g=x)}return a(g);case ji:e:{for(j=p.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===p.containerInfo&&y.stateNode.implementation===p.implementation){n(g,y.sibling),y=s(y,p.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=fd(p,g.mode,x),y.return=g,g=y}return a(g);case br:return j=p._init,_(g,y,j(p._payload),x)}if(Ba(p))return v(g,y,p,x);if(Na(p))return w(g,y,p,x);Rl(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,p),y.return=g,g=y):(n(g,y),y=hd(p,g.mode,x),y.return=g,g=y),a(g)):n(g,y)}return _}var da=Dw(!0),Lw=Dw(!1),Sc=cs(null),jc=null,Oi=null,tm=null;function nm(){tm=Oi=jc=null}function rm(e){var t=Sc.current;Ee(Sc),e._currentValue=t}function vh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ki(e,t){jc=e,tm=Oi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(tm!==e)if(e={context:e,memoizedValue:t,next:null},Oi===null){if(jc===null)throw Error(M(308));Oi=e,jc.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return t}var Es=null;function sm(e){Es===null?Es=[e]:Es.push(e)}function Uw(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,sm(t)):(n.next=s.next,s.next=n),t.interleaved=n,sr(e,r)}function sr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _r=!1;function im(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,sr(e,n)}return s=r.interleaved,s===null?(t.next=t,sm(r)):(t.next=s.next,s.next=t),r.interleaved=t,sr(e,n)}function Zl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qf(e,n)}}function yg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kc(e,t,n,r){var s=e.updateQueue;_r=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(f=t,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Le({},h,f);break e;case 2:_r=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,a|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Qs|=a,e.lanes=a,e.memoizedState=h}}function vg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var rl={},An=cs(rl),ko=cs(rl),Co=cs(rl);function Ts(e){if(e===rl)throw Error(M(174));return e}function am(e,t){switch(je(Co,t),je(ko,e),je(An,rl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xd(t,e)}Ee(An),je(An,t)}function ha(){Ee(An),Ee(ko),Ee(Co)}function $w(e){Ts(Co.current);var t=Ts(An.current),n=Xd(t,e.type);t!==n&&(je(ko,e),je(An,n))}function om(e){ko.current===e&&(Ee(An),Ee(ko))}var Ie=cs(0);function Cc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ad=[];function lm(){for(var e=0;e<ad.length;e++)ad[e]._workInProgressVersionPrimary=null;ad.length=0}var ec=ur.ReactCurrentDispatcher,od=ur.ReactCurrentBatchConfig,Ys=0,De=null,Xe=null,rt=null,Nc=!1,eo=!1,No=0,Aj=0;function dt(){throw Error(M(321))}function cm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function um(e,t,n,r,s,i){if(Ys=i,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ec.current=e===null||e.memoizedState===null?zj:Mj,e=n(r,s),eo){i=0;do{if(eo=!1,No=0,25<=i)throw Error(M(301));i+=1,rt=Xe=null,t.updateQueue=null,ec.current=Dj,e=n(r,s)}while(eo)}if(ec.current=Ec,t=Xe!==null&&Xe.next!==null,Ys=0,rt=Xe=De=null,Nc=!1,t)throw Error(M(300));return e}function dm(){var e=No!==0;return No=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?De.memoizedState=rt=e:rt=rt.next=e,rt}function rn(){if(Xe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=rt===null?De.memoizedState:rt.next;if(t!==null)rt=t,Xe=e;else{if(e===null)throw Error(M(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?De.memoizedState=rt=e:rt=rt.next=e}return rt}function Eo(e,t){return typeof t=="function"?t(e):t}function ld(e){var t=rn(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Ys&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,De.lanes|=d,Qs|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,bn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,De.lanes|=i,Qs|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cd(e){var t=rn(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);bn(i,t.memoizedState)||(At=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Bw(){}function Vw(e,t){var n=De,r=rn(),s=t(),i=!bn(r.memoizedState,s);if(i&&(r.memoizedState=s,At=!0),r=r.queue,hm(Kw.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,To(9,Ww.bind(null,n,r,s,t),void 0,null),st===null)throw Error(M(349));Ys&30||qw(n,t,s)}return s}function qw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ww(e,t,n,r){t.value=n,t.getSnapshot=r,Hw(t)&&Gw(e)}function Kw(e,t,n){return n(function(){Hw(t)&&Gw(e)})}function Hw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function Gw(e){var t=sr(e,1);t!==null&&xn(t,e,1,-1)}function wg(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ij.bind(null,De,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yw(){return rn().memoizedState}function tc(e,t,n,r){var s=kn();De.flags|=e,s.memoizedState=To(1|t,n,void 0,r===void 0?null:r)}function ou(e,t,n,r){var s=rn();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var a=Xe.memoizedState;if(i=a.destroy,r!==null&&cm(r,a.deps)){s.memoizedState=To(t,n,i,r);return}}De.flags|=e,s.memoizedState=To(1|t,n,i,r)}function xg(e,t){return tc(8390656,8,e,t)}function hm(e,t){return ou(2048,8,e,t)}function Qw(e,t){return ou(4,2,e,t)}function Jw(e,t){return ou(4,4,e,t)}function Xw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zw(e,t,n){return n=n!=null?n.concat([e]):null,ou(4,4,Xw.bind(null,t,e),n)}function fm(){}function ex(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tx(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nx(e,t,n){return Ys&21?(bn(n,t)||(n=ow(),De.lanes|=n,Qs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function Rj(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=od.transition;od.transition={};try{e(!1),t()}finally{be=n,od.transition=r}}function rx(){return rn().memoizedState}function Oj(e,t,n){var r=Gr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sx(e))ix(t,n);else if(n=Uw(e,t,n,r),n!==null){var s=St();xn(n,e,r,s),ax(n,t,r)}}function Ij(e,t,n){var r=Gr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sx(e))ix(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,bn(l,a)){var c=t.interleaved;c===null?(s.next=s,sm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Uw(e,t,s,r),n!==null&&(s=St(),xn(n,e,r,s),ax(n,t,r))}}function sx(e){var t=e.alternate;return e===De||t!==null&&t===De}function ix(e,t){eo=Nc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ax(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qf(e,n)}}var Ec={readContext:nn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},zj={readContext:nn,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:xg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tc(4194308,4,Xw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tc(4194308,4,e,t)},useInsertionEffect:function(e,t){return tc(4,2,e,t)},useMemo:function(e,t){var n=kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Oj.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:wg,useDebugValue:fm,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=wg(!1),t=e[0];return e=Rj.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,s=kn();if(Re){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),st===null)throw Error(M(349));Ys&30||qw(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,xg(Kw.bind(null,r,i,e),[e]),r.flags|=2048,To(9,Ww.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kn(),t=st.identifierPrefix;if(Re){var n=Qn,r=Yn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=No++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Aj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mj={readContext:nn,useCallback:ex,useContext:nn,useEffect:hm,useImperativeHandle:Zw,useInsertionEffect:Qw,useLayoutEffect:Jw,useMemo:tx,useReducer:ld,useRef:Yw,useState:function(){return ld(Eo)},useDebugValue:fm,useDeferredValue:function(e){var t=rn();return nx(t,Xe.memoizedState,e)},useTransition:function(){var e=ld(Eo)[0],t=rn().memoizedState;return[e,t]},useMutableSource:Bw,useSyncExternalStore:Vw,useId:rx,unstable_isNewReconciler:!1},Dj={readContext:nn,useCallback:ex,useContext:nn,useEffect:hm,useImperativeHandle:Zw,useInsertionEffect:Qw,useLayoutEffect:Jw,useMemo:tx,useReducer:cd,useRef:Yw,useState:function(){return cd(Eo)},useDebugValue:fm,useDeferredValue:function(e){var t=rn();return Xe===null?t.memoizedState=e:nx(t,Xe.memoizedState,e)},useTransition:function(){var e=cd(Eo)[0],t=rn().memoizedState;return[e,t]},useMutableSource:Bw,useSyncExternalStore:Vw,useId:rx,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lu={isMounted:function(e){return(e=e._reactInternals)?ri(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),s=Gr(e),i=Xn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Kr(e,i,s),t!==null&&(xn(t,e,s,r),Zl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),s=Gr(e),i=Xn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Kr(e,i,s),t!==null&&(xn(t,e,s,r),Zl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=Gr(e),s=Xn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Kr(e,s,r),t!==null&&(xn(t,e,r,n),Zl(t,e,r))}};function bg(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!bo(n,r)||!bo(s,i):!0}function ox(e,t,n){var r=!1,s=ss,i=t.contextType;return typeof i=="object"&&i!==null?i=nn(i):(s=Ot(t)?Hs:gt.current,r=t.contextTypes,i=(r=r!=null)?ca(e,s):ss),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _g(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lu.enqueueReplaceState(t,t.state,null)}function xh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},im(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nn(i):(i=Ot(t)?Hs:gt.current,s.context=ca(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wh(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&lu.enqueueReplaceState(s,s.state,null),kc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fa(e,t){try{var n="",r=t;do n+=dS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ud(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Lj=typeof WeakMap=="function"?WeakMap:Map;function lx(e,t,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pc||(Pc=!0,Ah=r),bh(e,t)},n}function cx(e,t,n){n=Xn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){bh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bh(e,t),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Sg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Xj.bind(null,e,t,n),t.then(e,e))}function jg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xn(-1,1),t.tag=2,Kr(n,t,1))),n.lanes|=1),e)}var Uj=ur.ReactCurrentOwner,At=!1;function bt(e,t,n,r){t.child=e===null?Lw(t,null,n,r):da(t,e.child,n,r)}function Cg(e,t,n,r,s){n=n.render;var i=t.ref;return Ki(t,s),r=um(e,t,n,r,i,s),n=dm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ir(e,t,s)):(Re&&n&&Xf(t),t.flags|=1,bt(e,t,r,s),t.child)}function Ng(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!bm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ux(e,t,i,r,s)):(e=ic(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:bo,n(a,r)&&e.ref===t.ref)return ir(e,t,s)}return t.flags|=1,e=Yr(i,r),e.ref=t.ref,e.return=t,t.child=e}function ux(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(bo(i,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,ir(e,t,s)}return _h(e,t,n,r,s)}function dx(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(zi,Lt),Lt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(zi,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(zi,Lt),Lt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,je(zi,Lt),Lt|=r;return bt(e,t,s,n),t.child}function hx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _h(e,t,n,r,s){var i=Ot(n)?Hs:gt.current;return i=ca(t,i),Ki(t,s),n=um(e,t,n,r,i,s),r=dm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ir(e,t,s)):(Re&&r&&Xf(t),t.flags|=1,bt(e,t,n,s),t.child)}function Eg(e,t,n,r,s){if(Ot(n)){var i=!0;xc(t)}else i=!1;if(Ki(t,s),t.stateNode===null)nc(e,t),ox(t,n,r),xh(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Ot(n)?Hs:gt.current,u=ca(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&_g(t,a,r,u),_r=!1;var f=t.memoizedState;a.state=f,kc(t,r,a,s),c=t.memoizedState,l!==r||f!==c||Rt.current||_r?(typeof d=="function"&&(wh(t,n,d,r),c=t.memoizedState),(l=_r||bg(t,n,l,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:hn(t.type,l),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=nn(c):(c=Ot(n)?Hs:gt.current,c=ca(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||f!==c)&&_g(t,a,r,c),_r=!1,f=t.memoizedState,a.state=f,kc(t,r,a,s);var v=t.memoizedState;l!==h||f!==v||Rt.current||_r?(typeof m=="function"&&(wh(t,n,m,r),v=t.memoizedState),(u=_r||bg(t,n,u,r,f,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Sh(e,t,n,r,i,s)}function Sh(e,t,n,r,s,i){hx(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&fg(t,n,!1),ir(e,t,i);r=t.stateNode,Uj.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=da(t,e.child,null,i),t.child=da(t,null,l,i)):bt(e,t,l,i),t.memoizedState=r.state,s&&fg(t,n,!0),t.child}function fx(e){var t=e.stateNode;t.pendingContext?hg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hg(e,t.context,!1),am(e,t.containerInfo)}function Tg(e,t,n,r,s){return ua(),em(s),t.flags|=256,bt(e,t,n,r),t.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function kh(e){return{baseLanes:e,cachePool:null,transitions:null}}function mx(e,t,n){var r=t.pendingProps,s=Ie.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Ie,s&1),e===null)return yh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=du(a,r,0,null),e=Vs(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kh(n),t.memoizedState=jh,e):mm(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Fj(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Yr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yr(l,i):(i=Vs(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?kh(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=jh,r}return i=e.child,e=i.sibling,r=Yr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mm(e,t){return t=du({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,n,r){return r!==null&&em(r),da(t,e.child,null,n),e=mm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fj(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=ud(Error(M(422))),Ol(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=du({mode:"visible",children:r.children},s,0,null),i=Vs(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&da(t,e.child,null,a),t.child.memoizedState=kh(a),t.memoizedState=jh,i);if(!(t.mode&1))return Ol(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(M(419)),r=ud(i,r,void 0),Ol(e,t,a,r)}if(l=(a&e.childLanes)!==0,At||l){if(r=st,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sr(e,s),xn(r,e,s,-1))}return xm(),r=ud(Error(M(421))),Ol(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zj.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$t=Wr(s.nextSibling),Bt=t,Re=!0,vn=null,e!==null&&(Xt[Zt++]=Yn,Xt[Zt++]=Qn,Xt[Zt++]=Gs,Yn=e.id,Qn=e.overflow,Gs=t),t=mm(t,r.children),t.flags|=4096,t)}function Pg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vh(e.return,t,n)}function dd(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function px(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(bt(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pg(e,n,t);else if(e.tag===19)Pg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Cc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),dd(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Cc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}dd(t,!0,n,null,i);break;case"together":dd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Yr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $j(e,t,n){switch(t.tag){case 3:fx(t),ua();break;case 5:$w(t);break;case 1:Ot(t.type)&&xc(t);break;case 4:am(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;je(Sc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?mx(e,t,n):(je(Ie,Ie.current&1),e=ir(e,t,n),e!==null?e.sibling:null);je(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return px(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,dx(e,t,n)}return ir(e,t,n)}var gx,Ch,yx,vx;gx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ch=function(){};yx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ts(An.current);var i=null;switch(n){case"input":s=Gd(e,s),r=Gd(e,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=Jd(e,s),r=Jd(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vc)}Zd(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};vx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Oa(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bj(e,t,n){var r=t.pendingProps;switch(Zf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Ot(t.type)&&wc(),ht(t),null;case 3:return r=t.stateNode,ha(),Ee(Rt),Ee(gt),lm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Al(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(Ih(vn),vn=null))),Ch(e,t),ht(t),null;case 5:om(t);var s=Ts(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)yx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return ht(t),null}if(e=Ts(An.current),Al(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Tn]=t,r[jo]=i,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(s=0;s<qa.length;s++)Ne(qa[s],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Up(r,i),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ne("invalid",r);break;case"textarea":$p(r,i),Ne("invalid",r)}Zd(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Pl(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Pl(r.textContent,l,e),s=["children",""+l]):mo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ne("scroll",r)}switch(n){case"input":_l(r),Fp(r,i,!0);break;case"textarea":_l(r),Bp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Tn]=t,e[jo]=r,gx(e,t,!1,!1),t.stateNode=e;e:{switch(a=eh(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),s=r;break;case"iframe":case"object":case"embed":Ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<qa.length;s++)Ne(qa[s],e);s=r;break;case"source":Ne("error",e),s=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=r;break;case"details":Ne("toggle",e),s=r;break;case"input":Up(e,r),s=Gd(e,r),Ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":$p(e,r),s=Jd(e,r),Ne("invalid",e);break;default:s=r}Zd(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Yv(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Hv(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&po(e,c):typeof c=="number"&&po(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ne("scroll",e):c!=null&&Lf(e,i,c,a))}switch(n){case"input":_l(e),Fp(e,r,!1);break;case"textarea":_l(e),Bp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+rs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Bi(e,!!r.multiple,i,!1):r.defaultValue!=null&&Bi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=vc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)vx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Ts(Co.current),Ts(An.current),Al(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tn]=t,(i=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:Pl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=t,t.stateNode=r}return ht(t),null;case 13:if(Ee(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&$t!==null&&t.mode&1&&!(t.flags&128))Mw(),ua(),t.flags|=98560,i=!1;else if(i=Al(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Tn]=t}else ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),i=!1}else vn!==null&&(Ih(vn),vn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?tt===0&&(tt=3):xm())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return ha(),Ch(e,t),e===null&&_o(t.stateNode.containerInfo),ht(t),null;case 10:return rm(t.type._context),ht(t),null;case 17:return Ot(t.type)&&wc(),ht(t),null;case 19:if(Ee(Ie),i=t.memoizedState,i===null)return ht(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Oa(i,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Cc(e),a!==null){for(t.flags|=128,Oa(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&qe()>ma&&(t.flags|=128,r=!0,Oa(i,!1),t.lanes=4194304)}else{if(!r)if(e=Cc(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Oa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Re)return ht(t),null}else 2*qe()-i.renderingStartTime>ma&&n!==1073741824&&(t.flags|=128,r=!0,Oa(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,n=Ie.current,je(Ie,r?n&1|2:n&1),t):(ht(t),null);case 22:case 23:return wm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lt&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Vj(e,t){switch(Zf(t),t.tag){case 1:return Ot(t.type)&&wc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ha(),Ee(Rt),Ee(gt),lm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return om(t),null;case 13:if(Ee(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Ie),null;case 4:return ha(),null;case 10:return rm(t.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var Il=!1,pt=!1,qj=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ii(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function Nh(e,t,n){try{n()}catch(r){$e(e,t,r)}}var Ag=!1;function Wj(e,t){if(uh=pc,e=Sw(),Jf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=a),f===i&&++d===r&&(c=a),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dh={focusedElem:e,selectionRange:n},pc=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:hn(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(x){$e(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return v=Ag,Ag=!1,v}function to(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nh(t,n,i)}s=s.next}while(s!==r)}}function cu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Eh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wx(e){var t=e.alternate;t!==null&&(e.alternate=null,wx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tn],delete t[jo],delete t[mh],delete t[Nj],delete t[Ej])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xx(e){return e.tag===5||e.tag===3||e.tag===4}function Rg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Th(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vc));else if(r!==4&&(e=e.child,e!==null))for(Th(e,t,n),e=e.sibling;e!==null;)Th(e,t,n),e=e.sibling}function Ph(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ph(e,t,n),e=e.sibling;e!==null;)Ph(e,t,n),e=e.sibling}var ot=null,gn=!1;function pr(e,t,n){for(n=n.child;n!==null;)bx(e,t,n),n=n.sibling}function bx(e,t,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(tu,n)}catch{}switch(n.tag){case 5:pt||Ii(n,t);case 6:var r=ot,s=gn;ot=null,pr(e,t,n),ot=r,gn=s,ot!==null&&(gn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(gn?(e=ot,n=n.stateNode,e.nodeType===8?sd(e.parentNode,n):e.nodeType===1&&sd(e,n),wo(e)):sd(ot,n.stateNode));break;case 4:r=ot,s=gn,ot=n.stateNode.containerInfo,gn=!0,pr(e,t,n),ot=r,gn=s;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Nh(n,t,a),s=s.next}while(s!==r)}pr(e,t,n);break;case 1:if(!pt&&(Ii(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){$e(n,t,l)}pr(e,t,n);break;case 21:pr(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,pr(e,t,n),pt=r):pr(e,t,n);break;default:pr(e,t,n)}}function Og(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qj),t.forEach(function(r){var s=ek.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,gn=!1;break e;case 3:ot=l.stateNode.containerInfo,gn=!0;break e;case 4:ot=l.stateNode.containerInfo,gn=!0;break e}l=l.return}if(ot===null)throw Error(M(160));bx(i,a,s),ot=null,gn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_x(t,e),t=t.sibling}function _x(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),Sn(e),r&4){try{to(3,e,e.return),cu(3,e)}catch(w){$e(e,e.return,w)}try{to(5,e,e.return)}catch(w){$e(e,e.return,w)}}break;case 1:cn(t,e),Sn(e),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(cn(t,e),Sn(e),r&512&&n!==null&&Ii(n,n.return),e.flags&32){var s=e.stateNode;try{po(s,"")}catch(w){$e(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qv(s,i),eh(l,a);var u=eh(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Yv(s,h):d==="dangerouslySetInnerHTML"?Hv(s,h):d==="children"?po(s,h):Lf(s,d,h,u)}switch(l){case"input":Yd(s,i);break;case"textarea":Wv(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Bi(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Bi(s,!!i.multiple,i.defaultValue,!0):Bi(s,!!i.multiple,i.multiple?[]:"",!1))}s[jo]=i}catch(w){$e(e,e.return,w)}}break;case 6:if(cn(t,e),Sn(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){$e(e,e.return,w)}}break;case 3:if(cn(t,e),Sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(w){$e(e,e.return,w)}break;case 4:cn(t,e),Sn(e);break;case 13:cn(t,e),Sn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ym=qe())),r&4&&Og(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(u=pt)||d,cn(t,e),pt=u):cn(t,e),Sn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(h=H=d;H!==null;){switch(f=H,m=f.child,f.tag){case 0:case 11:case 14:case 15:to(4,f,f.return);break;case 1:Ii(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){$e(r,n,w)}}break;case 5:Ii(f,f.return);break;case 22:if(f.memoizedState!==null){zg(h);continue}}m!==null?(m.return=f,H=m):zg(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Gv("display",a))}catch(w){$e(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){$e(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cn(t,e),Sn(e),r&4&&Og(e);break;case 21:break;default:cn(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xx(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(po(s,""),r.flags&=-33);var i=Rg(e);Ph(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Rg(e);Th(e,l,a);break;default:throw Error(M(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kj(e,t,n){H=e,Sx(e)}function Sx(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Il;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pt;l=Il;var u=pt;if(Il=a,(pt=c)&&!u)for(H=s;H!==null;)a=H,c=a.child,a.tag===22&&a.memoizedState!==null?Mg(s):c!==null?(c.return=a,H=c):Mg(s);for(;i!==null;)H=i,Sx(i),i=i.sibling;H=s,Il=l,pt=u}Ig(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Ig(e)}}function Ig(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||cu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:hn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vg(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vg(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&wo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}pt||t.flags&512&&Eh(t)}catch(f){$e(t,t.return,f)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function zg(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Mg(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cu(4,t)}catch(c){$e(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){$e(t,s,c)}}var i=t.return;try{Eh(t)}catch(c){$e(t,i,c)}break;case 5:var a=t.return;try{Eh(t)}catch(c){$e(t,a,c)}}}catch(c){$e(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var Hj=Math.ceil,Tc=ur.ReactCurrentDispatcher,pm=ur.ReactCurrentOwner,tn=ur.ReactCurrentBatchConfig,pe=0,st=null,Ye=null,lt=0,Lt=0,zi=cs(0),tt=0,Po=null,Qs=0,uu=0,gm=0,no=null,Pt=null,ym=0,ma=1/0,$n=null,Pc=!1,Ah=null,Hr=null,zl=!1,Fr=null,Ac=0,ro=0,Rh=null,rc=-1,sc=0;function St(){return pe&6?qe():rc!==-1?rc:rc=qe()}function Gr(e){return e.mode&1?pe&2&&lt!==0?lt&-lt:Pj.transition!==null?(sc===0&&(sc=ow()),sc):(e=be,e!==0||(e=window.event,e=e===void 0?16:mw(e.type)),e):1}function xn(e,t,n,r){if(50<ro)throw ro=0,Rh=null,Error(M(185));el(e,n,r),(!(pe&2)||e!==st)&&(e===st&&(!(pe&2)&&(uu|=n),tt===4&&Er(e,lt)),It(e,r),n===1&&pe===0&&!(t.mode&1)&&(ma=qe()+500,au&&us()))}function It(e,t){var n=e.callbackNode;PS(e,t);var r=mc(e,e===st?lt:0);if(r===0)n!==null&&Wp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wp(n),t===1)e.tag===0?Tj(Dg.bind(null,e)):Ow(Dg.bind(null,e)),kj(function(){!(pe&6)&&us()}),n=null;else{switch(lw(r)){case 1:n=Vf;break;case 4:n=iw;break;case 16:n=fc;break;case 536870912:n=aw;break;default:n=fc}n=Ax(n,jx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jx(e,t){if(rc=-1,sc=0,pe&6)throw Error(M(327));var n=e.callbackNode;if(Hi()&&e.callbackNode!==n)return null;var r=mc(e,e===st?lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Rc(e,r);else{t=r;var s=pe;pe|=2;var i=Cx();(st!==e||lt!==t)&&($n=null,ma=qe()+500,Bs(e,t));do try{Qj();break}catch(l){kx(e,l)}while(!0);nm(),Tc.current=i,pe=s,Ye!==null?t=0:(st=null,lt=0,t=tt)}if(t!==0){if(t===2&&(s=ih(e),s!==0&&(r=s,t=Oh(e,s))),t===1)throw n=Po,Bs(e,0),Er(e,r),It(e,qe()),n;if(t===6)Er(e,r);else{if(s=e.current.alternate,!(r&30)&&!Gj(s)&&(t=Rc(e,r),t===2&&(i=ih(e),i!==0&&(r=i,t=Oh(e,i))),t===1))throw n=Po,Bs(e,0),Er(e,r),It(e,qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:ws(e,Pt,$n);break;case 3:if(Er(e,r),(r&130023424)===r&&(t=ym+500-qe(),10<t)){if(mc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=fh(ws.bind(null,e,Pt,$n),t);break}ws(e,Pt,$n);break;case 4:if(Er(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-wn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hj(r/1960))-r,10<r){e.timeoutHandle=fh(ws.bind(null,e,Pt,$n),r);break}ws(e,Pt,$n);break;case 5:ws(e,Pt,$n);break;default:throw Error(M(329))}}}return It(e,qe()),e.callbackNode===n?jx.bind(null,e):null}function Oh(e,t){var n=no;return e.current.memoizedState.isDehydrated&&(Bs(e,t).flags|=256),e=Rc(e,t),e!==2&&(t=Pt,Pt=n,t!==null&&Ih(t)),e}function Ih(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function Gj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~gm,t&=~uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function Dg(e){if(pe&6)throw Error(M(327));Hi();var t=mc(e,0);if(!(t&1))return It(e,qe()),null;var n=Rc(e,t);if(e.tag!==0&&n===2){var r=ih(e);r!==0&&(t=r,n=Oh(e,r))}if(n===1)throw n=Po,Bs(e,0),Er(e,t),It(e,qe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ws(e,Pt,$n),It(e,qe()),null}function vm(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(ma=qe()+500,au&&us())}}function Js(e){Fr!==null&&Fr.tag===0&&!(pe&6)&&Hi();var t=pe;pe|=1;var n=tn.transition,r=be;try{if(tn.transition=null,be=1,e)return e()}finally{be=r,tn.transition=n,pe=t,!(pe&6)&&us()}}function wm(){Lt=zi.current,Ee(zi)}function Bs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jj(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Zf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wc();break;case 3:ha(),Ee(Rt),Ee(gt),lm();break;case 5:om(r);break;case 4:ha();break;case 13:Ee(Ie);break;case 19:Ee(Ie);break;case 10:rm(r.type._context);break;case 22:case 23:wm()}n=n.return}if(st=e,Ye=e=Yr(e.current,null),lt=Lt=t,tt=0,Po=null,gm=uu=Qs=0,Pt=no=null,Es!==null){for(t=0;t<Es.length;t++)if(n=Es[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Es=null}return e}function kx(e,t){do{var n=Ye;try{if(nm(),ec.current=Ec,Nc){for(var r=De.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nc=!1}if(Ys=0,rt=Xe=De=null,eo=!1,No=0,pm.current=null,n===null||n.return===null){tt=1,Po=t,Ye=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=jg(a);if(m!==null){m.flags&=-257,kg(m,a,l,i,t),m.mode&1&&Sg(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){Sg(i,u,t),xm();break e}c=Error(M(426))}}else if(Re&&l.mode&1){var _=jg(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),kg(_,a,l,i,t),em(fa(c,l));break e}}i=c=fa(c,l),tt!==4&&(tt=2),no===null?no=[i]:no.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=lx(i,c,t);yg(i,g);break e;case 1:l=c;var y=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Hr===null||!Hr.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=cx(i,l,t);yg(i,x);break e}}i=i.return}while(i!==null)}Ex(n)}catch(S){t=S,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Cx(){var e=Tc.current;return Tc.current=Ec,e===null?Ec:e}function xm(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(Qs&268435455)&&!(uu&268435455)||Er(st,lt)}function Rc(e,t){var n=pe;pe|=2;var r=Cx();(st!==e||lt!==t)&&($n=null,Bs(e,t));do try{Yj();break}catch(s){kx(e,s)}while(!0);if(nm(),pe=n,Tc.current=r,Ye!==null)throw Error(M(261));return st=null,lt=0,tt}function Yj(){for(;Ye!==null;)Nx(Ye)}function Qj(){for(;Ye!==null&&!bS();)Nx(Ye)}function Nx(e){var t=Px(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?Ex(e):Ye=t,pm.current=null}function Ex(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vj(n,t),n!==null){n.flags&=32767,Ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Ye=null;return}}else if(n=Bj(n,t,Lt),n!==null){Ye=n;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);tt===0&&(tt=5)}function ws(e,t,n){var r=be,s=tn.transition;try{tn.transition=null,be=1,Jj(e,t,n,r)}finally{tn.transition=s,be=r}return null}function Jj(e,t,n,r){do Hi();while(Fr!==null);if(pe&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(AS(e,i),e===st&&(Ye=st=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zl||(zl=!0,Ax(fc,function(){return Hi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var a=be;be=1;var l=pe;pe|=4,pm.current=null,Wj(e,n),_x(n,e),yj(dh),pc=!!uh,dh=uh=null,e.current=n,Kj(n),_S(),pe=l,be=a,tn.transition=i}else e.current=n;if(zl&&(zl=!1,Fr=e,Ac=s),i=e.pendingLanes,i===0&&(Hr=null),kS(n.stateNode),It(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Pc)throw Pc=!1,e=Ah,Ah=null,e;return Ac&1&&e.tag!==0&&Hi(),i=e.pendingLanes,i&1?e===Rh?ro++:(ro=0,Rh=e):ro=0,us(),null}function Hi(){if(Fr!==null){var e=lw(Ac),t=tn.transition,n=be;try{if(tn.transition=null,be=16>e?16:e,Fr===null)var r=!1;else{if(e=Fr,Fr=null,Ac=0,pe&6)throw Error(M(331));var s=pe;for(pe|=4,H=e.current;H!==null;){var i=H,a=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:to(8,d,i)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var f=d.sibling,m=d.return;if(wx(d),d===u){H=null;break}if(f!==null){f.return=m,H=f;break}H=m}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}H=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,H=a;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,H=g;break e}H=i.return}}var y=e.current;for(H=y;H!==null;){a=H;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,H=p;else e:for(a=y;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cu(9,l)}}catch(S){$e(l,l.return,S)}if(l===a){H=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,H=x;break e}H=l.return}}if(pe=s,us(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(tu,e)}catch{}r=!0}return r}finally{be=n,tn.transition=t}}return!1}function Lg(e,t,n){t=fa(n,t),t=lx(e,t,1),e=Kr(e,t,1),t=St(),e!==null&&(el(e,1,t),It(e,t))}function $e(e,t,n){if(e.tag===3)Lg(e,e,n);else for(;t!==null;){if(t.tag===3){Lg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){e=fa(n,e),e=cx(t,e,1),t=Kr(t,e,1),e=St(),t!==null&&(el(t,1,e),It(t,e));break}}t=t.return}}function Xj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(lt&n)===n&&(tt===4||tt===3&&(lt&130023424)===lt&&500>qe()-ym?Bs(e,0):gm|=n),It(e,t)}function Tx(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var n=St();e=sr(e,t),e!==null&&(el(e,t,n),It(e,n))}function Zj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Tx(e,n)}function ek(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Tx(e,n)}var Px;Px=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,$j(e,t,n);At=!!(e.flags&131072)}else At=!1,Re&&t.flags&1048576&&Iw(t,_c,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nc(e,t),e=t.pendingProps;var s=ca(t,gt.current);Ki(t,n),s=um(null,t,r,e,s,n);var i=dm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(r)?(i=!0,xc(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,im(t),s.updater=lu,t.stateNode=s,s._reactInternals=t,xh(t,r,e,n),t=Sh(null,t,r,!0,i,n)):(t.tag=0,Re&&i&&Xf(t),bt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=nk(r),e=hn(r,e),s){case 0:t=_h(null,t,r,e,n);break e;case 1:t=Eg(null,t,r,e,n);break e;case 11:t=Cg(null,t,r,e,n);break e;case 14:t=Ng(null,t,r,hn(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),_h(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Eg(e,t,r,s,n);case 3:e:{if(fx(t),e===null)throw Error(M(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Fw(e,t),kc(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=fa(Error(M(423)),t),t=Tg(e,t,r,n,s);break e}else if(r!==s){s=fa(Error(M(424)),t),t=Tg(e,t,r,n,s);break e}else for($t=Wr(t.stateNode.containerInfo.firstChild),Bt=t,Re=!0,vn=null,n=Lw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===s){t=ir(e,t,n);break e}bt(e,t,r,n)}t=t.child}return t;case 5:return $w(t),e===null&&yh(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,hh(r,s)?a=null:i!==null&&hh(r,i)&&(t.flags|=32),hx(e,t),bt(e,t,a,n),t.child;case 6:return e===null&&yh(t),null;case 13:return mx(e,t,n);case 4:return am(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=da(t,null,r,n):bt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Cg(e,t,r,s,n);case 7:return bt(e,t,t.pendingProps,n),t.child;case 8:return bt(e,t,t.pendingProps.children,n),t.child;case 12:return bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,je(Sc,r._currentValue),r._currentValue=a,i!==null)if(bn(i.value,a)){if(i.children===s.children&&!Rt.current){t=ir(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Xn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),vh(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(M(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),vh(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}bt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ki(t,n),s=nn(s),r=r(s),t.flags|=1,bt(e,t,r,n),t.child;case 14:return r=t.type,s=hn(r,t.pendingProps),s=hn(r.type,s),Ng(e,t,r,s,n);case 15:return ux(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),nc(e,t),t.tag=1,Ot(r)?(e=!0,xc(t)):e=!1,Ki(t,n),ox(t,r,s),xh(t,r,s,n),Sh(null,t,r,!0,e,n);case 19:return px(e,t,n);case 22:return dx(e,t,n)}throw Error(M(156,t.tag))};function Ax(e,t){return sw(e,t)}function tk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new tk(e,t,n,r)}function bm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nk(e){if(typeof e=="function")return bm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ff)return 11;if(e===$f)return 14}return 2}function Yr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ic(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")bm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ki:return Vs(n.children,s,i,t);case Uf:a=8,s|=8;break;case qd:return e=en(12,n,t,s|2),e.elementType=qd,e.lanes=i,e;case Wd:return e=en(13,n,t,s),e.elementType=Wd,e.lanes=i,e;case Kd:return e=en(19,n,t,s),e.elementType=Kd,e.lanes=i,e;case $v:return du(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uv:a=10;break e;case Fv:a=9;break e;case Ff:a=11;break e;case $f:a=14;break e;case br:a=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=en(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Vs(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function du(e,t,n,r){return e=en(22,e,r,t),e.elementType=$v,e.lanes=n,e.stateNode={isHidden:!1},e}function hd(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function fd(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rk(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _m(e,t,n,r,s,i,a,l,c){return e=new rk(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=en(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},im(i),e}function sk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rx(e){if(!e)return ss;e=e._reactInternals;e:{if(ri(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ot(n))return Rw(e,n,t)}return t}function Ox(e,t,n,r,s,i,a,l,c){return e=_m(n,r,!0,e,s,i,a,l,c),e.context=Rx(null),n=e.current,r=St(),s=Gr(n),i=Xn(r,s),i.callback=t??null,Kr(n,i,s),e.current.lanes=s,el(e,s,r),It(e,r),e}function hu(e,t,n,r){var s=t.current,i=St(),a=Gr(s);return n=Rx(n),t.context===null?t.context=n:t.pendingContext=n,t=Xn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kr(s,t,a),e!==null&&(xn(e,s,a,i),Zl(e,s,a)),a}function Oc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sm(e,t){Ug(e,t),(e=e.alternate)&&Ug(e,t)}function ik(){return null}var Ix=typeof reportError=="function"?reportError:function(e){console.error(e)};function jm(e){this._internalRoot=e}fu.prototype.render=jm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));hu(e,t,null,null)};fu.prototype.unmount=jm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){hu(null,e,null,null)}),t[rr]=null}};function fu(e){this._internalRoot=e}fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=dw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nr.length&&t!==0&&t<Nr[n].priority;n++);Nr.splice(n,0,e),n===0&&fw(e)}};function km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fg(){}function ak(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Oc(a);i.call(u)}}var a=Ox(t,r,e,0,null,!1,!1,"",Fg);return e._reactRootContainer=a,e[rr]=a.current,_o(e.nodeType===8?e.parentNode:e),Js(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Oc(c);l.call(u)}}var c=_m(e,0,!1,null,null,!1,!1,"",Fg);return e._reactRootContainer=c,e[rr]=c.current,_o(e.nodeType===8?e.parentNode:e),Js(function(){hu(t,c,n,r)}),c}function pu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Oc(a);l.call(c)}}hu(t,a,e,s)}else a=ak(n,t,e,s,r);return Oc(a)}cw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Va(t.pendingLanes);n!==0&&(qf(t,n|1),It(t,qe()),!(pe&6)&&(ma=qe()+500,us()))}break;case 13:Js(function(){var r=sr(e,1);if(r!==null){var s=St();xn(r,e,1,s)}}),Sm(e,1)}};Wf=function(e){if(e.tag===13){var t=sr(e,134217728);if(t!==null){var n=St();xn(t,e,134217728,n)}Sm(e,134217728)}};uw=function(e){if(e.tag===13){var t=Gr(e),n=sr(e,t);if(n!==null){var r=St();xn(n,e,t,r)}Sm(e,t)}};dw=function(){return be};hw=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};nh=function(e,t,n){switch(t){case"input":if(Yd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=iu(r);if(!s)throw Error(M(90));Vv(r),Yd(r,s)}}}break;case"textarea":Wv(e,n);break;case"select":t=n.value,t!=null&&Bi(e,!!n.multiple,t,!1)}};Xv=vm;Zv=Js;var ok={usingClientEntryPoint:!1,Events:[nl,Ti,iu,Qv,Jv,vm]},Ia={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lk={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||ik,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{tu=Ml.inject(lk),Pn=Ml}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ok;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!km(t))throw Error(M(200));return sk(e,t,null,n)};Wt.createRoot=function(e,t){if(!km(e))throw Error(M(299));var n=!1,r="",s=Ix;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_m(e,1,!1,null,null,n,!1,r,s),e[rr]=t.current,_o(e.nodeType===8?e.parentNode:e),new jm(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=nw(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return Js(e)};Wt.hydrate=function(e,t,n){if(!mu(t))throw Error(M(200));return pu(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!km(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Ix;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Ox(t,null,e,1,n??null,s,!1,i,a),e[rr]=t.current,_o(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fu(t)};Wt.render=function(e,t,n){if(!mu(t))throw Error(M(200));return pu(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!mu(e))throw Error(M(40));return e._reactRootContainer?(Js(function(){pu(null,null,e,!1,function(){e._reactRootContainer=null,e[rr]=null})}),!0):!1};Wt.unstable_batchedUpdates=vm;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mu(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return pu(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function zx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zx)}catch(e){console.error(e)}}zx(),zv.exports=Wt;var Mx=zv.exports;const ck=Sv(Mx);var $g=Mx;Bd.createRoot=$g.createRoot,Bd.hydrateRoot=$g.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(this,arguments)}var $r;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($r||($r={}));const Bg="popstate";function uk(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return zh("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ic(s)}return hk(t,n,null,e)}function Qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dk(){return Math.random().toString(36).substr(2,8)}function Vg(e,t){return{usr:e.state,key:e.key,idx:t}}function zh(e,t,n,r){return n===void 0&&(n=null),Ao({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ba(t):t,{state:n,key:t&&t.key||r||dk()})}function Ic(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ba(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function hk(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=$r.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Ao({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=$r.Pop;let _=d(),g=_==null?null:_-u;u=_,c&&c({action:l,location:w.location,delta:g})}function f(_,g){l=$r.Push;let y=zh(w.location,_,g);u=d()+1;let p=Vg(y,u),x=w.createHref(y);try{a.pushState(p,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&c&&c({action:l,location:w.location,delta:1})}function m(_,g){l=$r.Replace;let y=zh(w.location,_,g);u=d();let p=Vg(y,u),x=w.createHref(y);a.replaceState(p,"",x),i&&c&&c({action:l,location:w.location,delta:0})}function v(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:Ic(_);return y=y.replace(/ $/,"%20"),Qe(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let w={get action(){return l},get location(){return e(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Bg,h),c=_,()=>{s.removeEventListener(Bg,h),c=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(_){return a.go(_)}};return w}var qg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qg||(qg={}));function fk(e,t,n){return n===void 0&&(n="/"),mk(e,t,n)}function mk(e,t,n,r){let s=typeof t=="string"?ba(t):t,i=Nm(s.pathname||"/",n);if(i==null)return null;let a=Dx(e);pk(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Nk(i);l=jk(a[c],u)}return l}function Dx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Qe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Qr([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Dx(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:_k(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of Lx(i.path))s(i,a,c)}),t}function Lx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Lx(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Sk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gk=/^:[\w-]+$/,yk=3,vk=2,wk=1,xk=10,bk=-2,Wg=e=>e==="*";function _k(e,t){let n=e.split("/"),r=n.length;return n.some(Wg)&&(r+=bk),t&&(r+=vk),n.filter(s=>!Wg(s)).reduce((s,i)=>s+(gk.test(i)?yk:i===""?wk:xk),r)}function Sk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function jk(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=kk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Qr([i,h.pathname]),pathnameBase:Rk(Qr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Qr([i,h.pathnameBase]))}return a}function kk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ck(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=l[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Ck(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Cm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Nk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Nm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tk=e=>Ek.test(e);function Pk(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ba(e):e,i;if(n)if(Tk(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Cm(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Kg(n.substring(1),"/"):i=Kg(n,t)}else i=t;return{pathname:i,search:Ok(r),hash:Ik(s)}}function Kg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function md(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ak(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ux(e,t){let n=Ak(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Fx(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ba(e):(s=Ao({},e),Qe(!s.pathname||!s.pathname.includes("?"),md("?","pathname","search",s)),Qe(!s.pathname||!s.pathname.includes("#"),md("#","pathname","hash",s)),Qe(!s.search||!s.search.includes("#"),md("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=Pk(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Qr=e=>e.join("/").replace(/\/\/+/g,"/"),Rk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ok=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ik=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $x=["post","put","patch","delete"];new Set($x);const Mk=["get",...$x];new Set(Mk);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(this,arguments)}const Em=b.createContext(null),Dk=b.createContext(null),si=b.createContext(null),gu=b.createContext(null),ii=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Bx=b.createContext(null);function Lk(e,t){let{relative:n}=t===void 0?{}:t;sl()||Qe(!1);let{basename:r,navigator:s}=b.useContext(si),{hash:i,pathname:a,search:l}=qx(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Qr([r,a])),s.createHref({pathname:c,search:l,hash:i})}function sl(){return b.useContext(gu)!=null}function il(){return sl()||Qe(!1),b.useContext(gu).location}function Vx(e){b.useContext(si).static||b.useLayoutEffect(e)}function _a(){let{isDataRoute:e}=b.useContext(ii);return e?Jk():Uk()}function Uk(){sl()||Qe(!1);let e=b.useContext(Em),{basename:t,future:n,navigator:r}=b.useContext(si),{matches:s}=b.useContext(ii),{pathname:i}=il(),a=JSON.stringify(Ux(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return Vx(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Fx(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}function qx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(si),{matches:s}=b.useContext(ii),{pathname:i}=il(),a=JSON.stringify(Ux(s,r.v7_relativeSplatPath));return b.useMemo(()=>Fx(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function Fk(e,t){return $k(e,t)}function $k(e,t,n,r){sl()||Qe(!1);let{navigator:s}=b.useContext(si),{matches:i}=b.useContext(ii),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=il(),d;if(t){var h;let _=typeof t=="string"?ba(t):t;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||Qe(!1),d=_}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let _=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=fk(e,{pathname:m}),w=Kk(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Qr([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Qr([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return t&&w?b.createElement(gu.Provider,{value:{location:Ro({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$r.Pop}},w):w}function Bk(){let e=Qk(),t=zk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const Vk=b.createElement(Bk,null);class qk extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(ii.Provider,{value:this.props.routeContext},b.createElement(Bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wk(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Em);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ii.Provider,{value:t},r)}function Kk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Qe(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let m,v=!1,w=null,_=null;n&&(m=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||Vk,c&&(u<0&&f===0?(Xk("route-fallback"),v=!0,_=null):u===f&&(v=!0,_=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),y=()=>{let p;return m?p=w:v?p=_:h.route.Component?p=b.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,b.createElement(Wk,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(qk,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Wx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wx||{}),Kx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kx||{});function Hk(e){let t=b.useContext(Em);return t||Qe(!1),t}function Gk(e){let t=b.useContext(Dk);return t||Qe(!1),t}function Yk(e){let t=b.useContext(ii);return t||Qe(!1),t}function Hx(e){let t=Yk(),n=t.matches[t.matches.length-1];return n.route.id||Qe(!1),n.route.id}function Qk(){var e;let t=b.useContext(Bx),n=Gk(),r=Hx();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Jk(){let{router:e}=Hk(Wx.UseNavigateStable),t=Hx(Kx.UseNavigateStable),n=b.useRef(!1);return Vx(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ro({fromRouteId:t},i)))},[e,t])}const Hg={};function Xk(e,t,n){Hg[e]||(Hg[e]=!0)}function Zk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ft(e){Qe(!1)}function eC(e){let{basename:t="/",children:n=null,location:r,navigationType:s=$r.Pop,navigator:i,static:a=!1,future:l}=e;sl()&&Qe(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:a,future:Ro({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=ba(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,w=b.useMemo(()=>{let _=Nm(d,c);return _==null?null:{location:{pathname:_,search:h,hash:f,state:m,key:v},navigationType:s}},[c,d,h,f,m,v,s]);return w==null?null:b.createElement(si.Provider,{value:u},b.createElement(gu.Provider,{children:n,value:w}))}function Gg(e){let{children:t,location:n}=e;return Fk(Mh(t),n)}new Promise(()=>{});function Mh(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let i=[...t,s];if(r.type===b.Fragment){n.push.apply(n,Mh(r.props.children,i));return}r.type!==ft&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Mh(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(this,arguments)}function tC(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function nC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rC(e,t){return e.button===0&&(!t||t==="_self")&&!nC(e)}const sC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iC="6";try{window.__reactRouterVersion=iC}catch{}const aC="startTransition",Yg=X_[aC];function oC(e){let{basename:t,children:n,future:r,window:s}=e,i=b.useRef();i.current==null&&(i.current=uk({window:s,v5Compat:!0}));let a=i.current,[l,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&Yg?Yg(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>Zk(r),[r]),b.createElement(eC,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const lC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=tC(t,sC),{basename:m}=b.useContext(si),v,w=!1;if(typeof u=="string"&&cC.test(u)&&(v=u,lC))try{let p=new URL(window.location.href),x=u.startsWith("//")?new URL(p.protocol+u):new URL(u),S=Nm(x.pathname,m);x.origin===p.origin&&S!=null?u=S+x.search+x.hash:w=!0}catch{}let _=Lk(u,{relative:s}),g=uC(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(p){r&&r(p),p.defaultPrevented||g(p)}return b.createElement("a",Dh({},f,{href:v||_,onClick:w||i?r:y,ref:n,target:c}))});var Qg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qg||(Qg={}));var Jg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jg||(Jg={}));function uC(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=_a(),u=il(),d=qx(e,{relative:a});return b.useCallback(h=>{if(rC(h,n)){h.preventDefault();let f=r!==void 0?r:Ic(u)===Ic(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}var Sa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dC={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Pr,Af,hv,hC=(hv=class{constructor(){X(this,Pr,dC);X(this,Af,!1)}setTimeoutProvider(e){K(this,Pr,e)}setTimeout(e,t){return C(this,Pr).setTimeout(e,t)}clearTimeout(e){C(this,Pr).clearTimeout(e)}setInterval(e,t){return C(this,Pr).setInterval(e,t)}clearInterval(e){C(this,Pr).clearInterval(e)}},Pr=new WeakMap,Af=new WeakMap,hv),Ps=new hC;function fC(e){setTimeout(e,0)}var Xs=typeof window>"u"||"Deno"in globalThis;function _t(){}function mC(e,t){return typeof e=="function"?e(t):e}function Lh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Gx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jr(e,t){return typeof e=="function"?e(t):e}function Jt(e,t){return typeof e=="function"?e(t):e}function Xg(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Tm(a,t.options))return!1}else if(!Oo(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Zg(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Zs(t.options.mutationKey)!==Zs(i))return!1}else if(!Oo(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Tm(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zs)(e)}function Zs(e){return JSON.stringify(e,(t,n)=>Uh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Oo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Oo(e[n],t[n])):!1}var pC=Object.prototype.hasOwnProperty;function Yx(e,t){if(e===t)return e;const n=ey(e)&&ey(t);if(!n&&!(Uh(e)&&Uh(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u],h=e[d],f=t[d];if(h===f){l[d]=h,(n?u<s:pC.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const m=Yx(h,f);l[d]=m,m===h&&c++}return s===a&&c===s?e:l}function zc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ey(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Uh(e){if(!ty(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ty(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ty(e){return Object.prototype.toString.call(e)==="[object Object]"}function gC(e){return new Promise(t=>{Ps.setTimeout(t,e)})}function Fh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Yx(e,t):t}function yC(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function vC(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Pm=Symbol();function Qx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Pm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Jx(e,t){return typeof e=="function"?e(...t):!!e}var Os,Ar,Qi,fv,wC=(fv=class extends Sa{constructor(){super();X(this,Os);X(this,Ar);X(this,Qi);K(this,Qi,t=>{if(!Xs&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){C(this,Ar)||this.setEventListener(C(this,Qi))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ar))==null||t.call(this),K(this,Ar,void 0))}setEventListener(t){var n;K(this,Qi,t),(n=C(this,Ar))==null||n.call(this),K(this,Ar,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){C(this,Os)!==t&&(K(this,Os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof C(this,Os)=="boolean"?C(this,Os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Os=new WeakMap,Ar=new WeakMap,Qi=new WeakMap,fv),Am=new wC;function $h(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var xC=fC;function bC(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=xC;const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ze=bC(),Ji,Rr,Xi,mv,_C=(mv=class extends Sa{constructor(){super();X(this,Ji,!0);X(this,Rr);X(this,Xi);K(this,Xi,t=>{if(!Xs&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){C(this,Rr)||this.setEventListener(C(this,Xi))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Rr))==null||t.call(this),K(this,Rr,void 0))}setEventListener(t){var n;K(this,Xi,t),(n=C(this,Rr))==null||n.call(this),K(this,Rr,t(this.setOnline.bind(this)))}setOnline(t){C(this,Ji)!==t&&(K(this,Ji,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return C(this,Ji)}},Ji=new WeakMap,Rr=new WeakMap,Xi=new WeakMap,mv),Mc=new _C;function SC(e){return Math.min(1e3*2**e,3e4)}function Xx(e){return(e??"online")==="online"?Mc.isOnline():!0}var Bh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zx(e){let t=!1,n=0,r;const s=$h(),i=()=>s.status!=="pending",a=w=>{var _;if(!i()){const g=new Bh(w);f(g),(_=e.onCancel)==null||_.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Am.isFocused()&&(e.networkMode==="always"||Mc.isOnline())&&e.canRun(),d=()=>Xx(e.networkMode)&&e.canRun(),h=w=>{i()||(r==null||r(),s.resolve(w))},f=w=>{i()||(r==null||r(),s.reject(w))},m=()=>new Promise(w=>{var _;r=g=>{(i()||u())&&w(g)},(_=e.onPause)==null||_.call(e)}).then(()=>{var w;r=void 0,i()||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(i())return;let w;const _=n===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(g){w=Promise.reject(g)}Promise.resolve(w).then(h).catch(g=>{var j;if(i())return;const y=e.retry??(Xs?0:3),p=e.retryDelay??SC,x=typeof p=="function"?p(n,g):p,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(t||!S){f(g);return}n++,(j=e.onFail)==null||j.call(e,n,g),gC(x).then(()=>u()?void 0:m()).then(()=>{t?f(g):v()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),s)}}var Is,pv,eb=(pv=class{constructor(){X(this,Is)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lh(this.gcTime)&&K(this,Is,Ps.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xs?1/0:5*60*1e3))}clearGcTimeout(){C(this,Is)&&(Ps.clearTimeout(C(this,Is)),K(this,Is,void 0))}},Is=new WeakMap,pv),zs,Zi,Qt,Ms,nt,Go,Ds,mn,Fn,gv,jC=(gv=class extends eb{constructor(t){super();X(this,mn);X(this,zs);X(this,Zi);X(this,Qt);X(this,Ms);X(this,nt);X(this,Go);X(this,Ds);K(this,Ds,!1),K(this,Go,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,Ms,t.client),K(this,Qt,C(this,Ms).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,zs,ry(this.options)),this.state=t.state??C(this,zs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,nt))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,Go),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=ry(this.options);n.data!==void 0&&(this.setState(ny(n.data,n.dataUpdatedAt)),K(this,zs,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Qt).remove(this)}setData(t,n){const r=Fh(this.state.data,t,this.options);return ue(this,mn,Fn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ue(this,mn,Fn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=C(this,nt))==null?void 0:r.promise;return(s=C(this,nt))==null||s.cancel(t),n?n.then(_t).catch(_t):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,zs))}isActive(){return this.observers.some(t=>Jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Jr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Gx(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,nt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,nt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Qt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(C(this,nt)&&(C(this,Ds)?C(this,nt).cancel({revert:!0}):C(this,nt).cancelRetry()),this.scheduleGc()),C(this,Qt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,mn,Fn).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,h,f,m,v,w,_,g,y,p;if(this.state.fetchStatus!=="idle"&&((c=C(this,nt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(C(this,nt))return C(this,nt).continueRetry(),C(this,nt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(S=>S.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(K(this,Ds,!0),r.signal)})},i=()=>{const x=Qx(this.options,n),j=(()=>{const T={client:C(this,Ms),queryKey:this.queryKey,meta:this.meta};return s(T),T})();return K(this,Ds,!1),this.options.persister?this.options.persister(x,j,this):x(j)},l=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:C(this,Ms),state:this.state,fetchFn:i};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(l,this),K(this,Zi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ue(this,mn,Fn).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),K(this,nt,Zx({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof Bh&&x.revert&&this.setState({...C(this,Zi),fetchStatus:"idle"}),r.abort()},onFail:(x,S)=>{ue(this,mn,Fn).call(this,{type:"failed",failureCount:x,error:S})},onPause:()=>{ue(this,mn,Fn).call(this,{type:"pause"})},onContinue:()=>{ue(this,mn,Fn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await C(this,nt).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(m=(f=C(this,Qt).config).onSuccess)==null||m.call(f,x,this),(w=(v=C(this,Qt).config).onSettled)==null||w.call(v,x,this.state.error,this),x}catch(x){if(x instanceof Bh){if(x.silent)return C(this,nt).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw ue(this,mn,Fn).call(this,{type:"error",error:x}),(g=(_=C(this,Qt).config).onError)==null||g.call(_,x,this),(p=(y=C(this,Qt).config).onSettled)==null||p.call(y,this.state.data,x,this),x}finally{this.scheduleGc()}}},zs=new WeakMap,Zi=new WeakMap,Qt=new WeakMap,Ms=new WeakMap,nt=new WeakMap,Go=new WeakMap,Ds=new WeakMap,mn=new WeakSet,Fn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tb(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...ny(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,Zi,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),C(this,Qt).notify({query:this,type:"updated",action:t})})},gv);function tb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ny(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ry(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Nt,he,Yo,vt,Ls,ea,Wn,Or,Qo,ta,na,Us,Fs,Ir,ra,ve,Wa,Vh,qh,Wh,Kh,Hh,Gh,Yh,nb,yv,kC=(yv=class extends Sa{constructor(t,n){super();X(this,ve);X(this,Nt);X(this,he);X(this,Yo);X(this,vt);X(this,Ls);X(this,ea);X(this,Wn);X(this,Or);X(this,Qo);X(this,ta);X(this,na);X(this,Us);X(this,Fs);X(this,Ir);X(this,ra,new Set);this.options=n,K(this,Nt,t),K(this,Or,null),K(this,Wn,$h()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,he).addObserver(this),sy(C(this,he),this.options)?ue(this,ve,Wa).call(this):this.updateResult(),ue(this,ve,Kh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qh(C(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qh(C(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,ve,Hh).call(this),ue(this,ve,Gh).call(this),C(this,he).removeObserver(this)}setOptions(t){const n=this.options,r=C(this,he);if(this.options=C(this,Nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jt(this.options.enabled,C(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,ve,Yh).call(this),C(this,he).setOptions(this.options),n._defaulted&&!zc(this.options,n)&&C(this,Nt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,he),observer:this});const s=this.hasListeners();s&&iy(C(this,he),r,this.options,n)&&ue(this,ve,Wa).call(this),this.updateResult(),s&&(C(this,he)!==r||Jt(this.options.enabled,C(this,he))!==Jt(n.enabled,C(this,he))||Jr(this.options.staleTime,C(this,he))!==Jr(n.staleTime,C(this,he)))&&ue(this,ve,Vh).call(this);const i=ue(this,ve,qh).call(this);s&&(C(this,he)!==r||Jt(this.options.enabled,C(this,he))!==Jt(n.enabled,C(this,he))||i!==C(this,Ir))&&ue(this,ve,Wh).call(this,i)}getOptimisticResult(t){const n=C(this,Nt).getQueryCache().build(C(this,Nt),t),r=this.createResult(n,t);return NC(this,r)&&(K(this,vt,r),K(this,ea,this.options),K(this,Ls,C(this,he).state)),r}getCurrentResult(){return C(this,vt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,Wn).status==="pending"&&C(this,Wn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){C(this,ra).add(t)}getCurrentQuery(){return C(this,he)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=C(this,Nt).defaultQueryOptions(t),r=C(this,Nt).getQueryCache().build(C(this,Nt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ue(this,ve,Wa).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,vt)))}createResult(t,n){var k;const r=C(this,he),s=this.options,i=C(this,vt),a=C(this,Ls),l=C(this,ea),u=t!==r?t.state:C(this,Yo),{state:d}=t;let h={...d},f=!1,m;if(n._optimisticResults){const E=this.hasListeners(),z=!E&&sy(t,n),L=E&&iy(t,r,n,s);(z||L)&&(h={...h,...tb(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:_}=h;m=h.data;let g=!1;if(n.placeholderData!==void 0&&m===void 0&&_==="pending"){let E;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,g=!0):E=typeof n.placeholderData=="function"?n.placeholderData((k=C(this,na))==null?void 0:k.state.data,C(this,na)):n.placeholderData,E!==void 0&&(_="success",m=Fh(i==null?void 0:i.data,E,n),f=!0)}if(n.select&&m!==void 0&&!g)if(i&&m===(a==null?void 0:a.data)&&n.select===C(this,Qo))m=C(this,ta);else try{K(this,Qo,n.select),m=n.select(m),m=Fh(i==null?void 0:i.data,m,n),K(this,ta,m),K(this,Or,null)}catch(E){K(this,Or,E)}C(this,Or)&&(v=C(this,Or),m=C(this,ta),w=Date.now(),_="error");const y=h.fetchStatus==="fetching",p=_==="pending",x=_==="error",S=p&&y,j=m!==void 0,N={status:_,fetchStatus:h.fetchStatus,isPending:p,isSuccess:_==="success",isError:x,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!p,isLoadingError:x&&!j,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&j,isStale:Rm(t,n),refetch:this.refetch,promise:C(this,Wn),isEnabled:Jt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=J=>{N.status==="error"?J.reject(N.error):N.data!==void 0&&J.resolve(N.data)},z=()=>{const J=K(this,Wn,N.promise=$h());E(J)},L=C(this,Wn);switch(L.status){case"pending":t.queryHash===r.queryHash&&E(L);break;case"fulfilled":(N.status==="error"||N.data!==L.value)&&z();break;case"rejected":(N.status!=="error"||N.error!==L.reason)&&z();break}}return N}updateResult(){const t=C(this,vt),n=this.createResult(C(this,he),this.options);if(K(this,Ls,C(this,he).state),K(this,ea,this.options),C(this,Ls).data!==void 0&&K(this,na,C(this,he)),zc(n,t))return;K(this,vt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!C(this,ra).size)return!0;const a=new Set(i??C(this,ra));return this.options.throwOnError&&a.add("error"),Object.keys(C(this,vt)).some(l=>{const c=l;return C(this,vt)[c]!==t[c]&&a.has(c)})};ue(this,ve,nb).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,ve,Kh).call(this)}},Nt=new WeakMap,he=new WeakMap,Yo=new WeakMap,vt=new WeakMap,Ls=new WeakMap,ea=new WeakMap,Wn=new WeakMap,Or=new WeakMap,Qo=new WeakMap,ta=new WeakMap,na=new WeakMap,Us=new WeakMap,Fs=new WeakMap,Ir=new WeakMap,ra=new WeakMap,ve=new WeakSet,Wa=function(t){ue(this,ve,Yh).call(this);let n=C(this,he).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(_t)),n},Vh=function(){ue(this,ve,Hh).call(this);const t=Jr(this.options.staleTime,C(this,he));if(Xs||C(this,vt).isStale||!Lh(t))return;const r=Gx(C(this,vt).dataUpdatedAt,t)+1;K(this,Us,Ps.setTimeout(()=>{C(this,vt).isStale||this.updateResult()},r))},qh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,he)):this.options.refetchInterval)??!1},Wh=function(t){ue(this,ve,Gh).call(this),K(this,Ir,t),!(Xs||Jt(this.options.enabled,C(this,he))===!1||!Lh(C(this,Ir))||C(this,Ir)===0)&&K(this,Fs,Ps.setInterval(()=>{(this.options.refetchIntervalInBackground||Am.isFocused())&&ue(this,ve,Wa).call(this)},C(this,Ir)))},Kh=function(){ue(this,ve,Vh).call(this),ue(this,ve,Wh).call(this,ue(this,ve,qh).call(this))},Hh=function(){C(this,Us)&&(Ps.clearTimeout(C(this,Us)),K(this,Us,void 0))},Gh=function(){C(this,Fs)&&(Ps.clearInterval(C(this,Fs)),K(this,Fs,void 0))},Yh=function(){const t=C(this,Nt).getQueryCache().build(C(this,Nt),this.options);if(t===C(this,he))return;const n=C(this,he);K(this,he,t),K(this,Yo,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},nb=function(t){Ze.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(C(this,vt))}),C(this,Nt).getQueryCache().notify({query:C(this,he),type:"observerResultsUpdated"})})},yv);function CC(e,t){return Jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sy(e,t){return CC(e,t)||e.state.data!==void 0&&Qh(e,t,t.refetchOnMount)}function Qh(e,t,n){if(Jt(t.enabled,e)!==!1&&Jr(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Rm(e,t)}return!1}function iy(e,t,n,r){return(e!==t||Jt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Rm(e,n)}function Rm(e,t){return Jt(t.enabled,e)!==!1&&e.isStaleByTime(Jr(t.staleTime,e))}function NC(e,t){return!zc(e.getCurrentResult(),t)}function ay(e){return{onFetch:(t,n)=>{var d,h,f,m,v;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const _=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},g=Qx(t.options,t.fetchOptions),y=async(p,x,S)=>{if(w)return Promise.reject();if(x==null&&p.pages.length)return Promise.resolve(p);const T=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:x,direction:S?"backward":"forward",meta:t.options.meta};return _(z),z})(),N=await g(T),{maxPages:k}=t.options,E=S?vC:yC;return{pages:E(p.pages,N,k),pageParams:E(p.pageParams,x,k)}};if(s&&i.length){const p=s==="backward",x=p?EC:oy,S={pages:i,pageParams:a},j=x(r,S);l=await y(S,j,p)}else{const p=e??i.length;do{const x=c===0?a[0]??r.initialPageParam:oy(r,l);if(c>0&&x==null)break;l=await y(l,x),c++}while(c<p)}return l};t.options.persister?t.fetchFn=()=>{var w,_;return(_=(w=t.options).persister)==null?void 0:_.call(w,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function oy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function EC(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Jo,Cn,wt,$s,Nn,wr,vv,TC=(vv=class extends eb{constructor(t){super();X(this,Nn);X(this,Jo);X(this,Cn);X(this,wt);X(this,$s);K(this,Jo,t.client),this.mutationId=t.mutationId,K(this,wt,t.mutationCache),K(this,Cn,[]),this.state=t.state||rb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Cn).includes(t)||(C(this,Cn).push(t),this.clearGcTimeout(),C(this,wt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,Cn,C(this,Cn).filter(n=>n!==t)),this.scheduleGc(),C(this,wt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Cn).length||(this.state.status==="pending"?this.scheduleGc():C(this,wt).remove(this))}continue(){var t;return((t=C(this,$s))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,c,u,d,h,f,m,v,w,_,g,y,p,x,S,j,T,N,k;const n=()=>{ue(this,Nn,wr).call(this,{type:"continue"})},r={client:C(this,Jo),meta:this.options.meta,mutationKey:this.options.mutationKey};K(this,$s,Zx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,z)=>{ue(this,Nn,wr).call(this,{type:"failed",failureCount:E,error:z})},onPause:()=>{ue(this,Nn,wr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,wt).canRun(this)}));const s=this.state.status==="pending",i=!C(this,$s).canStart();try{if(s)n();else{ue(this,Nn,wr).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=C(this,wt).config).onMutate)==null?void 0:l.call(a,t,this,r));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));z!==this.state.context&&ue(this,Nn,wr).call(this,{type:"pending",context:z,variables:t,isPaused:i})}const E=await C(this,$s).start();return await((h=(d=C(this,wt).config).onSuccess)==null?void 0:h.call(d,E,t,this.state.context,this,r)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,E,t,this.state.context,r)),await((w=(v=C(this,wt).config).onSettled)==null?void 0:w.call(v,E,null,this.state.variables,this.state.context,this,r)),await((g=(_=this.options).onSettled)==null?void 0:g.call(_,E,null,t,this.state.context,r)),ue(this,Nn,wr).call(this,{type:"success",data:E}),E}catch(E){try{throw await((p=(y=C(this,wt).config).onError)==null?void 0:p.call(y,E,t,this.state.context,this,r)),await((S=(x=this.options).onError)==null?void 0:S.call(x,E,t,this.state.context,r)),await((T=(j=C(this,wt).config).onSettled)==null?void 0:T.call(j,void 0,E,this.state.variables,this.state.context,this,r)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,void 0,E,t,this.state.context,r)),E}finally{ue(this,Nn,wr).call(this,{type:"error",error:E})}}finally{C(this,wt).runNext(this)}}},Jo=new WeakMap,Cn=new WeakMap,wt=new WeakMap,$s=new WeakMap,Nn=new WeakSet,wr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ze.batch(()=>{C(this,Cn).forEach(r=>{r.onMutationUpdate(t)}),C(this,wt).notify({mutation:this,type:"updated",action:t})})},vv);function rb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kn,pn,Xo,wv,PC=(wv=class extends Sa{constructor(t={}){super();X(this,Kn);X(this,pn);X(this,Xo);this.config=t,K(this,Kn,new Set),K(this,pn,new Map),K(this,Xo,0)}build(t,n,r){const s=new TC({client:t,mutationCache:this,mutationId:++wl(this,Xo)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){C(this,Kn).add(t);const n=Dl(t);if(typeof n=="string"){const r=C(this,pn).get(n);r?r.push(t):C(this,pn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,Kn).delete(t)){const n=Dl(t);if(typeof n=="string"){const r=C(this,pn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&C(this,pn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Dl(t);if(typeof n=="string"){const r=C(this,pn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Dl(t);if(typeof n=="string"){const s=(r=C(this,pn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ze.batch(()=>{C(this,Kn).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,Kn).clear(),C(this,pn).clear()})}getAll(){return Array.from(C(this,Kn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zg(n,r))}findAll(t={}){return this.getAll().filter(n=>Zg(t,n))}notify(t){Ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ze.batch(()=>Promise.all(t.map(n=>n.continue().catch(_t))))}},Kn=new WeakMap,pn=new WeakMap,Xo=new WeakMap,wv);function Dl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Hn,zr,Et,Gn,tr,ac,Jh,xv,AC=(xv=class extends Sa{constructor(n,r){super();X(this,tr);X(this,Hn);X(this,zr);X(this,Et);X(this,Gn);K(this,Hn,n),this.setOptions(r),this.bindMethods(),ue(this,tr,ac).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=C(this,Hn).defaultMutationOptions(n),zc(this.options,r)||C(this,Hn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,Et),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Zs(r.mutationKey)!==Zs(this.options.mutationKey)?this.reset():((s=C(this,Et))==null?void 0:s.state.status)==="pending"&&C(this,Et).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=C(this,Et))==null||n.removeObserver(this)}onMutationUpdate(n){ue(this,tr,ac).call(this),ue(this,tr,Jh).call(this,n)}getCurrentResult(){return C(this,zr)}reset(){var n;(n=C(this,Et))==null||n.removeObserver(this),K(this,Et,void 0),ue(this,tr,ac).call(this),ue(this,tr,Jh).call(this)}mutate(n,r){var s;return K(this,Gn,r),(s=C(this,Et))==null||s.removeObserver(this),K(this,Et,C(this,Hn).getMutationCache().build(C(this,Hn),this.options)),C(this,Et).addObserver(this),C(this,Et).execute(n)}},Hn=new WeakMap,zr=new WeakMap,Et=new WeakMap,Gn=new WeakMap,tr=new WeakSet,ac=function(){var r;const n=((r=C(this,Et))==null?void 0:r.state)??rb();K(this,zr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Jh=function(n){Ze.batch(()=>{var r,s,i,a,l,c,u,d;if(C(this,Gn)&&this.hasListeners()){const h=C(this,zr).variables,f=C(this,zr).context,m={client:C(this,Hn),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=C(this,Gn)).onSuccess)==null||s.call(r,n.data,h,f,m),(a=(i=C(this,Gn)).onSettled)==null||a.call(i,n.data,null,h,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=C(this,Gn)).onError)==null||c.call(l,n.error,h,f,m),(d=(u=C(this,Gn)).onSettled)==null||d.call(u,void 0,n.error,h,f,m))}this.listeners.forEach(h=>{h(C(this,zr))})})},xv),En,bv,RC=(bv=class extends Sa{constructor(t={}){super();X(this,En);this.config=t,K(this,En,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Tm(s,n);let a=this.get(i);return a||(a=new jC({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){C(this,En).has(t.queryHash)||(C(this,En).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=C(this,En).get(t.queryHash);n&&(t.destroy(),n===t&&C(this,En).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,En).get(t)}getAll(){return[...C(this,En).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Xg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Xg(t,r)):n}notify(t){Ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ze.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ze.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},En=new WeakMap,bv),Ue,Mr,Dr,sa,ia,Lr,aa,oa,_v,OC=(_v=class{constructor(e={}){X(this,Ue);X(this,Mr);X(this,Dr);X(this,sa);X(this,ia);X(this,Lr);X(this,aa);X(this,oa);K(this,Ue,e.queryCache||new RC),K(this,Mr,e.mutationCache||new PC),K(this,Dr,e.defaultOptions||{}),K(this,sa,new Map),K(this,ia,new Map),K(this,Lr,0)}mount(){wl(this,Lr)._++,C(this,Lr)===1&&(K(this,aa,Am.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ue).onFocus())})),K(this,oa,Mc.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ue).onOnline())})))}unmount(){var e,t;wl(this,Lr)._--,C(this,Lr)===0&&((e=C(this,aa))==null||e.call(this),K(this,aa,void 0),(t=C(this,oa))==null||t.call(this),K(this,oa,void 0))}isFetching(e){return C(this,Ue).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,Mr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,Ue).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=C(this,Ue).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Jr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return C(this,Ue).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=C(this,Ue).get(r.queryHash),i=s==null?void 0:s.state.data,a=mC(t,i);if(a!==void 0)return C(this,Ue).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ze.batch(()=>C(this,Ue).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,Ue).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=C(this,Ue);Ze.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=C(this,Ue);return Ze.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ze.batch(()=>C(this,Ue).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(_t).catch(_t)}invalidateQueries(e,t={}){return Ze.batch(()=>(C(this,Ue).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ze.batch(()=>C(this,Ue).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_t)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_t)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=C(this,Ue).build(this,t);return n.isStaleByTime(Jr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_t).catch(_t)}fetchInfiniteQuery(e){return e.behavior=ay(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_t).catch(_t)}ensureInfiniteQueryData(e){return e.behavior=ay(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mc.isOnline()?C(this,Mr).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Ue)}getMutationCache(){return C(this,Mr)}getDefaultOptions(){return C(this,Dr)}setDefaultOptions(e){K(this,Dr,e)}setQueryDefaults(e,t){C(this,sa).set(Zs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,sa).values()],n={};return t.forEach(r=>{Oo(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){C(this,ia).set(Zs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,ia).values()],n={};return t.forEach(r=>{Oo(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Dr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Tm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Dr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Ue).clear(),C(this,Mr).clear()}},Ue=new WeakMap,Mr=new WeakMap,Dr=new WeakMap,sa=new WeakMap,ia=new WeakMap,Lr=new WeakMap,aa=new WeakMap,oa=new WeakMap,_v),sb=b.createContext(void 0),ds=e=>{const t=b.useContext(sb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},IC=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(sb.Provider,{value:e,children:t})),ib=b.createContext(!1),zC=()=>b.useContext(ib);ib.Provider;function MC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var DC=b.createContext(MC()),LC=()=>b.useContext(DC),UC=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},FC=e=>{b.useEffect(()=>{e.clearReset()},[e])},$C=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Jx(n,[e.error,r])),BC=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},VC=(e,t)=>e.isLoading&&e.isFetching&&!t,qC=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ly=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function WC(e,t,n){var h,f,m,v,w;const r=zC(),s=LC(),i=ds(),a=i.defaultQueryOptions(e);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,a),a._optimisticResults=r?"isRestoring":"optimistic",BC(a),UC(a,s),FC(s);const l=!i.getQueryCache().get(a.queryHash),[c]=b.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(_=>{const g=d?c.subscribe(Ze.batchCalls(_)):_t;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(a)},[a,c]),qC(a,u))throw ly(a,c,s);if($C({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,a,u),a.experimental_prefetchInRender&&!Xs&&VC(u,r)){const _=l?ly(a,c,s):(w=i.getQueryCache().get(a.queryHash))==null?void 0:w.promise;_==null||_.catch(_t).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ae(e,t){return WC(e,kC)}function Io(e,t){const n=ds(),[r]=b.useState(()=>new AC(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const s=b.useSyncExternalStore(b.useCallback(a=>r.subscribe(Ze.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((a,l)=>{r.mutate(a,l).catch(_t)},[r]);if(s.error&&Jx(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var KC=e=>{switch(e){case"success":return YC;case"info":return JC;case"warning":return QC;case"error":return XC;default:return null}},HC=Array(12).fill(0),GC=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},HC.map((n,r)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),YC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),JC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),XC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ZC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eN=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Xh=1,tN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Xh++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],I.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(rN(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Xh++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tt=new tN,nN=(e,t)=>{let n=(t==null?void 0:t.id)||Xh++;return Tt.addToast({title:e,...t,id:n}),n},rN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",sN=nN,iN=()=>Tt.toasts,aN=()=>Tt.getActiveToasts(),D=Object.assign(sN,{success:Tt.success,info:Tt.info,warning:Tt.warning,error:Tt.error,custom:Tt.custom,message:Tt.message,promise:Tt.promise,dismiss:Tt.dismiss,loading:Tt.loading},{getHistory:iN,getToasts:aN});function oN(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}oN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ll(e){return e.label!==void 0}var lN=3,cN="32px",uN="16px",cy=4e3,dN=356,hN=14,fN=20,mN=200;function un(...e){return e.filter(Boolean).join(" ")}function pN(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var gN=e=>{var t,n,r,s,i,a,l,c,u,d,h;let{invert:f,toast:m,unstyled:v,interacting:w,setHeights:_,visibleToasts:g,heights:y,index:p,toasts:x,expanded:S,removeToast:j,defaultRichColors:T,closeButton:N,style:k,cancelButtonStyle:E,actionButtonStyle:z,className:L="",descriptionClassName:J="",duration:F,position:le,gap:A,loadingIcon:Y,expandByDefault:O,classNames:R,icons:U,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:P}=e,[W,Z]=I.useState(null),[B,ie]=I.useState(null),[se,yt]=I.useState(!1),[Ct,Dn]=I.useState(!1),[Mt,yl]=I.useState(!1),[jp,S_]=I.useState(!1),[j_,kp]=I.useState(!1),[k_,Lu]=I.useState(0),[C_,Cp]=I.useState(0),Ca=I.useRef(m.duration||F||cy),Np=I.useRef(null),fs=I.useRef(null),N_=p===0,E_=p+1<=g,Ht=m.type,li=m.dismissible!==!1,T_=m.className||"",P_=m.descriptionClassName||"",vl=I.useMemo(()=>y.findIndex(ae=>ae.toastId===m.id)||0,[y,m.id]),A_=I.useMemo(()=>{var ae;return(ae=m.closeButton)!=null?ae:N},[m.closeButton,N]),Ep=I.useMemo(()=>m.duration||F||cy,[m.duration,F]),Uu=I.useRef(0),ci=I.useRef(0),Tp=I.useRef(0),ui=I.useRef(null),[R_,O_]=le.split("-"),Pp=I.useMemo(()=>y.reduce((ae,_e,Pe)=>Pe>=vl?ae:ae+_e.height,0),[y,vl]),Ap=eN(),I_=m.invert||f,Fu=Ht==="loading";ci.current=I.useMemo(()=>vl*A+Pp,[vl,Pp]),I.useEffect(()=>{Ca.current=Ep},[Ep]),I.useEffect(()=>{yt(!0)},[]),I.useEffect(()=>{let ae=fs.current;if(ae){let _e=ae.getBoundingClientRect().height;return Cp(_e),_(Pe=>[{toastId:m.id,height:_e,position:m.position},...Pe]),()=>_(Pe=>Pe.filter(an=>an.toastId!==m.id))}},[_,m.id]),I.useLayoutEffect(()=>{if(!se)return;let ae=fs.current,_e=ae.style.height;ae.style.height="auto";let Pe=ae.getBoundingClientRect().height;ae.style.height=_e,Cp(Pe),_(an=>an.find(on=>on.toastId===m.id)?an.map(on=>on.toastId===m.id?{...on,height:Pe}:on):[{toastId:m.id,height:Pe,position:m.position},...an])},[se,m.title,m.description,_,m.id]);let hr=I.useCallback(()=>{Dn(!0),Lu(ci.current),_(ae=>ae.filter(_e=>_e.toastId!==m.id)),setTimeout(()=>{j(m)},mN)},[m,j,_,ci]);I.useEffect(()=>{if(m.promise&&Ht==="loading"||m.duration===1/0||m.type==="loading")return;let ae;return S||w||P&&Ap?(()=>{if(Tp.current<Uu.current){let _e=new Date().getTime()-Uu.current;Ca.current=Ca.current-_e}Tp.current=new Date().getTime()})():Ca.current!==1/0&&(Uu.current=new Date().getTime(),ae=setTimeout(()=>{var _e;(_e=m.onAutoClose)==null||_e.call(m,m),hr()},Ca.current)),()=>clearTimeout(ae)},[S,w,m,Ht,P,Ap,hr]),I.useEffect(()=>{m.delete&&hr()},[hr,m.delete]);function z_(){var ae,_e,Pe;return U!=null&&U.loading?I.createElement("div",{className:un(R==null?void 0:R.loader,(ae=m==null?void 0:m.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":Ht==="loading"},U.loading):Y?I.createElement("div",{className:un(R==null?void 0:R.loader,(_e=m==null?void 0:m.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Ht==="loading"},Y):I.createElement(GC,{className:un(R==null?void 0:R.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader),visible:Ht==="loading"})}return I.createElement("li",{tabIndex:0,ref:fs,className:un(L,T_,R==null?void 0:R.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[Ht],(n=m==null?void 0:m.classNames)==null?void 0:n[Ht]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:T,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":se,"data-promise":!!m.promise,"data-swiped":j_,"data-removed":Ct,"data-visible":E_,"data-y-position":R_,"data-x-position":O_,"data-index":p,"data-front":N_,"data-swiping":Mt,"data-dismissible":li,"data-type":Ht,"data-invert":I_,"data-swipe-out":jp,"data-swipe-direction":B,"data-expanded":!!(S||O&&se),style:{"--index":p,"--toasts-before":p,"--z-index":x.length-p,"--offset":`${Ct?k_:ci.current}px`,"--initial-height":O?"auto":`${C_}px`,...k,...m.style},onDragEnd:()=>{yl(!1),Z(null),ui.current=null},onPointerDown:ae=>{Fu||!li||(Np.current=new Date,Lu(ci.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(yl(!0),ui.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,_e,Pe,an;if(jp||!li)return;ui.current=null;let on=Number(((ae=fs.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fr=Number(((_e=fs.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ms=new Date().getTime()-((Pe=Np.current)==null?void 0:Pe.getTime()),ln=W==="x"?on:fr,mr=Math.abs(ln)/ms;if(Math.abs(ln)>=fN||mr>.11){Lu(ci.current),(an=m.onDismiss)==null||an.call(m,m),ie(W==="x"?on>0?"right":"left":fr>0?"down":"up"),hr(),S_(!0),kp(!1);return}yl(!1),Z(null)},onPointerMove:ae=>{var _e,Pe,an,on;if(!ui.current||!li||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let fr=ae.clientY-ui.current.y,ms=ae.clientX-ui.current.x,ln=(Pe=e.swipeDirections)!=null?Pe:pN(le);!W&&(Math.abs(ms)>1||Math.abs(fr)>1)&&Z(Math.abs(ms)>Math.abs(fr)?"x":"y");let mr={x:0,y:0};W==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&fr<0||ln.includes("bottom")&&fr>0)&&(mr.y=fr):W==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&ms<0||ln.includes("right")&&ms>0)&&(mr.x=ms),(Math.abs(mr.x)>0||Math.abs(mr.y)>0)&&kp(!0),(an=fs.current)==null||an.style.setProperty("--swipe-amount-x",`${mr.x}px`),(on=fs.current)==null||on.style.setProperty("--swipe-amount-y",`${mr.y}px`)}},A_&&!m.jsx?I.createElement("button",{"aria-label":$,"data-disabled":Fu,"data-close-button":!0,onClick:Fu||!li?()=>{}:()=>{var ae;hr(),(ae=m.onDismiss)==null||ae.call(m,m)},className:un(R==null?void 0:R.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=U==null?void 0:U.close)!=null?i:ZC):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:I.createElement(I.Fragment,null,Ht||m.icon||m.promise?I.createElement("div",{"data-icon":"",className:un(R==null?void 0:R.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||z_():null,m.type!=="loading"?m.icon||(U==null?void 0:U[Ht])||KC(Ht):null):null,I.createElement("div",{"data-content":"",className:un(R==null?void 0:R.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},I.createElement("div",{"data-title":"",className:un(R==null?void 0:R.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?I.createElement("div",{"data-description":"",className:un(J,P_,R==null?void 0:R.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&Ll(m.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:ae=>{var _e,Pe;Ll(m.cancel)&&li&&((Pe=(_e=m.cancel).onClick)==null||Pe.call(_e,ae),hr())},className:un(R==null?void 0:R.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&Ll(m.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||z,onClick:ae=>{var _e,Pe;Ll(m.action)&&((Pe=(_e=m.action).onClick)==null||Pe.call(_e,ae),!ae.defaultPrevented&&hr())},className:un(R==null?void 0:R.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function uy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function yN(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?uN:cN;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var vN=b.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:v=lN,toastOptions:w,dir:_=uy(),gap:g=hN,loadingIcon:y,icons:p,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:S}=e,[j,T]=I.useState([]),N=I.useMemo(()=>Array.from(new Set([r].concat(j.filter(P=>P.position).map(P=>P.position)))),[j,r]),[k,E]=I.useState([]),[z,L]=I.useState(!1),[J,F]=I.useState(!1),[le,A]=I.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=I.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=I.useRef(null),U=I.useRef(!1),$=I.useCallback(P=>{T(W=>{var Z;return(Z=W.find(B=>B.id===P.id))!=null&&Z.delete||Tt.dismiss(P.id),W.filter(({id:B})=>B!==P.id)})},[]);return I.useEffect(()=>Tt.subscribe(P=>{if(P.dismiss){T(W=>W.map(Z=>Z.id===P.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{ck.flushSync(()=>{T(W=>{let Z=W.findIndex(B=>B.id===P.id);return Z!==-1?[...W.slice(0,Z),{...W[Z],...P},...W.slice(Z+1)]:[P,...W]})})})}),[]),I.useEffect(()=>{if(d!=="system"){A(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let P=window.matchMedia("(prefers-color-scheme: dark)");try{P.addEventListener("change",({matches:W})=>{A(W?"dark":"light")})}catch{P.addListener(({matches:Z})=>{try{A(Z?"dark":"light")}catch(B){console.error(B)}})}},[d]),I.useEffect(()=>{j.length<=1&&L(!1)},[j]),I.useEffect(()=>{let P=W=>{var Z,B;s.every(ie=>W[ie]||W.code===ie)&&(L(!0),(Z=Y.current)==null||Z.focus()),W.code==="Escape"&&(document.activeElement===Y.current||(B=Y.current)!=null&&B.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[s]),I.useEffect(()=>{if(Y.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,U.current=!1)}},[Y.current]),I.createElement("section",{ref:t,"aria-label":`${x} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((P,W)=>{var Z;let[B,ie]=P.split("-");return j.length?I.createElement("ol",{key:P,dir:_==="auto"?uy():_,tabIndex:-1,ref:Y,className:l,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":B,"data-lifted":z&&j.length>1&&!i,"data-x-position":ie,style:{"--front-toast-height":`${((Z=k[0])==null?void 0:Z.height)||0}px`,"--width":`${dN}px`,"--gap":`${g}px`,...m,...yN(c,u)},onBlur:se=>{U.current&&!se.currentTarget.contains(se.relatedTarget)&&(U.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||U.current||(U.current=!0,R.current=se.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{J||L(!1)},onDragEnd:()=>L(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},j.filter(se=>!se.position&&W===0||se.position===P).map((se,yt)=>{var Ct,Dn;return I.createElement(gN,{key:se.id,icons:p,index:yt,toast:se,defaultRichColors:h,duration:(Ct=w==null?void 0:w.duration)!=null?Ct:f,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Dn=w==null?void 0:w.closeButton)!=null?Dn:a,interacting:J,position:P,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:$,toasts:j.filter(Mt=>Mt.position==se.position),heights:k.filter(Mt=>Mt.position==se.position),setHeights:E,expandByDefault:i,gap:g,loadingIcon:y,expanded:z,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});function yu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function wN(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}const xN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Om extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class bN extends Om{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dy extends Om{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hy extends Om{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zh||(Zh={}));class _N{constructor(t,{headers:n={},customFetch:r,region:s=Zh.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=xN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return wN(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let f={},{region:m}=r;m||(m=this.region);const v=new URL(`${this.url}/${n}`);m&&m!=="any"&&(f["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let w;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(_=a.signal,d.addEventListener("abort",()=>a.abort())):_=a.signal);const g=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:w,signal:_}).catch(S=>{throw new bN(S)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new dy(g);if(!g.ok)throw new hy(g);let p=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield g.json():p==="application/octet-stream"||p==="application/pdf"?x=yield g.blob():p==="text/event-stream"?x=g:p==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof hy||l instanceof dy?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var SN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},jN=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,f;if(n.method!=="HEAD"){var m;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const w=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&_&&_.length>1&&(c=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&w===""?(u=204,d="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new SN(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,f;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",w=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${v}`,w&&(l+=` (${w})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},kN=class extends jN{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const fy=new RegExp("[,()]");var wi=class extends kN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&fy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&fy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},CN=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new wi({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new wi({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new wi({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new wi({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new wi({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},NN=class ab{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ab(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new wi({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class EN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const TN="2.89.0",PN=`realtime-js/${TN}`,ob="1.0.0",AN="2.0.0",my=ob,ef=1e4,RN=1e3,ON=100;var Sr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sr||(Sr={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yn||(yn={}));var tf;(function(e){e.websocket="websocket"})(tf||(tf={}));var ks;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ks||(ks={}));class IN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(m),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,c.length),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,u.length),v.setUint8(w++,h.length),v.setUint8(w++,n),Array.from(c,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(l,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(w++,g.charCodeAt(0)));var _=new Uint8Array(m.byteLength+r.byteLength);return _.set(new Uint8Array(m),0),_.set(new Uint8Array(r),m.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,l,c]=r;return n({join_ref:s,ref:i,topic:a,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+a));c=c+a;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:m};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class lb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const py=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=zN(a,e,t,s),i),{}):{}},zN=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?cb(i,a):nf(a)},cb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return UN(t,n)}switch(e){case Se.bool:return MN(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return DN(t);case Se.json:case Se.jsonb:return LN(t);case Se.timestamp:return FN(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return nf(t);default:return nf(t)}},nf=e=>e,MN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},LN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},UN=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>cb(t,l))}return e},FN=e=>typeof e=="string"?e.replace(" ","T"):e,ub=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class pd{constructor(t,n,r={},s=ef){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gy||(gy={}));class so{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=so.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=so.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=so.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(_=>_.presence_ref),m=h.map(_=>_.presence_ref),v=d.filter(_=>m.indexOf(_.presence_ref)<0),w=h.filter(_=>f.indexOf(_.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yy||(yy={}));var io;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(io||(io={}));var Bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bn||(Bn={}));class Mi{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new pd(this,yn.join,this.params,this.timeout),this.rejoinTimer=new lb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new so(this),this.broadcastEndpointURL=ub(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[io.PRESENCE]&&this.bindings[io.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Bn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Bn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Bn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let y=0;y<_;y++){const p=w[y],{filter:{event:x,schema:S,table:j,filter:T}}=p,N=m&&m[y];if(N&&N.event===x&&Mi.isFilterValueEqual(N.schema,S)&&Mi.isFilterValueEqual(N.table,j)&&Mi.isFilterValueEqual(N.filter,T))g.push(Object.assign(Object.assign({},p),{id:N.id}));else{this.unsubscribe(),this.state=Je.errored,t==null||t(Bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Bn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Je.errored,t==null||t(Bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Je.joined&&t===io.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new pd(this,yn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pd(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ON){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=yn;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,w,_;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(m=>m.callback(f,r)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var v,w,_,g,y,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const x=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(y=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:_,commit_timestamp:g,type:y,errors:p}=v;f=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:y,new:{},old:{},errors:p}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Mi.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yn.close,{},t)}_onError(t){this._on(yn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=py(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=py(t.columns,t.old_record)),n}}const gd=()=>{},Ul={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$N=[1e3,2e3,5e3,1e4],BN=1e4,VN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ef,this.transport=null,this.heartbeatIntervalMs=Ul.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gd,this.ref=0,this.reconnectTimer=null,this.vsn=my,this.logger=gd,this.conn=null,this.sendBuffer=[],this.serializer=new IN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${tf.websocket}`,this.httpEndpoint=ub(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=EN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sr.connecting:return ks.Connecting;case Sr.open:return ks.Open;case Sr.closing:return ks.Closing;default:return ks.Closed}}isConnected(){return this.connectionState()===ks.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Mi(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ul.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Sr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sr.open||this.conn.readyState===Sr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(yn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([VN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:PN};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(yn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new lb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ul.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,l,c,u,d,h,f,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ef,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ul.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:gd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:my,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>$N[v-1]||BN,this.vsn){case ob:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,w)=>w(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,w)=>w(JSON.parse(v));break;case AN:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var zo=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WN(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function KN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function HN(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const l=WN(e.baseUrl,r,s),c=await KN(e.auth),u=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,v=m==null?void 0:m.error;throw new zo((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function Fl(e){return e.join("")}var GN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Fl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fl(e.namespace)}`}),!0}catch(t){if(t instanceof zo&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof zo&&n.status===409)return;throw n}}};function hi(e){return e.join("")}var YN=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hi(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof zo&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof zo&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},QN=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=HN({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new GN(this.client,t),this.tableOps=new YN(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},vu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var JN=class extends vu{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rf=class extends vu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Im=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),XN=()=>Response,sf=e=>{if(Array.isArray(e))return e.map(n=>sf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=sf(r)}),t},ZN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eE=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function tE(e,t){if(Mo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nE(e){var t=tE(e,"string");return Mo(t)=="symbol"?t:t+""}function rE(e,t,n){return(t=nE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vy(Object(n),!0).forEach(function(r){rE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const yd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},sE=async(e,t,n)=>{e instanceof await XN()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new JN(yd(r),s,i))}).catch(r=>{t(new rf(yd(r),r))}):t(new rf(yd(e),e))},iE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(ZN(r)?(s.headers=te({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),te(te({},s),n))};async function al(e,t,n,r,s,i){return new Promise((a,l)=>{e(n,iE(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>sE(c,l,r))})}async function Do(e,t,n,r){return al(e,"GET",t,n,r)}async function fn(e,t,n,r,s){return al(e,"POST",t,r,s,n)}async function af(e,t,n,r,s){return al(e,"PUT",t,r,s,n)}async function aE(e,t,n,r){return al(e,"HEAD",t,te(te({},n),{},{noResolveJson:!0}),r)}async function zm(e,t,n,r,s){return al(e,"DELETE",t,r,s,n)}var oE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}}};let db;db=Symbol.toStringTag;var lE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[db]="BlobDownloadBuilder",this.promise=null}asStream(){return new oE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}}};const cE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var uE=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Im(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const a=te(te({},wy),r);let l=te(te({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(l=te(te({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?af:fn)(s.fetch,`${s.url}/object/${d}`,i,te({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const u=te({upsert:wy.upsert},r),d=te(te({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await af(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=te({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await fn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),l=a.searchParams.get("token");if(!l)throw new vu("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await fn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await fn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await fn(r.fetch,`${r.url}/object/sign/${s}`,te({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await fn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>te(te({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>Do(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new lE(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:sf(await Do(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await aE(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r)&&r instanceof rf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await zm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=te(te(te({},cE),t),{},{prefix:e||""});return{data:await fn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=te({},e);return{data:await fn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const hb="2.89.0",fb={"X-Client-Info":`storage-js/${hb}`};var dE=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=te(te({},fb),t),this.fetch=Im(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Do(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Do(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await fn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await af(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await fn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await zm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},hE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=te(te({},fb),t),this.fetch=Im(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await fn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Do(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await zm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!eE(e))throw new vu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new QN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const Mm={"X-Client-Info":`storage-js/${hb}`,"Content-Type":"application/json"};var mb=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ut(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var vd=class extends mb{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fE=class extends mb{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Dm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pE=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new vd(xy(i),r,a))}).catch(()=>{const i=r+"";t(new vd(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new vd(s.statusText||`HTTP ${r} error`,r,i))}}else t(new fE(xy(e),e))},gE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(mE(r)?(s.headers=te({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,te(te({},s),n)):s};async function yE(e,t,n,r,s,i){return new Promise((a,l)=>{e(n,gE(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>pE(c,l,r))})}async function Ft(e,t,n,r,s){return yE(e,"POST",t,r,s,n)}var vE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=te(te({},Mm),t),this.fetch=Dm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Ft(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Ft(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},wE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=te(te({},Mm),t),this.fetch=Dm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ft(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ft(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ft(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}},xE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=te(te({},Mm),t),this.fetch=Dm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}},bE=class extends xE{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new _E(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},_E=class extends vE{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new SE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},SE=class extends wE{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},jE=class extends dE{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new uE(this.url,this.headers,e,this.fetch)}get vectors(){return new bE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hE(this.url+"/iceberg",this.headers,this.fetch)}};const pb="2.89.0",xi=30*1e3,of=3,wd=of*xi,kE="http://localhost:9999",CE="supabase.auth.token",NE={"X-Client-Info":`gotrue-js/${pb}`},lf="X-Supabase-Api-Version",gb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TE=10*60*1e3;class Lo extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PE extends Lo{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function AE(e){return Q(e)&&e.name==="AuthApiError"}class Cs extends Lo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class dr extends Lo{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Dt extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function RE(e){return Q(e)&&e.name==="AuthSessionMissingError"}class fi extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $l extends dr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bl extends dr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OE(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class by extends dr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class IE extends dr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cf extends dr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function xd(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class _y extends dr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class uf extends dr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sy=` 	
\r=`.split(""),zE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sy.length;t+=1)e[Sy[t].charCodeAt(0)]=-2;for(let t=0;t<Dc.length;t+=1)e[Dc[t].charCodeAt(0)]=t;return e})();function jy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Dc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Dc[r]),t.queuedBits-=6}}function yb(e,t,n){const r=zE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ky(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{LE(a,r,n)};for(let a=0;a<e.length;a+=1)yb(e.charCodeAt(a),s,i);return t.join("")}function ME(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ME(r,t)}}function LE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Gi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function UE(e){const t=[];return DE(e,n=>t.push(n)),new Uint8Array(t)}function As(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>jy(s,n,r)),jy(null,n,r),t.join("")}function FE(e){return Math.round(Date.now()/1e3)+e}function $E(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},vb=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function BE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const wb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),VE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},it=async(e,t)=>{await e.removeItem(t)};class wu{constructor(){this.promise=new wu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}wu.promiseConstructor=Promise;function bd(e){const t=e.split(".");if(t.length!==3)throw new uf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!EE.test(t[r]))throw new uf("JWT not in base64url format");return{header:JSON.parse(ky(t[0])),payload:JSON.parse(ky(t[1])),signature:Gi(t[2]),raw:{header:t[0],payload:t[1]}}}async function qE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WE(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function KE(e){return("0"+e.toString(16)).substr(-2)}function HE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,KE).join("")}async function GE(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function YE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await GE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mi(e,t,n=!1){const r=HE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await bi(e,`${t}-code-verifier`,s);const i=await YE(r);return[i,r===i?"plain":"s256"]}const QE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JE(e){const t=e.headers.get(lf);if(!t||!t.match(QE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pi(e){if(!e2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _d(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t2(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Cy(e){return JSON.parse(JSON.stringify(e))}const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n2=[502,503,504];async function Ny(e){var t;if(!VE(e))throw new cf(xs(e),0);if(n2.includes(e.status))throw new cf(xs(e),e.status);let n;try{n=await e.json()}catch(i){throw new Cs(xs(i),i)}let r;const s=JE(e);if(s&&s.getTime()>=gb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _y(xs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new _y(xs(n),e.status,n.weak_password.reasons);throw new PE(xs(n),e.status||500,r)}const r2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ee(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[lf]||(i[lf]=gb["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await s2(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function s2(e,t,n,r,s,i){const a=r2(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new cf(xs(c),0)}if(l.ok||await Ny(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Ny(c)}}function dn(e){var t;let n=null;o2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=FE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ey(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function i2(e){return{data:e,error:null}}function a2(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=yu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ty(e){return e}function o2(e){return e.access_token&&e.refresh_token&&e.expires_in}const Sd=["global","local","others"];class l2{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=wb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Sd[0]){if(Sd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sd.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=yu(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:a2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ty});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){pi(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){pi(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Tr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){pi(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){pi(t.userId);try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){pi(t.userId),pi(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ty});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Py(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const gi={debug:!!(globalThis&&vb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class c2 extends xb{}async function u2(e,t,n){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new c2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function d2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bb(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function h2(e){return parseInt(e,16)}function f2(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function m2(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=bb(e.address),v=d?`${d}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);y+=`
- ${p}`}g+=y}return`${_}
${g}`}class Ge extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Lc extends Ge{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function p2({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(_b(a)){if(i.rp.id!==a)return new Ge({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function g2({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(_b(r)){if(n.rpId!==r)return new Ge({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class y2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const v2=new y2;function w2(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=yu(e,["challenge","user","excludeCredentials"]),i=Gi(t).buffer,a=Object.assign(Object.assign({},n),{id:Gi(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Gi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function x2(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=yu(e,["challenge","allowCredentials"]),s=Gi(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Gi(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function b2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:As(new Uint8Array(e.response.attestationObject)),clientDataJSON:As(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:As(new Uint8Array(s.authenticatorData)),clientDataJSON:As(new Uint8Array(s.clientDataJSON)),signature:As(new Uint8Array(s.signature)),userHandle:s.userHandle?As(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _b(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ay(){var e,t;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function S2(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lc("Browser returned unexpected credential type",t)}:{data:null,error:new Lc("Empty credential response",t)}}catch(t){return{data:null,error:p2({error:t,options:e})}}}async function j2(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lc("Browser returned unexpected credential type",t)}:{data:null,error:new Lc("Empty credential response",t)}}catch(t){return{data:null,error:g2({error:t,options:e})}}}const k2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},C2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Uc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const l=r[i];t(l)?r[i]=Uc(l,a):r[i]=Uc(a)}else r[i]=a}return r}function N2(e,t){return Uc(k2,e,t||{})}function E2(e,t){return Uc(C2,e,t||{})}class T2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const c=s??v2.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=N2(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await S2({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=E2(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await j2(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Cs("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Lo("rpId is required for WebAuthn authentication")};try{if(!Ay())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Cs("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Lo("rpId is required for WebAuthn registration")};try{if(!Ay())return{data:null,error:new Cs("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Cs("Unexpected error in register",a)}}}}d2();const P2={url:kE,storageKey:CE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ry(e,t,n){return await n()}const yi={};class Uo{get jwks(){var t,n;return(n=(t=yi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){yi[this.storageKey]=Object.assign(Object.assign({},yi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=yi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yi[this.storageKey]=Object.assign(Object.assign({},yi[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},P2),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Uo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Uo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&at()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new l2({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=wb(i.fetch),this.lock=i.lock||Ry,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&at()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=u2:this.lock=Ry,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:vb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Py(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Py(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(at()&&(n=BE(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),at()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),OE(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Cs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:dn}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await mi(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:dn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:dn})}else throw new $l("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ey})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ey})}else throw new $l("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new fi;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,l,c,u,d,h,f;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:w,wallet:_,statement:g,options:y}=t;let p;if(at())if(typeof _=="object")p=_;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")p=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=_}const x=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),S=await p.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=bb(S[0]);let T=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const k=await p.request({method:"eth_chainId"});T=h2(k)}const N={domain:x.host,address:j,statement:g,uri:x.href,version:"1",chainId:T,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=m2(N),v=await p.request({method:"personal_sign",params:[f2(m),j]})}try{const{data:w,error:_}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:dn});if(_)throw _;if(!w||!w.session||!w.user){const g=new fi;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(Q(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,i,a,l,c,u,d,h,f,m;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:_,wallet:g,statement:y,options:p}=t;let x;if(at())if(typeof g=="object")x=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))x=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const j=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let T;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")T=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)T=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const j=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:_,error:g}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:As(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:dn});if(g)throw g;if(!_||!_.session||!_.user){const y=new fi;return this._returnResult({data:{user:null,session:null},error:y})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(Q(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await gs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new IE;const{data:i,error:a}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:dn});if(await it(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new fi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new fi;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await mi(this.storage,this.storageKey));const{error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new $l("You must provide either an email or phone number.")}catch(l){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await mi(this.storage,this.storageKey));const u=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:i2});return!((i=u.data)===null||i===void 0)&&i.url&&at()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Dt;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Q(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new $l("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<wd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await gs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=_d()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=t2(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tr}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tr})})}catch(n){if(Q(n))return RE(n)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Dt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await mi(this.storage,this.storageKey));const{data:u,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Tr});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=bd(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Dt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!at())throw new Bl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new by("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new by("No code detected.");const{data:y,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Bl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(Q(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(AE(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=$E(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await mi(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return at()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Q(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dn}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new fi}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await WE(async s=>(s>0&&await qE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&xd(i)&&Date.now()+a-r<xi})}catch(r){if(this._debug(n,"error",r),Q(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),at()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await gs(this.storage,this.storageKey);if(s&&this.userStorage){let a=await gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await bi(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:_d()}else if(s&&!s.user&&!s.user){const a=await gs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await it(this.storage,this.storageKey+"-user"),await bi(this.storage,this.storageKey,s)):s.user=_d()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<wd;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${wd}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),xd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new wu;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Q(i)){const a={data:null,error:i};return xd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await bi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Cy(s);await bi(this.storage,this.storageKey,i)}else{const s=Cy(n);await bi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xi}ms, refresh threshold is ${of} ticks`),s<=of&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await mi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?b2(t.webauthn.credential_response):_2(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:w2(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:x2(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=bd(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Dt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Dt});const a=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&at()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Dt});const a=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&at()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Dt})})}catch(t){if(Q(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Dt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+TE>s)return r;const{data:i,error:a}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return this._returnResult({data:null,error:v});r=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=bd(r);n!=null&&n.allowExpired||XE(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=ZE(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,UE(`${l}.${c}`)))throw new uf("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}}Uo.nextInstanceID={};const A2=Uo,R2="2.89.0";let Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";const O2={"X-Client-Info":`supabase-js-${Ka}/${R2}`},I2={headers:O2},z2={schema:"public"},M2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},D2={};function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function L2(e,t){if(Fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U2(e){var t=L2(e,"string");return Fo(t)=="symbol"?t:t+""}function F2(e,t,n){return(t=U2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oy(Object(n),!0).forEach(function(r){F2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const $2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B2=()=>Headers,V2=(e,t,n)=>{const r=$2(n),s=B2();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Fe(Fe({},a),{},{headers:u}))}};function q2(e){return e.endsWith("/")?e:e+"/"}function W2(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Fe(Fe({},c),s),auth:Fe(Fe({},u),i),realtime:Fe(Fe({},d),a),storage:{},global:Fe(Fe(Fe({},h),l),{},{headers:Fe(Fe({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function K2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(q2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var H2=class extends A2{constructor(e){super(e)}},G2=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=K2(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:z2,realtime:D2,auth:Fe(Fe({},M2),{},{storageKey:a}),global:I2},c=W2(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=V2(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new NN(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new jE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new _N(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H2({url:this.authUrl.href,headers:Fe(Fe({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new qN(this.realtimeUrl.href,Fe(Fe({},e),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Y2=(e,t,n)=>new G2(e,t,n);function Q2(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Q2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J2="https://oklvibwcnmockkmoloxt.supabase.co",X2="sb_publishable_2TCUtnxjadhY4iFpm2s9Zw_ho7K9Nqo",oe=Y2(J2,X2);async function Sb(){var e,t,n,r,s,i,a,l;try{const{data:{user:c},error:u}=await oe.auth.getUser();if(u||!c)return null;const{data:d}=await oe.from("users").select("*").eq("email",c.email).single();return d?{id:c.id,email:c.email,full_name:d.full_name||((e=c.user_metadata)==null?void 0:e.full_name)||c.email.split("@")[0],username:d.username||((t=c.user_metadata)==null?void 0:t.preferred_username)||c.email.split("@")[0],avatar_url:d.avatar_url||((n=c.user_metadata)==null?void 0:n.avatar_url)||((r=c.user_metadata)==null?void 0:r.picture),bio:d.bio||"",website:d.website||""}:{id:c.id,email:c.email,full_name:((s=c.user_metadata)==null?void 0:s.full_name)||c.email.split("@")[0],username:((i=c.user_metadata)==null?void 0:i.preferred_username)||c.email.split("@")[0],avatar_url:((a=c.user_metadata)==null?void 0:a.avatar_url)||((l=c.user_metadata)==null?void 0:l.picture),bio:"",website:""}}catch(c){return console.error("Error getting current user:",c),null}}async function oc(e){var i,a,l,c;const{data:{user:t}}=await oe.auth.getUser();if(!t)return null;const n={email:t.email,full_name:e.full_name||((i=t.user_metadata)==null?void 0:i.full_name)||t.email.split("@")[0],username:e.username||((a=t.user_metadata)==null?void 0:a.preferred_username)||t.email.split("@")[0],avatar_url:e.avatar_url||((l=t.user_metadata)==null?void 0:l.avatar_url)||((c=t.user_metadata)==null?void 0:c.picture),bio:e.bio||"",website:e.website||"",updated_at:new Date().toISOString()},{data:r,error:s}=await oe.from("users").upsert({email:t.email,...n},{onConflict:"email"}).select().single();return s?(console.error("Error upserting user profile:",s),null):r}const pa=Object.freeze(Object.defineProperty({__proto__:null,getCurrentUser:Sb,supabase:oe,upsertUserProfile:oc},Symbol.toStringTag,{value:"Module"})),jb=b.createContext(null);function Z2({children:e}){const[t,n]=b.useState(!0),r=ds(),{data:s,isLoading:i}=Ae({queryKey:["auth_user"],queryFn:Sb,staleTime:5*60*1e3});b.useEffect(()=>{n(i);const{data:{subscription:l}}=oe.auth.onAuthStateChange(async(c,u)=>{var d,h,f,m;c==="SIGNED_IN"||c==="TOKEN_REFRESHED"?(r.invalidateQueries(["auth_user"]),u!=null&&u.user&&await oc({email:u.user.email,full_name:(d=u.user.user_metadata)==null?void 0:d.full_name,username:(h=u.user.user_metadata)==null?void 0:h.preferred_username,avatar_url:((f=u.user.user_metadata)==null?void 0:f.avatar_url)||((m=u.user.user_metadata)==null?void 0:m.picture)})):c==="SIGNED_OUT"&&r.setQueryData(["auth_user"],null)});return()=>{l.unsubscribe()}},[i,r]);const a={user:s,loading:t,signIn:async(l,c)=>{const{data:u,error:d}=await oe.auth.signInWithPassword({email:l,password:c});if(d)throw d;return u},signUp:async(l,c,u,d)=>{const{data:h,error:f}=await oe.auth.signUp({email:l,password:c,options:{data:{full_name:u,preferred_username:d}}});if(f)throw f;return h.user&&await oc({email:h.user.email,full_name:u,username:d}),h},signInWithGoogle:async()=>{const{data:l,error:c}=await oe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(c)throw c;return l},signInWithFacebook:async()=>{const{data:l,error:c}=await oe.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/`}});if(c)throw c;return l},signInWithGitHub:async()=>{const{data:l,error:c}=await oe.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/`}});if(c)throw c;return l},signInWithDiscord:async()=>{const{data:l,error:c}=await oe.auth.signInWithOAuth({provider:"discord",options:{redirectTo:`${window.location.origin}/`}});if(c)throw c;return l},signOut:async()=>{const{error:l}=await oe.auth.signOut();if(l)throw l;r.setQueryData(["auth_user"],null),window.location.href="/"},updateProfile:async l=>{const c=await oc(l);return c&&r.invalidateQueries(["auth_user"]),c}};return o.jsx(jb.Provider,{value:a,children:e})}function Lm(){const e=b.useContext(jb);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function kb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=kb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function eT(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=kb(e))&&(r&&(r+=" "),r+=t);return r}const Um="-",tT=e=>{const t=rT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Um);return l[0]===""&&l.length!==1&&l.shift(),Cb(l,t)||nT(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},Cb=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Cb(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Um);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Iy=/^\[(.+)\]$/,nT=e=>{if(Iy.test(e)){const t=Iy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},rT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return iT(Object.entries(e.classGroups),n).forEach(([i,a])=>{df(a,r,i,t)}),r},df=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:zy(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(sT(s)){df(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{df(a,zy(t,i),n,r)})})},zy=(e,t)=>{let n=e;return t.split(Um).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sT=e=>e.isThemeGetter,iT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,aT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},Nb="!",oT=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let _=0;_<l.length;_++){let g=l[_];if(u===0){if(g===s&&(r||l.slice(_,_+i)===t)){c.push(l.slice(d,_)),d=_+i;continue}if(g==="/"){h=_;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(Nb),v=m?f.substring(1):f,w=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:a}):a},lT=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},cT=e=>({cache:aT(e.cacheSize),parseClassName:oT(e),...tT(e)}),uT=/\s+/,dT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(uT);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let v=!!m,w=r(v?f.substring(0,m):f);if(!w){if(!v){l=u+(l.length>0?" "+l:l);continue}if(w=r(f),!w){l=u+(l.length>0?" "+l:l);continue}v=!1}const _=lT(d).join(":"),g=h?_+Nb:_,y=g+w;if(i.includes(y))continue;i.push(y);const p=s(w,v);for(let x=0;x<p.length;++x){const S=p[x];i.push(g+S)}l=u+(l.length>0?" "+l:l)}return l};function hT(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Eb(t))&&(r&&(r+=" "),r+=n);return r}const Eb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Eb(e[r]))&&(n&&(n+=" "),n+=t);return n};function fT(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=cT(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=dT(c,n);return s(c,d),d}return function(){return i(hT.apply(null,arguments))}}const Ce=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Tb=/^\[(?:([a-z-]+):)?(.+)\]$/i,mT=/^\d+\/\d+$/,pT=new Set(["px","full","screen"]),gT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ln=e=>Yi(e)||pT.has(e)||mT.test(e),gr=e=>ja(e,"length",ET),Yi=e=>!!e&&!Number.isNaN(Number(e)),jd=e=>ja(e,"number",Yi),za=e=>!!e&&Number.isInteger(Number(e)),bT=e=>e.endsWith("%")&&Yi(e.slice(0,-1)),ce=e=>Tb.test(e),yr=e=>gT.test(e),_T=new Set(["length","size","percentage"]),ST=e=>ja(e,_T,Pb),jT=e=>ja(e,"position",Pb),kT=new Set(["image","url"]),CT=e=>ja(e,kT,PT),NT=e=>ja(e,"",TT),Ma=()=>!0,ja=(e,t,n)=>{const r=Tb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ET=e=>yT.test(e)&&!vT.test(e),Pb=()=>!1,TT=e=>wT.test(e),PT=e=>xT.test(e),AT=()=>{const e=Ce("colors"),t=Ce("spacing"),n=Ce("blur"),r=Ce("brightness"),s=Ce("borderColor"),i=Ce("borderRadius"),a=Ce("borderSpacing"),l=Ce("borderWidth"),c=Ce("contrast"),u=Ce("grayscale"),d=Ce("hueRotate"),h=Ce("invert"),f=Ce("gap"),m=Ce("gradientColorStops"),v=Ce("gradientColorStopPositions"),w=Ce("inset"),_=Ce("margin"),g=Ce("opacity"),y=Ce("padding"),p=Ce("saturate"),x=Ce("scale"),S=Ce("sepia"),j=Ce("skew"),T=Ce("space"),N=Ce("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ce,t],L=()=>[ce,t],J=()=>["",Ln,gr],F=()=>["auto",Yi,ce],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ce],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Yi,ce];return{cacheSize:500,separator:":",theme:{colors:[Ma],spacing:[Ln,gr],blur:["none","",yr,ce],brightness:$(),borderColor:[e],borderRadius:["none","","full",yr,ce],borderSpacing:L(),borderWidth:J(),contrast:$(),grayscale:R(),hueRotate:$(),invert:R(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[bT,gr],inset:z(),margin:z(),opacity:$(),padding:L(),saturate:$(),scale:$(),sepia:R(),skew:$(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[yr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),ce]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",za,ce]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",za,ce]}],"grid-cols":[{"grid-cols":[Ma]}],"col-start-end":[{col:["auto",{span:["full",za,ce]},ce]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Ma]}],"row-start-end":[{row:["auto",{span:[za,ce]},ce]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[yr]},yr]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",yr,gr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jd]}],"font-family":[{font:[Ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Yi,jd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ln,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln,gr]}],"underline-offset":[{"underline-offset":["auto",Ln,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),jT]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ST]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CT]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Ln,ce]}],"outline-w":[{outline:[Ln,gr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Ln,gr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",yr,NT]}],"shadow-color":[{shadow:[Ma]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",yr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[p]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[za,ce]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ln,gr,jd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RT=fT(AT);function We(e){const t="/";return e.includes("?")?`${t}${e}`:`${t}${e.toLowerCase()}`}function ye(...e){return RT(eT(e))}const V=b.forwardRef(({className:e,variant:t="default",size:n="default",...r},s)=>{const i={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},a={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return o.jsx("button",{className:ye("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i[t],a[n],e),ref:s,...r})});V.displayName="Button";const Fm=b.createContext(),OT=({children:e,open:t,onOpenChange:n})=>{const[r,s]=b.useState(t||!1),i=t!==void 0?t:r,a=n||s;return b.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),o.jsx(Fm.Provider,{value:{open:i,onOpenChange:a},children:e})},Ab=b.forwardRef(({asChild:e,children:t,...n},r)=>{const{onOpenChange:s}=b.useContext(Fm);return e?b.cloneElement(t,{...n,onClick:()=>s(!0)}):o.jsx("button",{ref:r,onClick:()=>s(!0),...n,children:t})});Ab.displayName="SheetTrigger";const Rb=b.forwardRef(({className:e,children:t,side:n="right",...r},s)=>{const{open:i,onOpenChange:a}=b.useContext(Fm);if(!i)return null;const l={right:"inset-y-0 right-0 border-l",left:"inset-y-0 left-0 border-r",top:"inset-x-0 top-0 border-b",bottom:"inset-x-0 bottom-0 border-t"};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:()=>a(!1)}),o.jsx("div",{ref:s,className:ye("fixed z-50 bg-background p-6 shadow-lg transition-transform",l[n],e),...r,children:t})]})});Rb.displayName="SheetContent";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...IT,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${zT(e)}`,l].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=G("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=G("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=G("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=G("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=G("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=G("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=G("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=G("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=G("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=G("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=G("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=G("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=G("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=G("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=G("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=G("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=G("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=G("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=G("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=G("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=G("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=G("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=G("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=G("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),xu=b.createContext(),hP=({children:e})=>{const[t,n]=b.useState(!1);return o.jsx(xu.Provider,{value:{open:t,setOpen:n},children:o.jsx("div",{className:"relative",children:e})})},Fb=b.forwardRef(({asChild:e,children:t,...n},r)=>{const{setOpen:s}=b.useContext(xu);return e?b.cloneElement(t,{...n,onClick:()=>s(!0)}):o.jsx("button",{ref:r,onClick:()=>s(!0),...n,children:t})});Fb.displayName="DropdownMenuTrigger";const $b=b.forwardRef(({className:e,align:t="start",children:n,...r},s)=>{const{open:i,setOpen:a}=b.useContext(xu);if(!i)return null;const l={start:"left-0",end:"right-0",center:"left-1/2 -translate-x-1/2"};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),o.jsx("div",{ref:s,className:ye("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",l[t],e),...r,children:n})]})});$b.displayName="DropdownMenuContent";const Ha=b.forwardRef(({className:e,...t},n)=>{const{setOpen:r}=b.useContext(xu);return o.jsx("div",{ref:n,onClick:s=>{var i;t.onClick||r(!1),(i=t.onClick)==null||i.call(t,s)},className:ye("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t})});Ha.displayName="DropdownMenuItem";const pf=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));pf.displayName="DropdownMenuSeparator";function fP({children:e,currentPageName:t}){var c,u,d,h;const[n,r]=b.useState(!1),{user:s,signOut:i}=Lm(),a=[{name:"Create",icon:Fc,label:"Create"},{name:"Blenderstorm",icon:Zr,label:"Blenderstorm"},{name:"Explore",icon:qT,label:"Explore"},{name:"MyAddons",icon:Xr,label:"My Addons"},{name:"Debug",icon:qs,label:"Debug"}],l=async()=>{await i()};return o.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[o.jsx("nav",{className:"sticky top-0 z-50 bg-zinc-950/80 backdrop-blur-xl border-b border-zinc-800",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Be,{to:We("Home"),className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:o.jsx(Zr,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"text-lg font-bold text-white",children:"BlenderAI"})]}),o.jsx("div",{className:"hidden md:flex items-center gap-1",children:a.map(f=>o.jsx(Be,{to:We(f.name),children:o.jsxs(V,{variant:"ghost",className:`text-zinc-400 hover:text-white hover:bg-zinc-800 ${t===f.name?"text-white bg-zinc-800":""}`,children:[o.jsx(f.icon,{className:"w-4 h-4 mr-2"}),f.label]})},f.name))}),o.jsxs("div",{className:"flex items-center gap-3",children:[s?o.jsxs(hP,{children:[o.jsx(Fb,{asChild:!0,children:o.jsxs(V,{variant:"ghost",className:"text-zinc-300 hover:text-white hover:bg-zinc-800",children:[o.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white text-sm font-medium mr-2",children:((u=(c=s.full_name)==null?void 0:c[0])==null?void 0:u.toUpperCase())||((h=(d=s.email)==null?void 0:d[0])==null?void 0:h.toUpperCase())||"U"}),o.jsx("span",{className:"hidden sm:inline",children:s.full_name||"User"}),o.jsx($m,{className:"w-4 h-4 ml-1 text-zinc-500"})]})}),o.jsxs($b,{align:"end",className:"bg-zinc-900 border-zinc-800 w-48",children:[o.jsxs(Ha,{className:"text-zinc-400 focus:text-white focus:bg-zinc-800",children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),(s==null?void 0:s.email)||"User"]}),o.jsx(pf,{className:"bg-zinc-800"}),(s==null?void 0:s.username)&&o.jsx(Be,{to:We(`Profile?username=${s.username}`),children:o.jsxs(Ha,{className:"text-zinc-400 focus:text-white focus:bg-zinc-800 cursor-pointer",children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),o.jsx(Be,{to:We("Settings"),children:o.jsxs(Ha,{className:"text-zinc-400 focus:text-white focus:bg-zinc-800 cursor-pointer",children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Settings"]})}),o.jsx(pf,{className:"bg-zinc-800"}),o.jsxs(Ha,{onClick:l,className:"text-red-400 focus:text-red-300 focus:bg-zinc-800",children:[o.jsx(XT,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):o.jsx(V,{onClick:()=>base44.auth.redirectToLogin(),className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Sign In"}),o.jsxs(OT,{open:n,onOpenChange:r,children:[o.jsx(Ab,{asChild:!0,className:"md:hidden",children:o.jsx(V,{variant:"ghost",size:"icon",className:"text-zinc-400",children:o.jsx(ZT,{className:"w-5 h-5"})})}),o.jsx(Rb,{side:"right",className:"bg-zinc-900 border-zinc-800 w-64",children:o.jsx("div",{className:"flex flex-col gap-2 mt-8",children:a.map(f=>o.jsx(Be,{to:We(f.name),onClick:()=>r(!1),children:o.jsxs(V,{variant:"ghost",className:`w-full justify-start text-zinc-400 hover:text-white hover:bg-zinc-800 ${t===f.name?"text-white bg-zinc-800":""}`,children:[o.jsx(f.icon,{className:"w-4 h-4 mr-2"}),f.label]})},f.name))})})]})]})]})})}),o.jsx("main",{children:e}),o.jsx("footer",{className:"border-t border-zinc-800 bg-zinc-950",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:o.jsx(Zr,{className:"w-3 h-3 text-white"})}),o.jsx("span",{className:"text-zinc-400 text-sm",children:"BlenderAI Addon Creator"})]}),o.jsx("div",{className:"text-zinc-500 text-sm",children:"Create amazing Blender addons with AI"})]})})})]})}const mP="modulepreload",pP=function(e){return"/"+e},By={},sn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=pP(c),c in By)return;By[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":mP,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function jn({data:e,error:t}){var n;if(t){if(t.code==="PGRST116"||(n=t.message)!=null&&n.includes("does not exist"))return console.warn("Supabase table not found, returning empty array. Make sure you ran the SQL schema."),[];throw console.error("Supabase error:",t),t}return e||[]}function Un(e,t,n,r){let s=oe.from(e).select("*");if(t&&Object.keys(t).forEach(i=>{t[i]!==void 0&&(i==="is_published"||i==="is_free"||i==="is_default"||i==="is_current"?s=s.eq(i,t[i]):i==="id"?s=s.eq("id",t[i]):s=s.eq(i,t[i]))}),n){const i=n.startsWith("-"),a=i?n.substring(1):n;s=s.order(a,{ascending:!i})}else s=s.order("created_at",{ascending:!1});return r&&(s=s.limit(r)),s}const fe={Addon:{create:async e=>{const{data:t,error:n}=await oe.from("addons").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("addons").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n},delete:async e=>{const{error:t}=await oe.from("addons").delete().eq("id",e);if(t)throw t;return{id:e}},list:async()=>{const{data:e,error:t}=await oe.from("addons").select("*").order("created_at",{ascending:!1});return jn({data:e,error:t})},filter:async(e,t,n)=>{const r=Un("addons",e,t,n),{data:s,error:i}=await r;return jn({data:s,error:i})}},AddonVersion:{create:async e=>{const{data:t,error:n}=await oe.from("addon_versions").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("addon_versions").update(t).eq("id",e).select().single();if(r)throw r;return n},filter:async(e,t,n)=>{const r=Un("addon_versions",e,t,n),{data:s,error:i}=await r;return jn({data:s,error:i})}},Rating:{create:async e=>{const{data:t}=await oe.from("ratings").select("id").eq("addon_id",e.addon_id).eq("user_email",e.user_email).single();if(t){const{data:n,error:r}=await oe.from("ratings").update({rating:e.rating,comment:e.comment||null,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();if(r)throw r;return n}else{const{data:n,error:r}=await oe.from("ratings").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return n}},update:async(e,t)=>{const{data:n,error:r}=await oe.from("ratings").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n},delete:async e=>{const{error:t}=await oe.from("ratings").delete().eq("id",e);if(t)throw t;return{id:e}},filter:async e=>{const t=Un("ratings",e),{data:n,error:r}=await t;return jn({data:n,error:r})},getAverageRating:async e=>{const{data:t,error:n}=await oe.from("ratings").select("rating").eq("addon_id",e);if(n||!t||t.length===0)return 0;const r=t.reduce((s,i)=>s+i.rating,0);return parseFloat((r/t.length).toFixed(1))},getRatingCount:async e=>{const{count:t,error:n}=await oe.from("ratings").select("*",{count:"exact",head:!0}).eq("addon_id",e);return n?0:t||0}},Purchase:{create:async e=>{const{data:t,error:n}=await oe.from("purchases").insert([{...e,purchased_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},filter:async e=>{const t=Un("purchases",e),{data:n,error:r}=await t;return jn({data:n,error:r})}},PaymentMethod:{create:async e=>{const{data:t,error:n}=await oe.from("payment_methods").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("payment_methods").update(t).eq("id",e).select().single();if(r)throw r;return n},delete:async e=>{const{error:t}=await oe.from("payment_methods").delete().eq("id",e);if(t)throw t;return{id:e}},filter:async e=>{const t=Un("payment_methods",e),{data:n,error:r}=await t;return jn({data:n,error:r})}},Transaction:{create:async e=>{const{data:t,error:n}=await oe.from("transactions").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},filter:async(e,t,n)=>{const r=Un("transactions",e,t,n),{data:s,error:i}=await r;return jn({data:s,error:i})}},Payout:{create:async e=>{const{data:t,error:n}=await oe.from("payouts").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("payouts").update(t).eq("id",e).select().single();if(r)throw r;return n},filter:async(e,t,n)=>{const r=Un("payouts",e,t,n),{data:s,error:i}=await r;return jn({data:s,error:i})}},ApiKey:{get:async(e,t)=>{const{data:n,error:r}=await oe.from("api_keys").select("*").eq("user_email",e).eq("key_type",t).single();if(r&&r.code!=="PGRST116")throw r;return(n==null?void 0:n.key_value)||null},set:async(e,t,n)=>{const{data:r,error:s}=await oe.from("api_keys").upsert({user_email:e,key_type:t,key_value:n,updated_at:new Date().toISOString()},{onConflict:"user_email,key_type"}).select().single();if(s)throw s;return r},delete:async(e,t)=>{const{error:n}=await oe.from("api_keys").delete().eq("user_email",e).eq("key_type",t);if(n)throw n;return{success:!0}}},Idea:{create:async e=>{const{data:t,error:n}=await oe.from("ideas").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("ideas").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n},delete:async e=>{const{error:t}=await oe.from("ideas").delete().eq("id",e);if(t)throw t;return{id:e}},filter:async e=>{const t=Un("ideas",e),{data:n,error:r}=await t;return jn({data:n,error:r})}},Follow:{create:async e=>{const{data:t,error:n}=await oe.from("follows").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},delete:async e=>{const{error:t}=await oe.from("follows").delete().eq("id",e);if(t)throw t;return{id:e}},filter:async e=>{const t=Un("follows",e),{data:n,error:r}=await t;return jn({data:n,error:r})}}},bu=Object.freeze(Object.defineProperty({__proto__:null,supabaseAdapter:fe},Symbol.toStringTag,{value:"Module"})),Ve={ADDONS:"blender_addons",USERS:"blender_users",VERSIONS:"blender_versions",FOLLOWS:"blender_follows",IDEAS:"blender_ideas",PAYMENT_METHODS:"blender_payment_methods",TRANSACTIONS:"blender_transactions",PURCHASES:"blender_purchases",PAYOUTS:"blender_payouts",RATINGS:"blender_ratings"};function Vy(){typeof window>"u"||(localStorage.getItem(Ve.ADDONS)||localStorage.setItem(Ve.ADDONS,JSON.stringify([])),localStorage.getItem(Ve.USERS)||localStorage.setItem(Ve.USERS,JSON.stringify([])),localStorage.getItem(Ve.VERSIONS)||localStorage.setItem(Ve.VERSIONS,JSON.stringify([])),localStorage.getItem(Ve.FOLLOWS)||localStorage.setItem(Ve.FOLLOWS,JSON.stringify([])),localStorage.getItem(Ve.IDEAS)||localStorage.setItem(Ve.IDEAS,JSON.stringify([])),localStorage.getItem(Ve.PAYMENT_METHODS)||localStorage.setItem(Ve.PAYMENT_METHODS,JSON.stringify([])),localStorage.getItem(Ve.TRANSACTIONS)||localStorage.setItem(Ve.TRANSACTIONS,JSON.stringify([])),localStorage.getItem(Ve.PURCHASES)||localStorage.setItem(Ve.PURCHASES,JSON.stringify([])),localStorage.getItem(Ve.PAYOUTS)||localStorage.setItem(Ve.PAYOUTS,JSON.stringify([])),localStorage.getItem(Ve.RATINGS)||localStorage.setItem(Ve.RATINGS,JSON.stringify([])))}const Bb={getAll:()=>{Vy();const e=localStorage.getItem(Ve.USERS);return JSON.parse(e||"[]")},filter:e=>{Vy();let t=Bb.getAll();return Object.keys(e).forEach(n=>{e[n]!==void 0&&(t=t.filter(r=>r[n]===e[n]))}),t}};function qy(){if(typeof window>"u")return null;const e=localStorage.getItem("current_user");if(e)return JSON.parse(e);const t={email:"user@example.com",full_name:"Test User",username:"testuser",avatar_url:null,bio:"",website:""};return localStorage.setItem("current_user",JSON.stringify(t)),t}const q={auth:{me:async()=>qy(),updateMe:async e=>{const{upsertUserProfile:t}=await sn(async()=>{const{upsertUserProfile:r}=await Promise.resolve().then(()=>pa);return{upsertUserProfile:r}},void 0);return await t(e)||qy()},logout:async()=>{const{supabase:e}=await sn(async()=>{const{supabase:t}=await Promise.resolve().then(()=>pa);return{supabase:t}},void 0);await e.auth.signOut(),localStorage.removeItem("current_user"),window.location.href="/"},redirectToLogin:()=>{window.location.href="/login"}},entities:{Addon:{create:async e=>fe.Addon.create(e),update:async(e,t)=>fe.Addon.update(e,t),delete:async e=>fe.Addon.delete(e),list:async()=>fe.Addon.list(),filter:async(e,t,n)=>fe.Addon.filter(e,t,n)},AddonVersion:{create:async e=>fe.AddonVersion.create(e),update:async(e,t)=>fe.AddonVersion.update(e,t),filter:async(e,t,n)=>fe.AddonVersion.filter(e,t,n)},User:{filter:async e=>Bb.filter(e)},Follow:{create:async e=>fe.Follow.create(e),delete:async e=>fe.Follow.delete(e),filter:async e=>fe.Follow.filter(e)},Idea:{create:async e=>fe.Idea.create(e),update:async(e,t)=>fe.Idea.update(e,t),delete:async e=>fe.Idea.delete(e),filter:async e=>fe.Idea.filter(e)},PaymentMethod:{create:async e=>fe.PaymentMethod.create(e),update:async(e,t)=>fe.PaymentMethod.update(e,t),delete:async e=>fe.PaymentMethod.delete(e),filter:async e=>fe.PaymentMethod.filter(e)},Transaction:{create:async e=>fe.Transaction.create(e),filter:async(e,t,n)=>fe.Transaction.filter(e,t,n)},Purchase:{create:async e=>fe.Purchase.create(e),filter:async e=>fe.Purchase.filter(e)},Payout:{create:async e=>fe.Payout.create(e),update:async(e,t)=>fe.Payout.update(e,t),filter:async(e,t,n)=>fe.Payout.filter(e,t,n)},Rating:{create:async e=>fe.Rating.create(e),update:async(e,t)=>fe.Rating.update(e,t),delete:async e=>fe.Rating.delete(e),filter:async e=>fe.Rating.filter(e),getAverageRating:async e=>fe.Rating.getAverageRating(e),getRatingCount:async e=>fe.Rating.getRatingCount(e)}},integrations:{Core:{UploadFile:async({file:e})=>new Promise(t=>{const n=new FileReader;n.onload=r=>{t({file_url:r.target.result})},n.readAsDataURL(e)})}}},Vb=Object.freeze(Object.defineProperty({__proto__:null,base44:q},Symbol.toStringTag,{value:"Module"})),ne=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const jr=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));jr.displayName="CardHeader";const kr=b.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));kr.displayName="CardTitle";const gP=b.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));gP.displayName="CardDescription";const qn=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("p-6 pt-0",e),...t}));qn.displayName="CardContent";const yP=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",e),...t}));yP.displayName="CardFooter";const qb=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),_u=b.createContext({}),Su=b.createContext(null),ju=typeof document<"u",qm=ju?b.useLayoutEffect:b.useEffect,Wb=b.createContext({strict:!1}),Wm=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vP="framerAppearId",Kb="data-"+Wm(vP);function wP(e,t,n,r){const{visualElement:s}=b.useContext(_u),i=b.useContext(Wb),a=b.useContext(Su),l=b.useContext(qb).reducedMotion,c=b.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(n,a)});const d=b.useRef(!!(n[Kb]&&!window.HandoffComplete));return qm(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Li(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xP(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Li(n)&&(n.current=r))},[t])}function Vo(e){return typeof e=="string"||Array.isArray(e)}function ku(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Km=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hm=["initial",...Km];function Cu(e){return ku(e.animate)||Hm.some(t=>Vo(e[t]))}function Hb(e){return!!(Cu(e)||e.variants)}function bP(e,t){if(Cu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Vo(n)?n:void 0,animate:Vo(r)?r:void 0}}return e.inherit!==!1?t:{}}function _P(e){const{initial:t,animate:n}=bP(e,b.useContext(_u));return b.useMemo(()=>({initial:t,animate:n}),[Wy(t),Wy(n)])}function Wy(e){return Array.isArray(e)?e.join(" "):e}const Ky={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qo={};for(const e in Ky)qo[e]={isEnabled:t=>Ky[e].some(n=>!!t[n])};function SP(e){for(const t in e)qo[t]={...qo[t],...e[t]}}const Gm=b.createContext({}),Gb=b.createContext({}),jP=Symbol.for("motionComponentSymbol");function kP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&SP(e);function i(l,c){let u;const d={...b.useContext(qb),...l,layoutId:CP(l)},{isStatic:h}=d,f=_P(l),m=r(l,h);if(!h&&ju){f.visualElement=wP(s,m,d,t);const v=b.useContext(Gb),w=b.useContext(Wb).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,w,e,v))}return b.createElement(_u.Provider,{value:f},u&&f.visualElement?b.createElement(u,{visualElement:f.visualElement,...d}):null,n(s,l,xP(m,f.visualElement,c),m,h,f.visualElement))}const a=b.forwardRef(i);return a[jP]=s,a}function CP({layoutId:e}){const t=b.useContext(Gm).id;return t&&e!==void 0?t+"-"+e:e}function NP(e){function t(r,s={}){return kP(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const EP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ym(e){return typeof e!="string"||e.includes("-")?!1:!!(EP.indexOf(e)>-1||/[A-Z]/.test(e))}const $c={};function TP(e){Object.assign($c,e)}const ll=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ai=new Set(ll);function Yb(e,{layout:t,layoutId:n}){return ai.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$c[e]||e==="opacity")}const zt=e=>!!(e&&e.getVelocity),PP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AP=ll.length;function RP(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<AP;a++){const l=ll[a];if(e[l]!==void 0){const c=PP[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const Qb=e=>t=>typeof t=="string"&&t.startsWith(e),Jb=Qb("--"),gf=Qb("var(--"),OP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,IP=(e,t)=>t&&typeof e=="number"?t.transform(e):e,as=(e,t,n)=>Math.min(Math.max(n,e),t),oi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lo={...oi,transform:e=>as(0,1,e)},ql={...oi,default:1},co=e=>Math.round(e*1e5)/1e5,Nu=/(-)?([\d]*\.?[\d])+/g,Xb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,zP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function cl(e){return typeof e=="string"}const ul=e=>({test:t=>cl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xr=ul("deg"),On=ul("%"),re=ul("px"),MP=ul("vh"),DP=ul("vw"),Hy={...On,parse:e=>On.parse(e)/100,transform:e=>On.transform(e*100)},Gy={...oi,transform:Math.round},Zb={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:ql,scaleX:ql,scaleY:ql,scaleZ:ql,skew:xr,skewX:xr,skewY:xr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:lo,originX:Hy,originY:Hy,originZ:re,zIndex:Gy,fillOpacity:lo,strokeOpacity:lo,numOctaves:Gy};function Qm(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(Jb(h)){i[h]=f;continue}const m=Zb[h],v=IP(f,m);if(ai.has(h)){if(c=!0,a[h]=v,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=v):s[h]=v}if(t.transform||(c||r?s.transform=RP(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=l;s.transformOrigin=`${h} ${f} ${m}`}}const Jm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function e1(e,t,n){for(const r in t)!zt(t[r])&&!Yb(r,n)&&(e[r]=t[r])}function LP({transformTemplate:e},t,n){return b.useMemo(()=>{const r=Jm();return Qm(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function UP(e,t,n){const r=e.style||{},s={};return e1(s,r,e),Object.assign(s,LP(e,t,n)),e.transformValues?e.transformValues(s):s}function FP(e,t,n){const r={},s=UP(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const $P=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$P.has(e)}let t1=e=>!Bc(e);function BP(e){e&&(t1=t=>t.startsWith("on")?!Bc(t):e(t))}try{BP(require("@emotion/is-prop-valid").default)}catch{}function VP(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(t1(s)||n===!0&&Bc(s)||!t&&!Bc(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Yy(e,t,n){return typeof e=="string"?e:re.transform(t+n*e)}function qP(e,t,n){const r=Yy(t,e.x,e.width),s=Yy(n,e.y,e.height);return`${r} ${s}`}const WP={offset:"stroke-dashoffset",array:"stroke-dasharray"},KP={offset:"strokeDashoffset",array:"strokeDasharray"};function HP(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?WP:KP;e[i.offset]=re.transform(-r);const a=re.transform(t),l=re.transform(n);e[i.array]=`${a} ${l}`}function Xm(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h,f){if(Qm(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:w}=e;m.transform&&(w&&(v.transform=m.transform),delete m.transform),w&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=qP(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&HP(m,a,l,c,!1)}const n1=()=>({...Jm(),attrs:{}}),Zm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function GP(e,t,n,r){const s=b.useMemo(()=>{const i=n1();return Xm(i,t,{enableHardwareAcceleration:!1},Zm(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};e1(i,e.style,e),s.style={...i,...s.style}}return s}function YP(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(Ym(n)?GP:FP)(r,i,a,n),d={...VP(r,typeof n=="string",e),...c,ref:s},{children:h}=r,f=b.useMemo(()=>zt(h)?h.get():h,[h]);return b.createElement(n,{...d,children:f})}}function r1(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const s1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i1(e,t,n,r){r1(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(s1.has(s)?s:Wm(s),t.attrs[s])}function ep(e,t){const{style:n}=e,r={};for(const s in n)(zt(n[s])||t.style&&zt(t.style[s])||Yb(s,e))&&(r[s]=n[s]);return r}function a1(e,t){const n=ep(e,t);for(const r in e)if(zt(e[r])||zt(t[r])){const s=ll.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function tp(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function o1(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Vc=e=>Array.isArray(e),QP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),JP=e=>Vc(e)?e[e.length-1]||0:e;function lc(e){const t=zt(e)?e.get():e;return QP(t)?t.toValue():t}function XP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const a={latestValues:ZP(r,s,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const l1=e=>(t,n)=>{const r=b.useContext(_u),s=b.useContext(Su),i=()=>XP(e,t,r,s);return n?i():o1(i)};function ZP(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=lc(i[f]);let{initial:a,animate:l}=e;const c=Cu(e),u=Hb(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;return h&&typeof h!="boolean"&&!ku(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=tp(e,m);if(!v)return;const{transitionEnd:w,transition:_,...g}=v;for(const y in g){let p=g[y];if(Array.isArray(p)){const x=d?p.length-1:0;p=p[x]}p!==null&&(s[y]=p)}for(const y in w)s[y]=w[y]}),s}const Ke=e=>e;class Qy{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function eA(e){let t=new Qy,n=new Qy,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:n;return u&&a.add(c),f.add(c)&&h&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const Wl=["prepare","read","update","preRender","render","postRender"],tA=40;function nA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Wl.reduce((h,f)=>(h[f]=eA(()=>n=!0),h),{}),a=h=>i[h].process(s),l=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,tA),1),s.timestamp=h,s.isProcessing=!0,Wl.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Wl.reduce((h,f)=>{const m=i[f];return h[f]=(v,w=!1,_=!1)=>(n||c(),m.schedule(v,w,_)),h},{}),cancel:h=>Wl.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:ke,cancel:ar,state:mt,steps:Cd}=nA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ke,!0),rA={useVisualState:l1({scrapeMotionValuesFromProps:a1,createRenderState:n1,onMount:(e,t,{renderState:n,latestValues:r})=>{ke.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ke.render(()=>{Xm(n,r,{enableHardwareAcceleration:!1},Zm(t.tagName),e.transformTemplate),i1(t,n)})}})},sA={useVisualState:l1({scrapeMotionValuesFromProps:ep,createRenderState:Jm})};function iA(e,{forwardMotionProps:t=!1},n,r){return{...Ym(e)?rA:sA,preloadedFeatures:n,useRender:YP(t),createVisualElement:r,Component:e}}function Jn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const c1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Eu(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const aA=e=>t=>c1(t)&&e(t,Eu(t));function Zn(e,t,n,r){return Jn(e,t,aA(n),r)}const oA=(e,t)=>n=>t(e(n)),ts=(...e)=>e.reduce(oA);function u1(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Jy=u1("dragHorizontal"),Xy=u1("dragVertical");function d1(e){let t=!1;if(e==="y")t=Xy();else if(e==="x")t=Jy();else{const n=Jy(),r=Xy();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function h1(){const e=d1(!0);return e?(e(),!1):!0}class hs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Zy(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||h1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&ke.update(()=>l[r](i,a))};return Zn(e.current,n,s,{passive:!e.getProps()[r]})}class lA extends hs{mount(){this.unmount=ts(Zy(this.node,!0),Zy(this.node,!1))}unmount(){}}class cA extends hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ts(Jn(this.node.current,"focus",()=>this.onFocus()),Jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const f1=(e,t)=>t?e===t?!0:f1(e,t.parentElement):!1;function Nd(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Eu(n))}class uA extends hs{constructor(){super(...arguments),this.removeStartListeners=Ke,this.removeEndListeners=Ke,this.removeAccessibleListeners=Ke,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Zn(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();ke.update(()=>{!h&&!f1(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Zn(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ts(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Nd("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ke.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Jn(this.node.current,"keyup",a),Nd("down",(l,c)=>{this.startPress(l,c)})},n=Jn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Nd("cancel",(i,a)=>this.cancelPress(i,a))},s=Jn(this.node.current,"blur",r);this.removeAccessibleListeners=ts(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ke.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!h1()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ke.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Zn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Jn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ts(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const yf=new WeakMap,Ed=new WeakMap,dA=e=>{const t=yf.get(e.target);t&&t(e)},hA=e=>{e.forEach(dA)};function fA({root:e,...t}){const n=e||document;Ed.has(n)||Ed.set(n,{});const r=Ed.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(hA,{root:e,...t})),r[s]}function mA(e,t,n){const r=fA(t);return yf.set(e,n),r.observe(e),()=>{yf.delete(e),r.unobserve(e)}}const pA={some:0,all:1};class gA extends hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pA[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return mA(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(yA(t,n))&&this.startObserver()}unmount(){}}function yA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vA={inView:{Feature:gA},tap:{Feature:uA},focus:{Feature:cA},hover:{Feature:lA}};function m1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function wA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function xA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Tu(e,t,n){const r=e.getProps();return tp(r,t,n!==void 0?n:r.custom,wA(e),xA(e))}let np=Ke;const Ws=e=>e*1e3,er=e=>e/1e3,bA={current:!1},p1=e=>Array.isArray(e)&&typeof e[0]=="number";function g1(e){return!!(!e||typeof e=="string"&&y1[e]||p1(e)||Array.isArray(e)&&e.every(g1))}const Ga=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,y1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ga([0,.65,.55,1]),circOut:Ga([.55,0,1,.45]),backIn:Ga([.31,.01,.66,-.59]),backOut:Ga([.33,1.53,.69,.99])};function v1(e){if(e)return p1(e)?Ga(e):Array.isArray(e)?e.map(v1):y1[e]}function _A(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=v1(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function SA(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const w1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,jA=1e-7,kA=12;function CA(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=w1(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>jA&&++l<kA);return a}function dl(e,t,n,r){if(e===t&&n===r)return Ke;const s=i=>CA(i,0,1,e,n);return i=>i===0||i===1?i:w1(s(i),t,r)}const NA=dl(.42,0,1,1),EA=dl(0,0,.58,1),x1=dl(.42,0,.58,1),TA=e=>Array.isArray(e)&&typeof e[0]!="number",b1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_1=e=>t=>1-e(1-t),rp=e=>1-Math.sin(Math.acos(e)),S1=_1(rp),PA=b1(rp),j1=dl(.33,1.53,.69,.99),sp=_1(j1),AA=b1(sp),RA=e=>(e*=2)<1?.5*sp(e):.5*(2-Math.pow(2,-10*(e-1))),OA={linear:Ke,easeIn:NA,easeInOut:x1,easeOut:EA,circIn:rp,circInOut:PA,circOut:S1,backIn:sp,backInOut:AA,backOut:j1,anticipate:RA},e0=e=>{if(Array.isArray(e)){np(e.length===4);const[t,n,r,s]=e;return dl(t,n,r,s)}else if(typeof e=="string")return OA[e];return e},ip=(e,t)=>n=>!!(cl(n)&&zP.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),k1=(e,t,n)=>r=>{if(!cl(r))return r;const[s,i,a,l]=r.match(Nu);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},IA=e=>as(0,255,e),Td={...oi,transform:e=>Math.round(IA(e))},Rs={test:ip("rgb","red"),parse:k1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Td.transform(e)+", "+Td.transform(t)+", "+Td.transform(n)+", "+co(lo.transform(r))+")"};function zA(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const vf={test:ip("#"),parse:zA,transform:Rs.transform},Ui={test:ip("hsl","hue"),parse:k1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+On.transform(co(t))+", "+On.transform(co(n))+", "+co(lo.transform(r))+")"},xt={test:e=>Rs.test(e)||vf.test(e)||Ui.test(e),parse:e=>Rs.test(e)?Rs.parse(e):Ui.test(e)?Ui.parse(e):vf.parse(e),transform:e=>cl(e)?e:e.hasOwnProperty("red")?Rs.transform(e):Ui.transform(e)},Me=(e,t,n)=>-n*e+n*t+e;function Pd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Pd(c,l,e+1/3),i=Pd(c,l,e),a=Pd(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Ad=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},DA=[vf,Rs,Ui],LA=e=>DA.find(t=>t.test(e));function t0(e){const t=LA(e);let n=t.parse(e);return t===Ui&&(n=MA(n)),n}const C1=(e,t)=>{const n=t0(e),r=t0(t),s={...n};return i=>(s.red=Ad(n.red,r.red,i),s.green=Ad(n.green,r.green,i),s.blue=Ad(n.blue,r.blue,i),s.alpha=Me(n.alpha,r.alpha,i),Rs.transform(s))};function UA(e){var t,n;return isNaN(e)&&cl(e)&&(((t=e.match(Nu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Xb))===null||n===void 0?void 0:n.length)||0)>0}const N1={regex:OP,countKey:"Vars",token:"${v}",parse:Ke},E1={regex:Xb,countKey:"Colors",token:"${c}",parse:xt.parse},T1={regex:Nu,countKey:"Numbers",token:"${n}",parse:oi.parse};function Rd(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function qc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Rd(n,N1),Rd(n,E1),Rd(n,T1),n}function P1(e){return qc(e).values}function A1(e){const{values:t,numColors:n,numVars:r,tokenised:s}=qc(e),i=t.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(N1.token,a[c]):c<r+n?l=l.replace(E1.token,xt.transform(a[c])):l=l.replace(T1.token,co(a[c]));return l}}const FA=e=>typeof e=="number"?0:e;function $A(e){const t=P1(e);return A1(e)(t.map(FA))}const os={test:UA,parse:P1,createTransformer:A1,getAnimatableNone:$A},R1=(e,t)=>n=>`${n>0?t:e}`;function O1(e,t){return typeof e=="number"?n=>Me(e,t,n):xt.test(e)?C1(e,t):e.startsWith("var(")?R1(e,t):z1(e,t)}const I1=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,a)=>O1(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},BA=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=O1(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},z1=(e,t)=>{const n=os.createTransformer(t),r=qc(e),s=qc(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?ts(I1(r.values,s.values),n):R1(e,t)},Wo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},n0=(e,t)=>n=>Me(e,t,n);function VA(e){return typeof e=="number"?n0:typeof e=="string"?xt.test(e)?C1:z1:Array.isArray(e)?I1:typeof e=="object"?BA:n0}function qA(e,t,n){const r=[],s=n||VA(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Ke:t;l=ts(c,l)}r.push(l)}return r}function M1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(np(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=qA(t,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Wo(e[d],e[d+1],u);return a[d](h)};return n?u=>c(as(e[0],e[i-1],u)):c}function WA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Wo(0,t,r);e.push(Me(n,1,s))}}function KA(e){const t=[0];return WA(t,e.length-1),t}function HA(e,t){return e.map(n=>n*t)}function GA(e,t){return e.map(()=>t||x1).splice(0,e.length-1)}function Wc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=TA(r)?r.map(e0):e0(r),i={done:!1,value:t[0]},a=HA(n&&n.length===t.length?n:KA(t),e),l=M1(a,t,{ease:Array.isArray(s)?s:GA(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function D1(e,t){return t?e*(1e3/t):0}const YA=5;function L1(e,t,n){const r=Math.max(t-YA,0);return D1(n-e(r),t-r)}const Od=.001,QA=.01,JA=10,XA=.05,ZA=1;function eR({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,a=1-t;a=as(XA,ZA,a),e=as(QA,JA,er(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-n,m=wf(u,a),v=Math.exp(-h);return Od-f/m*v},i=u=>{const h=u*a*e,f=h*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-h),w=wf(Math.pow(u,2),a);return(-s(u)+Od>0?-1:1)*((f-m)*v)/w}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Od+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=nR(s,i,l);if(e=Ws(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const tR=12;function nR(e,t,n){let r=n;for(let s=1;s<tR;s++)r=r-e(r)/t(r);return r}function wf(e,t){return e*Math.sqrt(1-t*t)}const rR=["duration","bounce"],sR=["stiffness","damping","mass"];function r0(e,t){return t.some(n=>e[n]!==void 0)}function iR(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!r0(e,sR)&&r0(e,rR)){const n=eR(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function U1({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=iR({...r,velocity:-er(r.velocity||0)}),m=h||0,v=c/(2*Math.sqrt(l*u)),w=i-s,_=er(Math.sqrt(l/u)),g=Math.abs(w)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let y;if(v<1){const p=wf(_,v);y=x=>{const S=Math.exp(-v*_*x);return i-S*((m+v*_*w)/p*Math.sin(p*x)+w*Math.cos(p*x))}}else if(v===1)y=p=>i-Math.exp(-_*p)*(w+(m+_*w)*p);else{const p=_*Math.sqrt(v*v-1);y=x=>{const S=Math.exp(-v*_*x),j=Math.min(p*x,300);return i-S*((m+v*_*w)*Math.sinh(j)+p*w*Math.cosh(j))/p}}return{calculatedDuration:f&&d||null,next:p=>{const x=y(p);if(f)a.done=p>=d;else{let S=m;p!==0&&(v<1?S=L1(y,p,x):S=0);const j=Math.abs(S)<=n,T=Math.abs(i-x)<=t;a.done=j&&T}return a.value=a.done?i:x,a}}}function s0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=N=>l!==void 0&&N<l||c!==void 0&&N>c,v=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let w=n*t;const _=h+w,g=a===void 0?_:a(_);g!==_&&(w=g-h);const y=N=>-w*Math.exp(-N/r),p=N=>g+y(N),x=N=>{const k=y(N),E=p(N);f.done=Math.abs(k)<=u,f.value=f.done?g:E};let S,j;const T=N=>{m(f.value)&&(S=N,j=U1({keyframes:[f.value,v(f.value)],velocity:L1(p,N,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:N=>{let k=!1;return!j&&S===void 0&&(k=!0,x(N),T(N)),S!==void 0&&N>S?j.next(N-S):(!k&&x(N),f)}}}const aR=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ke.update(t,!0),stop:()=>ar(t),now:()=>mt.isProcessing?mt.timestamp:performance.now()}},i0=2e4;function a0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<i0;)t+=n,r=e.next(t);return t>=i0?1/0:t}const oR={decay:s0,inertia:s0,tween:Wc,keyframes:Wc,spring:U1};function Kc({autoplay:e=!0,delay:t=0,driver:n=aR,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let m=1,v=!1,w,_;const g=()=>{_=new Promise($=>{w=$})};g();let y;const p=oR[s]||Wc;let x;p!==Wc&&typeof r[0]!="number"&&(x=M1([0,100],r,{clamp:!1}),r=[0,100]);const S=p({...f,keyframes:r});let j;l==="mirror"&&(j=p({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let T="idle",N=null,k=null,E=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=a0(S));const{calculatedDuration:z}=S;let L=1/0,J=1/0;z!==null&&(L=z+a,J=L*(i+1)-a);let F=0;const le=$=>{if(k===null)return;m>0&&(k=Math.min(k,$)),m<0&&(k=Math.min($-J/m,k)),N!==null?F=N:F=Math.round($-k)*m;const P=F-t*(m>=0?1:-1),W=m>=0?P<0:P>J;F=Math.max(P,0),T==="finished"&&N===null&&(F=J);let Z=F,B=S;if(i){const Ct=Math.min(F,J)/L;let Dn=Math.floor(Ct),Mt=Ct%1;!Mt&&Ct>=1&&(Mt=1),Mt===1&&Dn--,Dn=Math.min(Dn,i+1),!!(Dn%2)&&(l==="reverse"?(Mt=1-Mt,a&&(Mt-=a/L)):l==="mirror"&&(B=j)),Z=as(0,1,Mt)*L}const ie=W?{done:!1,value:r[0]}:B.next(Z);x&&(ie.value=x(ie.value));let{done:se}=ie;!W&&z!==null&&(se=m>=0?F>=J:F<=0);const yt=N===null&&(T==="finished"||T==="running"&&se);return h&&h(ie.value),yt&&O(),ie},A=()=>{y&&y.stop(),y=void 0},Y=()=>{T="idle",A(),w(),g(),k=E=null},O=()=>{T="finished",d&&d(),A(),w()},R=()=>{if(v)return;y||(y=n(le));const $=y.now();c&&c(),N!==null?k=$-N:(!k||T==="finished")&&(k=$),T==="finished"&&g(),E=k,N=null,T="running",y.start()};e&&R();const U={then($,P){return _.then($,P)},get time(){return er(F)},set time($){$=Ws($),F=$,N!==null||!y||m===0?N=$:k=y.now()-$/m},get duration(){const $=S.calculatedDuration===null?a0(S):S.calculatedDuration;return er($)},get speed(){return m},set speed($){$===m||!y||(m=$,U.time=er(F))},get state(){return T},play:R,pause:()=>{T="paused",N=F},stop:()=>{v=!0,T!=="idle"&&(T="idle",u&&u(),Y())},cancel:()=>{E!==null&&le(E),Y()},complete:()=>{T="finished"},sample:$=>(k=0,le($))};return U}function lR(e){let t;return()=>(t===void 0&&(t=e()),t)}const cR=lR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Kl=10,dR=2e4,hR=(e,t)=>t.type==="spring"||e==="backgroundColor"||!g1(t.ease);function fR(e,t,{onUpdate:n,onComplete:r,...s}){if(!(cR()&&uR.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(p=>{l=p})};d();let{keyframes:h,duration:f=300,ease:m,times:v}=s;if(hR(t,s)){const p=Kc({...s,repeat:0,delay:0});let x={done:!1,value:h[0]};const S=[];let j=0;for(;!x.done&&j<dR;)x=p.sample(j),S.push(x.value),j+=Kl;v=void 0,h=S,f=j-Kl,m="linear"}const w=_A(e.owner.current,t,h,{...s,duration:f,ease:m,times:v}),_=()=>{u=!1,w.cancel()},g=()=>{u=!0,ke.update(_),l(),d()};return w.onfinish=()=>{u||(e.set(SA(h,s)),r&&r(),g())},{then(p,x){return c.then(p,x)},attachTimeline(p){return w.timeline=p,w.onfinish=null,Ke},get time(){return er(w.currentTime||0)},set time(p){w.currentTime=Ws(p)},get speed(){return w.playbackRate},set speed(p){w.playbackRate=p},get duration(){return er(f)},play:()=>{a||(w.play(),ar(_))},pause:()=>w.pause(),stop:()=>{if(a=!0,w.playState==="idle")return;const{currentTime:p}=w;if(p){const x=Kc({...s,autoplay:!1});e.setWithVelocity(x.sample(p-Kl).value,x.sample(p).value,Kl)}g()},complete:()=>{u||w.finish()},cancel:g}}function mR({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ke,pause:Ke,stop:Ke,then:i=>(i(),Promise.resolve()),cancel:Ke,complete:Ke});return t?Kc({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const pR={type:"spring",stiffness:500,damping:25,restSpeed:10},gR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yR={type:"keyframes",duration:.8},vR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wR=(e,{keyframes:t})=>t.length>2?yR:ai.has(e)?e.startsWith("scale")?gR(t[1]):pR:vR,xf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(os.test(t)||t==="0")&&!t.startsWith("url(")),xR=new Set(["brightness","contrast","saturate","opacity"]);function bR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Nu)||[];if(!r)return e;const s=n.replace(r,"");let i=xR.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const _R=/([a-z-]*)\(.*?\)/g,bf={...os,getAnimatableNone:e=>{const t=e.match(_R);return t?t.map(bR).join(" "):e}},SR={...Zb,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:bf,WebkitFilter:bf},ap=e=>SR[e];function F1(e,t){let n=ap(e);return n!==bf&&(n=os),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $1=e=>/^0[^.\s]+$/.test(e);function jR(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||$1(e)}function kR(e,t,n,r){const s=xf(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),jR(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=F1(t,l)}return i}function CR({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function op(e,t){return e[t]||e.default||e}const NR={skipAnimations:!1},lp=(e,t,n,r={})=>s=>{const i=op(r,e)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ws(a);const c=kR(t,e,n,i),u=c[0],d=c[c.length-1],h=xf(e,u),f=xf(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(CR(i)||(m={...m,...wR(e,m)}),m.duration&&(m.duration=Ws(m.duration)),m.repeatDelay&&(m.repeatDelay=Ws(m.repeatDelay)),!h||!f||bA.current||i.type===!1||NR.skipAnimations)return mR(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=fR(t,e,m);if(v)return v}return Kc(m)};function Hc(e){return!!(zt(e)&&e.add)}const B1=e=>/^\-?\d*\.?\d+$/.test(e);function cp(e,t){e.indexOf(t)===-1&&e.push(t)}function up(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class dp{constructor(){this.subscriptions=[]}add(t){return cp(this.subscriptions,t),()=>up(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ER=e=>!isNaN(parseFloat(e));class TR{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=mt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=ER(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new dp);const r=this.events[t].add(n);return t==="change"?()=>{r(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?D1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ga(e,t){return new TR(e,t)}const V1=e=>t=>t.test(e),PR={test:e=>e==="auto",parse:e=>e},q1=[oi,re,On,xr,DP,MP,PR],Da=e=>q1.find(V1(e)),AR=[...q1,xt,os],RR=e=>AR.find(V1(e));function OR(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ga(n))}function IR(e,t){const n=Tu(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=JP(i[a]);OR(e,a,l)}}function zR(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(B1(d)||$1(d))?d=parseFloat(d):!RR(d)&&os.test(u)&&(d=F1(c,u)),e.addValue(c,ga(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function MR(e,t){return t?(t[e]||t.default||t).from:void 0}function DR(e,t,n){const r={};for(const s in e){const i=MR(s,t);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function LR({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function UR(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function W1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h),m=l[h];if(!f||m===void 0||d&&LR(d,h))continue;const v={delay:n,elapsed:0,...op(i||{},h)};if(window.HandoffAppearAnimations){const g=e.getProps()[Kb];if(g){const y=window.HandoffAppearAnimations(g,h,f,ke);y!==null&&(v.elapsed=y,v.isHandoff=!0)}}let w=!v.isHandoff&&!UR(f,m);if(v.type==="spring"&&(f.getVelocity()||v.velocity)&&(w=!1),f.animation&&(w=!1),w)continue;f.start(lp(h,f,m,e.shouldReduceMotion&&ai.has(h)?{type:!1}:v));const _=f.animation;Hc(c)&&(c.add(h),_.then(()=>c.remove(h))),u.push(_)}return a&&Promise.all(u).then(()=>{a&&IR(e,a)}),u}function _f(e,t,n={}){const r=Tu(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(W1(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return FR(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function FR(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort($R).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(_f(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function $R(e,t){return e.sortNodePosition(t)}function BR(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>_f(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=_f(e,t,n);else{const s=typeof t=="function"?Tu(e,t,n.custom):t;r=Promise.all(W1(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const VR=[...Km].reverse(),qR=Km.length;function WR(e){return t=>Promise.all(t.map(({animation:n,options:r})=>BR(e,n,r)))}function KR(e){let t=WR(e);const n=GR();let r=!0;const s=(c,u)=>{const d=Tu(e,u);if(d){const{transition:h,transitionEnd:f,...m}=d;c={...c,...m,...f}}return c};function i(c){t=c(e)}function a(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],m=new Set;let v={},w=1/0;for(let g=0;g<qR;g++){const y=VR[g],p=n[y],x=d[y]!==void 0?d[y]:h[y],S=Vo(x),j=y===u?p.isActive:null;j===!1&&(w=g);let T=x===h[y]&&x!==d[y]&&S;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),p.protectedKeys={...v},!p.isActive&&j===null||!x&&!p.prevProp||ku(x)||typeof x=="boolean")continue;let k=HR(p.prevProp,x)||y===u&&p.isActive&&!T&&S||g>w&&S,E=!1;const z=Array.isArray(x)?x:[x];let L=z.reduce(s,{});j===!1&&(L={});const{prevResolvedValues:J={}}=p,F={...J,...L},le=A=>{k=!0,m.has(A)&&(E=!0,m.delete(A)),p.needsAnimating[A]=!0};for(const A in F){const Y=L[A],O=J[A];if(v.hasOwnProperty(A))continue;let R=!1;Vc(Y)&&Vc(O)?R=!m1(Y,O):R=Y!==O,R?Y!==void 0?le(A):m.add(A):Y!==void 0&&m.has(A)?le(A):p.protectedKeys[A]=!0}p.prevProp=x,p.prevResolvedValues=L,p.isActive&&(v={...v,...L}),r&&e.blockInitialAnimation&&(k=!1),k&&(!T||E)&&f.push(...z.map(A=>({animation:A,options:{type:y,...c}})))}if(m.size){const g={};m.forEach(y=>{const p=e.getBaseTarget(y);p!==void 0&&(g[y]=p)}),f.push({animation:g})}let _=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(f):Promise.resolve()}function l(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const f=a(d,c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function HR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!m1(t,e):!1}function ys(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GR(){return{animate:ys(!0),whileInView:ys(),whileHover:ys(),whileTap:ys(),whileDrag:ys(),whileFocus:ys(),exit:ys()}}class YR extends hs{constructor(t){super(t),t.animationState||(t.animationState=KR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ku(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let QR=0;class JR extends hs{constructor(){super(...arguments),this.id=QR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const XR={animation:{Feature:YR},exit:{Feature:JR}},o0=(e,t)=>Math.abs(e-t);function ZR(e,t){const n=o0(e.x,t.x),r=o0(e.y,t.y);return Math.sqrt(n**2+r**2)}class K1{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=zd(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=ZR(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:w}=mt;this.history.push({...v,timestamp:w});const{onStart:_,onMove:g}=this.handlers;f||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Id(f,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=zd(h.type==="pointercancel"?this.lastMoveEventInfo:Id(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,_),v&&v(h,_)},!c1(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Eu(t),l=Id(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=mt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,zd(l,this.history)),this.removeListeners=ts(Zn(this.contextWindow,"pointermove",this.handlePointerMove),Zn(this.contextWindow,"pointerup",this.handlePointerUp),Zn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ar(this.updatePoint)}}function Id(e,t){return t?{point:t(e.point)}:e}function l0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function zd({point:e},t){return{point:e,delta:l0(e,H1(t)),offset:l0(e,eO(t)),velocity:tO(t,.1)}}function eO(e){return e[0]}function H1(e){return e[e.length-1]}function tO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=H1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ws(t)));)n--;if(!r)return{x:0,y:0};const i=er(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function qt(e){return e.max-e.min}function Sf(e,t=0,n=.01){return Math.abs(e-t)<=n}function c0(e,t,n,r=.5){e.origin=r,e.originPoint=Me(t.min,t.max,e.origin),e.scale=qt(n)/qt(t),(Sf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Me(n.min,n.max,e.origin)-e.originPoint,(Sf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function uo(e,t,n,r){c0(e.x,t.x,n.x,r?r.originX:void 0),c0(e.y,t.y,n.y,r?r.originY:void 0)}function u0(e,t,n){e.min=n.min+t.min,e.max=e.min+qt(t)}function nO(e,t,n){u0(e.x,t.x,n.x),u0(e.y,t.y,n.y)}function d0(e,t,n){e.min=t.min-n.min,e.max=e.min+qt(t)}function ho(e,t,n){d0(e.x,t.x,n.x),d0(e.y,t.y,n.y)}function rO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Me(n,e,r.max):Math.min(e,n)),e}function h0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function sO(e,{top:t,left:n,bottom:r,right:s}){return{x:h0(e.x,n,s),y:h0(e.y,t,r)}}function f0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function iO(e,t){return{x:f0(e.x,t.x),y:f0(e.y,t.y)}}function aO(e,t){let n=.5;const r=qt(e),s=qt(t);return s>r?n=Wo(t.min,t.max-r,e.min):r>s&&(n=Wo(e.min,e.max-s,t.min)),as(0,1,n)}function oO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const jf=.35;function lO(e=jf){return e===!1?e=0:e===!0&&(e=jf),{x:m0(e,"left","right"),y:m0(e,"top","bottom")}}function m0(e,t,n){return{min:p0(e,t),max:p0(e,n)}}function p0(e,t){return typeof e=="number"?e:e[t]||0}const g0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fi=()=>({x:g0(),y:g0()}),y0=()=>({min:0,max:0}),He=()=>({x:y0(),y:y0()});function Yt(e){return[e("x"),e("y")]}function G1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function cO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Md(e){return e===void 0||e===1}function kf({scale:e,scaleX:t,scaleY:n}){return!Md(e)||!Md(t)||!Md(n)}function bs(e){return kf(e)||Y1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Y1(e){return v0(e.x)||v0(e.y)}function v0(e){return e&&e!=="0%"}function Gc(e,t,n){const r=e-n,s=t*r;return n+s}function w0(e,t,n,r,s){return s!==void 0&&(e=Gc(e,s,r)),Gc(e,n,r)+t}function Cf(e,t=0,n=1,r,s){e.min=w0(e.min,t,n,r,s),e.max=w0(e.max,t,n,r,s)}function Q1(e,{x:t,y:n}){Cf(e.x,t.translate,t.scale,t.originPoint),Cf(e.y,n.translate,n.scale,n.originPoint)}function dO(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&$i(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Q1(e,a)),r&&bs(i.latestValues)&&$i(e,i.latestValues))}t.x=x0(t.x),t.y=x0(t.y)}function x0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Cr(e,t){e.min=e.min+t,e.max=e.max+t}function b0(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,a=Me(e.min,e.max,i);Cf(e,t[n],t[r],a,t.scale)}const hO=["x","scaleX","originX"],fO=["y","scaleY","originY"];function $i(e,t){b0(e.x,t,hO),b0(e.y,t,fO)}function J1(e,t){return G1(uO(e.getBoundingClientRect(),t))}function mO(e,t,n){const r=J1(e,n),{scroll:s}=t;return s&&(Cr(r.x,s.offset.x),Cr(r.y,s.offset.y)),r}const X1=({current:e})=>e?e.ownerDocument.defaultView:null,pO=new WeakMap;class gO{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Eu(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=d1(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yt(_=>{let g=this.getAxisMotionValue(_).get()||0;if(On.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const p=y.layout.layoutBox[_];p&&(g=qt(p)*(parseFloat(g)/100))}}this.originPoint[_]=g}),v&&ke.update(()=>v(d,h),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:_}=h;if(m&&this.currentDirection===null){this.currentDirection=yO(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Yt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new K1(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:X1(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ke.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Hl(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=rO(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Li(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=sO(s.layoutBox,n):this.constraints=!1,this.elastic=lO(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yt(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=oO(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Li(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=mO(r,s.root,this.visualElement.getTransformPagePoint());let a=iO(s.layout.layoutBox,i);if(n){const l=n(cO(a));this.hasMutatedConstraints=!!l,l&&(a=G1(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Yt(d=>{if(!Hl(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(lp(t,r,0,n))}stopAnimation(){Yt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Yt(n=>{const{drag:r}=this.getProps();if(!Hl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-Me(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Li(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Yt(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=aO({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yt(a=>{if(!Hl(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Me(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;pO.set(this.visualElement,this);const t=this.visualElement.current,n=Zn(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Li(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Jn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Yt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=jf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Hl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function yO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class vO extends hs{constructor(t){super(t),this.removeGroupControls=Ke,this.removeListeners=Ke,this.controls=new gO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const _0=e=>(t,n)=>{e&&ke.update(()=>e(t,n))};class wO extends hs{constructor(){super(...arguments),this.removePointerDownListener=Ke}onPointerDown(t){this.session=new K1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:_0(t),onStart:_0(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&ke.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=Zn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function xO(){const e=b.useContext(Su);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=b.useId();return b.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const La={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=S0(e,t.target.x),r=S0(e,t.target.y);return`${n}% ${r}%`}},bO={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=os.parse(e);if(s.length>5)return r;const i=os.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Me(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class _O extends I.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;TP(SO),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||ke.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Z1(e){const[t,n]=xO(),r=b.useContext(Gm);return I.createElement(_O,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(Gb),isPresent:t,safeToRemove:n})}const SO={borderRadius:{...La,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomLeftRadius:La,borderBottomRightRadius:La,boxShadow:bO},e_=["TopLeft","TopRight","BottomLeft","BottomRight"],jO=e_.length,j0=e=>typeof e=="string"?parseFloat(e):e,k0=e=>typeof e=="number"||re.test(e);function kO(e,t,n,r,s,i){s?(e.opacity=Me(0,n.opacity!==void 0?n.opacity:1,CO(r)),e.opacityExit=Me(t.opacity!==void 0?t.opacity:1,0,NO(r))):i&&(e.opacity=Me(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<jO;a++){const l=`border${e_[a]}Radius`;let c=C0(t,l),u=C0(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||k0(c)===k0(u)?(e[l]=Math.max(Me(j0(c),j0(u),r),0),(On.test(u)||On.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Me(t.rotate||0,n.rotate||0,r))}function C0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const CO=t_(0,.5,S1),NO=t_(.5,.95,Ke);function t_(e,t,n){return r=>r<e?0:r>t?1:n(Wo(e,t,r))}function N0(e,t){e.min=t.min,e.max=t.max}function Gt(e,t){N0(e.x,t.x),N0(e.y,t.y)}function E0(e,t,n,r,s){return e-=t,e=Gc(e,1/n,r),s!==void 0&&(e=Gc(e,1/s,r)),e}function EO(e,t=0,n=1,r=.5,s,i=e,a=e){if(On.test(t)&&(t=parseFloat(t),t=Me(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Me(i.min,i.max,r);e===i&&(l-=t),e.min=E0(e.min,t,n,l,s),e.max=E0(e.max,t,n,l,s)}function T0(e,t,[n,r,s],i,a){EO(e,t[n],t[r],t[s],t.scale,i,a)}const TO=["x","scaleX","originX"],PO=["y","scaleY","originY"];function P0(e,t,n,r){T0(e.x,t,TO,n?n.x:void 0,r?r.x:void 0),T0(e.y,t,PO,n?n.y:void 0,r?r.y:void 0)}function A0(e){return e.translate===0&&e.scale===1}function n_(e){return A0(e.x)&&A0(e.y)}function AO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function r_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function R0(e){return qt(e.x)/qt(e.y)}class RO{constructor(){this.members=[]}add(t){cp(this.members,t),t.scheduleRender()}remove(t){if(up(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function O0(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const OO=(e,t)=>e.depth-t.depth;class IO{constructor(){this.children=[],this.isDirty=!1}add(t){cp(this.children,t),this.isDirty=!0}remove(t){up(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(OO),this.isDirty=!1,this.children.forEach(t)}}function zO(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ar(r),e(i-t))};return ke.read(r,!0),()=>ar(r)}function MO(e){window.MotionDebug&&window.MotionDebug.record(e)}function DO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function LO(e,t,n){const r=zt(e)?e:ga(e);return r.start(lp("",r,t,n)),r.animation}const I0=["","X","Y","Z"],UO={visibility:"hidden"},z0=1e3;let FO=0;const _s={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function s_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=FO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_s.totalNodes=_s.resolvedTargetDeltas=_s.recalculatedProjection=0,this.nodes.forEach(VO),this.nodes.forEach(GO),this.nodes.forEach(YO),this.nodes.forEach(qO),MO(_s)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new IO)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new dp),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DO(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=zO(f,250),cc.hasAnimatedSinceResize&&(cc.hasAnimatedSinceResize=!1,this.nodes.forEach(D0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||eI,{onLayoutAnimationStart:_,onLayoutAnimationComplete:g}=d.getProps(),y=!this.targetLayout||!r_(this.targetLayout,v)||m,p=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,p);const x={...op(w,"layout"),onPlay:_,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||D0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QO),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M0);return}this.isUpdating||this.nodes.forEach(KO),this.isUpdating=!1,this.nodes.forEach(HO),this.nodes.forEach($O),this.nodes.forEach(BO),this.clearAllSnapshots();const l=performance.now();mt.delta=as(0,1e3/60,l-mt.timestamp),mt.timestamp=l,mt.isProcessing=!0,Cd.update.process(mt),Cd.preRender.process(mt),Cd.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(WO),this.sharedNodes.forEach(JO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!n_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||bs(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),tI(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return He();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Cr(l.x,c.offset.x),Cr(l.y,c.offset.y)),l}removeElementScroll(a){const l=He();Gt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Gt(l,a);const{scroll:f}=this.root;f&&(Cr(l.x,-f.offset.x),Cr(l.y,-f.offset.y))}Cr(l.x,d.offset.x),Cr(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=He();Gt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&$i(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bs(d.latestValues)&&$i(c,d.latestValues)}return bs(this.latestValues)&&$i(c,this.latestValues),c}removeTransform(a){const l=He();Gt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!bs(u.latestValues))continue;kf(u.latestValues)&&u.updateSnapshot();const d=He(),h=u.measurePageBox();Gt(d,h),P0(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return bs(this.latestValues)&&P0(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),ho(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gt(this.target,this.layout.layoutBox),Q1(this.target,this.targetDelta)):Gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),ho(this.relativeTargetOrigin,this.target,m.target),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_s.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kf(this.parent.latestValues)||Y1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Gt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;dO(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=Fi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Fi(),this.projectionDeltaWithTransform=Fi());const w=this.projectionTransform;uo(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=O0(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),_s.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Fi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=He(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=m!==v,_=this.getStack(),g=!_||_.members.length<=1,y=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(ZO));this.animationProgress=0;let p;this.mixTargetDelta=x=>{const S=x/1e3;L0(h.x,a.x,S),L0(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ho(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XO(this.relativeTarget,this.relativeTargetOrigin,f,S),p&&AO(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=He()),Gt(p,this.relativeTarget)),w&&(this.animationValues=d,kO(d,u,this.latestValues,S,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{cc.hasAnimatedSinceResize=!0,this.currentAnimation=LO(0,z0,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&i_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||He();const h=qt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=qt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Gt(l,c),$i(l,d),uo(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new RO),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<I0.length;d++){const h="rotate"+I0[d];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UO;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=lc(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=lc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!bs(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=O0(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in $c){if(f[w]===void 0)continue;const{correct:_,applyTo:g}=$c[w],y=u.transform==="none"?f[w]:_(f[w],h);if(g){const p=g.length;for(let x=0;x<p;x++)u[g[x]]=y}else u[w]=y}return this.options.layoutId&&(u.pointerEvents=h===this?lc(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(M0),this.root.sharedNodes.clear()}}}function $O(e){e.updateLayout()}function BO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?Yt(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=qt(f);f.min=r[h].min,f.max=f.min+m}):i_(i,n.layoutBox,r)&&Yt(h=>{const f=a?n.measuredBox[h]:n.layoutBox[h],m=qt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Fi();uo(l,r,n.layoutBox);const c=Fi();a?uo(c,e.applyTransform(s,!0),n.measuredBox):uo(c,r,n.layoutBox);const u=!n_(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=He();ho(v,n.layoutBox,f.layoutBox);const w=He();ho(w,r,m.layoutBox),r_(v,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function VO(e){_s.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function WO(e){e.clearSnapshot()}function M0(e){e.clearMeasurements()}function KO(e){e.isLayoutDirty=!1}function HO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function D0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function GO(e){e.resolveTargetDelta()}function YO(e){e.calcProjection()}function QO(e){e.resetRotation()}function JO(e){e.removeLeadSnapshot()}function L0(e,t,n){e.translate=Me(t.translate,0,n),e.scale=Me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function U0(e,t,n,r){e.min=Me(t.min,n.min,r),e.max=Me(t.max,n.max,r)}function XO(e,t,n,r){U0(e.x,t.x,n.x,r),U0(e.y,t.y,n.y,r)}function ZO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const eI={duration:.45,ease:[.4,0,.1,1]},F0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),$0=F0("applewebkit/")&&!F0("chrome/")?Math.round:Ke;function B0(e){e.min=$0(e.min),e.max=$0(e.max)}function tI(e){B0(e.x),B0(e.y)}function i_(e,t,n){return e==="position"||e==="preserve-aspect"&&!Sf(R0(t),R0(n),.2)}const nI=s_({attachResizeListener:(e,t)=>Jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dd={current:void 0},a_=s_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dd.current){const e=new nI({});e.mount(window),e.setOptions({layoutScroll:!0}),Dd.current=e}return Dd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),rI={pan:{Feature:wO},drag:{Feature:vO,ProjectionNode:a_,MeasureLayout:Z1}},sI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function iI(e){const t=sI.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Nf(e,t,n=1){const[r,s]=iI(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return B1(a)?parseFloat(a):a}else return gf(s)?Nf(s,t,n+1):s}function aI(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!gf(i))return;const a=Nf(i,r);a&&s.set(a)});for(const s in t){const i=t[s];if(!gf(i))continue;const a=Nf(i,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const oI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),o_=e=>oI.has(e),lI=e=>Object.keys(e).some(o_),V0=e=>e===oi||e===re,q0=(e,t)=>parseFloat(e.split(", ")[t]),W0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return q0(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?q0(i[1],e):0}},cI=new Set(["x","y","z"]),uI=ll.filter(e=>!cI.has(e));function dI(e){const t=[];return uI.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const ya={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:W0(4,13),y:W0(5,14)};ya.translateX=ya.x;ya.translateY=ya.y;const hI=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=ya[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=ya[u](c,i)}),e},fI=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(o_);let i=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],h=Da(d);const f=t[c];let m;if(Vc(f)){const v=f.length,w=f[0]===null?1:0;d=f[w],h=Da(d);for(let _=w;_<v&&f[_]!==null;_++)m?np(Da(f[_])===m):m=Da(f[_])}else m=Da(f);if(h!==m)if(V0(h)&&V0(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&m===re&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(d===0||f===0)?d===0?u.set(m.transform(d)):t[c]=h.transform(f):(a||(i=dI(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(f))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=hI(t,e,l);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),ju&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function mI(e,t,n,r){return lI(t)?fI(e,t,n,r):{target:t,transitionEnd:r}}const pI=(e,t,n,r)=>{const s=aI(e,t,r);return t=s.target,r=s.transitionEnd,mI(e,t,n,r)},Ef={current:null},l_={current:!1};function gI(){if(l_.current=!0,!!ju)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ef.current=e.matches;e.addListener(t),t()}else Ef.current=!1}function yI(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(zt(i))e.addValue(s,i),Hc(r)&&r.add(s);else if(zt(a))e.addValue(s,ga(i,{owner:e})),Hc(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,ga(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const K0=new WeakMap,c_=Object.keys(qo),vI=c_.length,H0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wI=Hm.length;class xI{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=Cu(n),this.isVariantNode=Hb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const f=d[h];l[h]!==void 0&&zt(f)&&(f.set(l[h],!1),Hc(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,K0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),l_.current||gI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ef.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){K0.delete(this.current),this.projection&&this.projection.unmount(),ar(this.notifyUpdate),ar(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=ai.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ke.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let a,l;for(let c=0;c<vI;c++){const u=c_[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:m}=qo[u];f&&(a=f),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&Li(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<H0.length;r++){const s=H0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=yI(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<wI;r++){const s=Hm[r],i=this.props[s];(Vo(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ga(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=tp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!zt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new dp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class u_ extends xI{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let a=DR(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){zR(this,r,a);const l=pI(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function bI(e){return window.getComputedStyle(e)}class _I extends u_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ai.has(n)){const r=ap(n);return r&&r.default||0}else{const r=bI(t),s=(Jb(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return J1(t,n)}build(t,n,r,s){Qm(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return ep(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){r1(t,n,r,s)}}class SI extends u_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ai.has(n)){const r=ap(n);return r&&r.default||0}return n=s1.has(n)?n:Wm(n),t.getAttribute(n)}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(t,n){return a1(t,n)}build(t,n,r,s){Xm(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){i1(t,n,r,s)}mount(t){this.isSVGTag=Zm(t.tagName),super.mount(t)}}const jI=(e,t)=>Ym(e)?new SI(t,{enableHardwareAcceleration:!1}):new _I(t,{enableHardwareAcceleration:!0}),kI={layout:{ProjectionNode:a_,MeasureLayout:Z1}},CI={...XR,...vA,...rI,...kI},ge=NP((e,t)=>iA(e,t,CI,jI));function d_(){const e=b.useRef(!1);return qm(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function NI(){const e=d_(),[t,n]=b.useState(0),r=b.useCallback(()=>{e.current&&n(t+1)},[t]);return[b.useCallback(()=>ke.postRender(r),[r]),t]}class EI extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function TI({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(EI,{isPresent:t,childRef:r,sizeRef:s},b.cloneElement(e,{ref:r}))}const Ld=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=o1(PI),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return b.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=b.createElement(TI,{isPresent:n},e)),b.createElement(Su.Provider,{value:u},e)};function PI(){return new Map}function AI(e){return b.useEffect(()=>()=>e(),[])}const Ss=e=>e.key||"";function RI(e,t){e.forEach(n=>{const r=Ss(n);t.set(r,n)})}function OI(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const hl=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=b.useContext(Gm).forceRender||NI()[0],c=d_(),u=OI(e);let d=u;const h=b.useRef(new Map).current,f=b.useRef(d),m=b.useRef(new Map).current,v=b.useRef(!0);if(qm(()=>{v.current=!1,RI(u,m),f.current=d}),AI(()=>{v.current=!0,m.clear(),h.clear()}),v.current)return b.createElement(b.Fragment,null,d.map(y=>b.createElement(Ld,{key:Ss(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},y)));d=[...d];const w=f.current.map(Ss),_=u.map(Ss),g=w.length;for(let y=0;y<g;y++){const p=w[y];_.indexOf(p)===-1&&!h.has(p)&&h.set(p,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((y,p)=>{if(_.indexOf(p)!==-1)return;const x=m.get(p);if(!x)return;const S=w.indexOf(p);let j=y;if(!j){const T=()=>{h.delete(p);const N=Array.from(m.keys()).filter(k=>!_.includes(k));if(N.forEach(k=>m.delete(k)),f.current=u.filter(k=>{const E=Ss(k);return E===p||N.includes(E)}),!h.size){if(c.current===!1)return;l(),r&&r()}};j=b.createElement(Ld,{key:Ss(x),isPresent:!1,onExitComplete:T,custom:t,presenceAffectsLayout:i,mode:a},x),h.set(p,j)}d.splice(S,0,j)}),d=d.map(y=>{const p=y.key;return h.has(p)?y:b.createElement(Ld,{key:Ss(y),isPresent:!0,presenceAffectsLayout:i,mode:a},y)}),b.createElement(b.Fragment,null,h.size?d:d.map(y=>b.cloneElement(y)))};function ze({className:e,variant:t="default",...n}){const r={default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"};return o.jsx("div",{className:ye("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",r[t],e),...n})}function hp({addon:e,index:t=0}){var u,d;const n=((u=e.images)==null?void 0:u[0])||"https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=400&h=300&fit=crop",[r,s]=I.useState(0),[i,a]=I.useState(0),[l,c]=I.useState(0);return I.useEffect(()=>{e!=null&&e.id&&(async()=>{try{const f=await q.entities.Rating.getAverageRating(e.id),m=await q.entities.Rating.getRatingCount(e.id);s(f),a(m);const v=await q.entities.Purchase.filter({addon_id:e.id});c(v.length)}catch(f){console.error("Error loading stats:",f)}})()},[e]),o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:t*.05},children:o.jsx(Be,{to:We(`AddonDetail?id=${e.id}`),children:o.jsxs(ne,{className:"group overflow-hidden bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 transition-all duration-300 hover:shadow-xl hover:shadow-orange-500/10 cursor-pointer",children:[o.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[o.jsx("img",{src:n,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.video_url&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500 flex items-center justify-center",children:o.jsx(zb,{className:"w-5 h-5 text-white fill-white ml-0.5"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:e.is_free?o.jsx(ze,{className:"bg-emerald-500/90 text-white border-0",children:"Free"}):o.jsxs(ze,{className:"bg-orange-500/90 text-white border-0",children:[o.jsx(Di,{className:"w-3 h-3 mr-0.5"}),e.price]})})]}),o.jsxs(qn,{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:o.jsx("h3",{className:"font-semibold text-white group-hover:text-orange-400 transition-colors line-clamp-1",children:e.title})}),o.jsx("p",{className:"text-sm text-zinc-400 line-clamp-2 mb-3",children:e.short_description||((d=e.description)==null?void 0:d.slice(0,100))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e.category&&o.jsx(ze,{variant:"outline",className:"text-xs border-zinc-700 text-zinc-400",children:e.category.replace("_"," ")}),r>0&&o.jsxs("div",{className:"flex items-center gap-1 text-orange-400 text-xs",children:[o.jsx(oo,{className:"w-3 h-3 fill-orange-400"}),o.jsx("span",{children:r}),i>0&&o.jsxs("span",{className:"text-zinc-500",children:["(",i,")"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-zinc-500 text-xs",children:[!e.is_free&&l>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Lb,{className:"w-3 h-3"}),l]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(is,{className:"w-3 h-3"}),e.downloads||0]})]})]}),e.author_name&&e.created_by&&o.jsxs(Be,{to:We(`UserProfile?email=${e.created_by}`),className:"text-xs text-zinc-500 hover:text-orange-400 mt-3 pt-3 border-t border-zinc-800 block transition-colors",onClick:h=>h.stopPropagation(),children:["by ",e.author_name]})]})]})})})}function G0(){const{data:e=[]}=Ae({queryKey:["featuredAddons"],queryFn:async()=>await q.entities.Addon.filter({is_published:!0},"-downloads",6)});return o.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-orange-500/20 rounded-full blur-[128px]"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-orange-600/10 rounded-full blur-[100px]"})]}),o.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-24 md:py-32",children:o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-8",children:[o.jsx(Zr,{className:"w-4 h-4"}),"AI-Powered Blender Addon Creator"]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:["Create Blender Addons",o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-orange-400 to-orange-600 bg-clip-text text-transparent",children:"with AI Magic"})]}),o.jsx("p",{className:"text-xl text-zinc-400 max-w-2xl mx-auto mb-10",children:"Describe what you want, and our AI generates production-ready Blender addons instantly. Share your creations with the community."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[o.jsx(Be,{to:We("Create"),children:o.jsxs(V,{size:"lg",className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-6 text-lg rounded-xl",children:[o.jsx(es,{className:"w-5 h-5 mr-2"}),"Start Creating"]})}),o.jsx(Be,{to:We("Explore"),children:o.jsxs(V,{size:"lg",variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800 px-8 py-6 text-lg rounded-xl",children:["Explore Addons",o.jsx(My,{className:"w-5 h-5 ml-2"})]})})]})]})})]}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-20",children:o.jsx(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"grid md:grid-cols-3 gap-6",children:[{icon:dP,title:"AI-Powered Generation",description:"Describe your addon idea in plain English and get working Python code in seconds."},{icon:is,title:"Instant Download",description:"Download your addon as a .py file ready to install directly in Blender."},{icon:Bm,title:"Community Marketplace",description:"Share your creations, discover addons from others, or sell your premium tools."}].map((t,n)=>o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 hover:border-orange-500/30 transition-all duration-300",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-500/10 flex items-center justify-center mb-4",children:o.jsx(t.icon,{className:"w-6 h-6 text-orange-500"})}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),o.jsx("p",{className:"text-zinc-400",children:t.description})]},n))})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[o.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"How It Works"}),o.jsx("p",{className:"text-zinc-400 max-w-xl mx-auto",children:"Creating Blender addons has never been easier"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{step:"01",title:"Describe Your Idea",description:"Tell us what you want your addon to do in plain language"},{step:"02",title:"AI Generates Code",description:"Our AI creates complete, working Python code for your addon"},{step:"03",title:"Download & Use",description:"Download the .py file and install it in Blender instantly"}].map((t,n)=>o.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"relative",children:[o.jsx("div",{className:"text-6xl font-bold text-zinc-800 mb-4",children:t.step}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),o.jsx("p",{className:"text-zinc-400",children:t.description}),n<2&&o.jsx("div",{className:"hidden md:block absolute top-8 right-0 translate-x-1/2",children:o.jsx(My,{className:"w-6 h-6 text-zinc-700"})})]},n))})]}),e.length>0&&o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[o.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Featured Addons"}),o.jsx("p",{className:"text-zinc-400",children:"Popular addons from the community"})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,n)=>o.jsx(hp,{addon:t,index:n},t.id))})]})]})}const xe=b.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));xe.displayName="Input";const In=b.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));In.displayName="Textarea";const fp=b.createContext(),mp=({defaultValue:e,value:t,onValueChange:n,children:r,className:s})=>{const[i,a]=b.useState(t||e),l=t!==void 0?t:i,c=n||a;return o.jsx(fp.Provider,{value:{value:l,onValueChange:c},children:o.jsx("div",{className:s,children:r})})},Pu=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Pu.displayName="TabsList";const ei=b.forwardRef(({className:e,value:t,...n},r)=>{const{value:s,onValueChange:i}=b.useContext(fp),a=s===t;return o.jsx("button",{ref:r,onClick:()=>i(t),className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a&&"bg-background text-foreground shadow-sm",e),...n})});ei.displayName="TabsTrigger";const ns=b.forwardRef(({className:e,value:t,...n},r)=>{const{value:s}=b.useContext(fp);return s!==t?null:o.jsx("div",{ref:r,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n})});ns.displayName="TabsContent";function pp({code:e,filename:t="addon.py",readOnly:n=!0,onChange:r}){const[s,i]=b.useState(!1),[a,l]=b.useState(e);I.useEffect(()=>{l(e)},[e]);const c=()=>{navigator.clipboard.writeText(a),i(!0),D.success("Code copied to clipboard"),setTimeout(()=>i(!1),2e3)},u=()=>{const h=new Blob([a],{type:"text/x-python"}),f=URL.createObjectURL(h),m=document.createElement("a");m.href=f,m.download=t,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(f),D.success("Addon downloaded!")},d=h=>{const f=h.target.value;l(f),r&&r(f)};return o.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-zinc-950 border border-zinc-800",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-zinc-900 border-b border-zinc-800",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/80"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/80"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/80"})]}),o.jsx("span",{className:"text-sm text-zinc-400 ml-2",children:t}),!n&&o.jsx(ze,{variant:"outline",className:"text-xs text-green-400 border-green-500/20",children:"Editable"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(V,{size:"sm",variant:"ghost",onClick:c,className:"text-zinc-400 hover:text-white hover:bg-zinc-800",children:s?o.jsx($T,{className:"w-4 h-4"}):o.jsx(WT,{className:"w-4 h-4"})}),o.jsxs(V,{size:"sm",onClick:u,className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(is,{className:"w-4 h-4 mr-1"}),"Download .py"]})]})]}),n?o.jsx("pre",{className:"p-4 overflow-auto max-h-[500px] text-sm",children:o.jsx("code",{className:"text-zinc-300 font-mono whitespace-pre",children:a})}):o.jsx("textarea",{value:a,onChange:d,className:"w-full p-4 bg-zinc-950 text-zinc-300 font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-orange-500/20 min-h-[400px] max-h-[600px] overflow-auto",style:{fontFamily:"monospace",tabSize:2},spellCheck:!1})]})}const me=b.forwardRef(({className:e,...t},n)=>o.jsx("label",{ref:n,className:ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));me.displayName="Label";const Ks=b.forwardRef(({className:e,checked:t,onCheckedChange:n,...r},s)=>o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:t,onChange:i=>n==null?void 0:n(i.target.checked),className:"sr-only peer",...r}),o.jsx("div",{className:ye("w-11 h-6 bg-zinc-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-500/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500",e)})]}));Ks.displayName="Switch";const fl=b.createContext(),or=({children:e,value:t,onValueChange:n})=>{const[r,s]=b.useState(!1);return o.jsx(fl.Provider,{value:{value:t,onValueChange:n,open:r,setOpen:s},children:o.jsx("div",{className:"relative",children:e})})},zn=b.forwardRef(({className:e,children:t,...n},r)=>{const{open:s,setOpen:i}=b.useContext(fl);return o.jsxs("button",{ref:r,type:"button",onClick:()=>i(!s),className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,o.jsx("svg",{className:"h-4 w-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})});zn.displayName="SelectTrigger";const lr=({placeholder:e})=>{const{value:t}=b.useContext(fl);return o.jsx("span",{children:t||e})},Mn=b.forwardRef(({className:e,children:t,...n},r)=>{const{open:s,setOpen:i}=b.useContext(fl);return s?o.jsxs("div",{ref:r,className:ye("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",e),...n,children:[t,o.jsx("div",{className:"fixed inset-0 z-[-1]",onClick:()=>i(!1)})]}):null});Mn.displayName="SelectContent";const et=b.forwardRef(({className:e,children:t,value:n,...r},s)=>{const{value:i,onValueChange:a,setOpen:l}=b.useContext(fl);return o.jsx("div",{ref:s,onClick:()=>{a(n),l(!1)},className:ye("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 px-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i===n&&"bg-accent",e),...r,children:t})});et.displayName="SelectItem";function II(e){const t=[],n=[],r=[],s=[];try{const i=/class\s+(\w+)\s*\([^)]*(?:bpy\.types\.)?Panel[^)]*\):([\s\S]*?)(?=\nclass\s+\w+|\ndef\s+register|\ndef\s+unregister|\nif\s+__name__|$)/g;let a;for(;(a=i.exec(e))!==null;){const h=a[1],f=a[2],m=f.match(/bl_label\s*=\s*["']([^"']+)["']/),v=m?m[1]:h.replace(/^PANEL_PT_/,"").replace(/_/g," "),w=f.match(/bl_idname\s*=\s*["']([^"']+)["']/),_=w?w[1]:h.toLowerCase(),g=f.match(/bl_space_type\s*=\s*["']([^"']+)["']/),y=g?g[1]:"VIEW_3D",p=f.match(/bl_region_type\s*=\s*["']([^"']+)["']/),x=p?p[1]:"UI",S=f.match(/bl_context\s*=\s*["']([^"']+)["']/),j=S?S[1]:null,T=f.match(/def\s+draw\s*\([^)]*\):([\s\S]*?)(?=\n\s*(?:def\s+\w+|class\s+\w+|\#\s*---|if\s+__name__)|$)/),N=T?T[1]:"",k=zI(N,e);t.push({className:h,label:v,idname:_,spaceType:y,regionType:x,context:j,uiElements:k,rawCode:a[0]})}const l=/class\s+(\w+)\s*\([^)]*bpy\.types\.Operator[^)]*\):([\s\S]*?)(?=class\s+\w+|def\s+\w+|$)/g;let c;for(;(c=l.exec(e))!==null;){const h=c[1],f=c[2],m=f.match(/bl_label\s*=\s*["']([^"']+)["']/),v=m?m[1]:h.replace(/^OPERATOR_OT_/,"").replace(/_/g," "),w=f.match(/bl_idname\s*=\s*["']([^"']+)["']/),_=w?w[1]:h.toLowerCase();n.push({className:h,label:v,idname:_,rawCode:c[0]})}const u=/class\s+(\w+)\s*\([^)]*bpy\.types\.PropertyGroup[^)]*\):([\s\S]*?)(?=class\s+\w+|def\s+\w+|$)/g;let d;for(;(d=u.exec(e))!==null;){const h=d[1],m=d[2].matchAll(/(\w+)\s*:\s*bpy\.props\.(\w+)\([^)]*\)/g),v=[];for(const w of m)v.push({name:w[1],type:w[2]});r.push({className:h,properties:v,rawCode:d[0]})}}catch(i){s.push({type:"parse_error",message:`Failed to parse addon code: ${i.message}`,line:null})}return{panels:t,operators:n,properties:r,errors:s,hasPanels:t.length>0}}function zI(e,t=""){const n=[];if(!e)return n;const r=e.split(`
`);let s=0,i=!1,a=null,l=[];for(let c=0;c<r.length;c++){const u=r[c],d=u.trim(),h=u.length-u.trimStart().length;if(!d||d.startsWith("#"))continue;if(d.match(/box\s*=\s*layout\.box\(\)/)){for(let p=c+1;p<Math.min(c+5,r.length);p++){const x=r[p].trim(),S=x.match(/box\.label\([^)]*text\s*=\s*["']([^"']+)["']/);if(S){a=S[1];break}const j=x.match(/box\.label\([^)]*icon\s*=\s*["']([^"']+)["']/);j&&!a&&(a=j[1])}i=!0,l=[],s=h;continue}if(i){const p=d.match(/box\s*=\s*layout\.box\(\)/);if((p||h<s&&!d.includes("box.")&&!d.includes("row."))&&((l.length>0||a)&&n.push({type:"box",label:a,elements:[...l],line:c+1}),i=!1,a=null,l=[],p)){for(let x=c+1;x<Math.min(c+5,r.length);x++){const j=r[x].trim().match(/box\.label\([^)]*text\s*=\s*["']([^"']+)["']/);if(j){a=j[1];break}}i=!0,l=[],s=h;continue}}const m=d.match(/box\.label\([^)]*text\s*=\s*["']([^"']+)["']/);if(m&&i){a=m[1];continue}const v=d.match(/(?:layout|box)\.label\([^)]*text\s*=\s*["']([^"']+)["']/);if(v){const p={type:"label",text:v[1],line:c+1};i?l.push(p):n.push(p);continue}const w=d.match(/(?:layout|box)\.operator\([^)]*["']([^"']+)["']/);if(w){const p=w[1];let x=p;const S=t.match(new RegExp(`class\\s+\\w+.*?bl_idname\\s*=\\s*["']${p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}["'][\\s\\S]*?bl_label\\s*=\\s*["']([^"']+)["']`));S&&(x=S[1]);const j=d.match(/text\s*=\s*["']([^"']+)["']/);j&&(x=j[1]);const T=d.match(/icon\s*=\s*["']([^"']+)["']/),N={type:"operator",operatorId:p,text:x,icon:T?T[1]:null,line:c+1};i?l.push(N):n.push(N);continue}else{const p=d.match(/(?:layout|box)\.operator\(([A-Z_][A-Z0-9_]+)\.bl_idname/);if(p){const x=p[1],S=new RegExp(`class\\s+${x}[\\s\\S]*?bl_idname\\s*=\\s*["']([^"']+)["'][\\s\\S]*?bl_label\\s*=\\s*["']([^"']+)["']`),j=t.match(S);if(j){const T={type:"operator",operatorId:j[1],text:j[2]||x,line:c+1};i?l.push(T):n.push(T);continue}}}const _=d.match(/(?:layout|box|row)\.prop\([^,)]+,\s*["']([^"']+)["']/);if(_){const p=_[1],x=Ud(p,t),S={type:"property",propertyName:p,propertyType:x,line:c+1};i?l.push(S):n.push(S);continue}const g=d.match(/(?:layout|box|row)\.prop\([^)]*["']([^"']+)["']/);if(g&&!_){const p=g[1],x=Ud(p,t),S={type:"property",propertyName:p,propertyType:x,line:c+1};i?l.push(S):n.push(S);continue}if(d.includes(".separator()")){const p={type:"separator",line:c+1};i?l.push(p):n.push(p);continue}if(d.match(/row\s*=\s*(?:layout|box)\.row\(/)){const p=h,x=[];for(let j=c+1;j<Math.min(c+10,r.length);j++){const T=r[j],N=T.trim();if(T.length-T.trimStart().length<=p&&!N.includes("row."))break;const E=N.match(/row\.prop\([^,)]+,\s*["']([^"']+)["']/);if(E){const z=E[1],L=Ud(z,t);x.push({type:"property",propertyName:z,propertyType:L,line:j+1})}}const S={type:"row",elements:x,line:c+1};i?l.push(S):n.push(S),x.length>0&&(c+=x.length);continue}}return i&&l.length>0&&n.push({type:"box",label:a,elements:l,line:r.length}),n}function Y0(e,t){return e.includes("scale")||e.includes("size")||e.includes("distance")||e.includes("offset")?"FloatProperty":e.includes("count")||e.includes("number")||e.includes("amount")||e.includes("seed")?"IntProperty":e.includes("enable")||e.includes("use_")||e.includes("show_")||e.includes("apply_")?"BoolProperty":e.includes("color")||e.includes("colour")?"FloatVectorProperty":e.includes("mode")||e.includes("type")||e.includes("method")?"EnumProperty":"StringProperty"}function Ud(e,t){if(!t)return Y0(e);const n=new RegExp(`${e}\\s*:\\s*bpy\\.props\\.(\\w+)\\s*\\(`,"i"),r=t.match(n);if(r)return r[1];const s=new RegExp(`${e.replace(/_/g,"[_s]+")}\\s*:\\s*bpy\\.props\\.(\\w+)\\s*\\(`,"i"),i=t.match(s);return i?i[1]:Y0(e)}function MI(e){const t=[],n=[];e.includes("bl_info")||t.push({type:"error",message:"Missing bl_info dictionary",line:1,suggestion:"Add a bl_info dictionary at the top of your addon"}),!e.includes("def register()")&&!e.includes("def register():")&&t.push({type:"error",message:"Missing register() function",line:null,suggestion:"Add a register() function to register your addon classes"}),!e.includes("def unregister()")&&!e.includes("def unregister():")&&t.push({type:"error",message:"Missing unregister() function",line:null,suggestion:"Add an unregister() function to unregister your addon classes"}),e.includes("bpy.")&&!e.includes("import bpy")&&t.push({type:"error",message:"Missing bpy import",line:null,suggestion:"Add 'import bpy' at the top of your file"});const r=(e.match(/\(/g)||[]).length,s=(e.match(/\)/g)||[]).length;r!==s&&n.push({type:"warning",message:"Possible parenthesis mismatch",line:null,suggestion:"Check for unmatched parentheses"});const i=(e.match(/\{/g)||[]).length,a=(e.match(/\}/g)||[]).length;return i!==a&&n.push({type:"warning",message:"Possible brace mismatch",line:null,suggestion:"Check for unmatched braces"}),{errors:t,warnings:n,isValid:t.length===0}}function DI({code:e,onError:t}){var g,y;const[n,r]=I.useState(!0),[s,i]=I.useState(!1),[a,l]=I.useState(null),[c,u]=I.useState(null),[d,h]=I.useState({}),f=I.useRef(null);if(I.useEffect(()=>{if(!e){l(null),u(null);return}return f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{try{const p=II(e),x=MI(e);l(p),u(x),t&&x.errors.length>0&&t(x.errors)}catch(p){console.error("Error parsing code:",p),l({panels:[],operators:[],properties:[],errors:[{type:"parse_error",message:p.message}],hasPanels:!1}),u({errors:[{type:"error",message:p.message,line:null}],warnings:[],isValid:!1})}},500),()=>{f.current&&clearTimeout(f.current)}},[e,t]),!e)return null;if(!a)return o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 text-center",children:[o.jsx(hf,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),o.jsx("p",{className:"text-zinc-400 mb-2",children:"Parsing code..."})]});const{panels:m,operators:v,errors:w}=a||{panels:[],operators:[],errors:[]},_=m&&m.length>0;return e&&a&&(console.log("Parsed panels:",m),console.log("Has panels:",_)),o.jsxs("div",{className:"space-y-4",children:[c&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:c.isValid?o.jsxs(o.Fragment,{children:[o.jsx(ao,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-green-400 font-medium",children:"Code Valid"})]}):o.jsxs(o.Fragment,{children:[o.jsx(MT,{className:"w-5 h-5 text-red-500"}),o.jsxs("span",{className:"text-red-400 font-medium",children:[c.errors.length," Error",c.errors.length!==1?"s":""]})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(V,{size:"sm",variant:"ghost",onClick:()=>i(!s),className:"text-zinc-400 hover:text-white",title:s?"Expand preview":"Collapse preview",children:s?o.jsx($m,{className:"w-4 h-4"}):o.jsx(Ob,{className:"w-4 h-4"})}),o.jsx(V,{size:"sm",variant:"ghost",onClick:()=>r(!n),className:"text-zinc-400 hover:text-white",children:n?o.jsxs(o.Fragment,{children:[o.jsx(ff,{className:"w-4 h-4 mr-2"}),"Hide"]}):o.jsxs(o.Fragment,{children:[o.jsx(mf,{className:"w-4 h-4 mr-2"}),"Show"]})})]})]}),c.errors.length>0&&o.jsx("div",{className:"space-y-2 mt-3",children:c.errors.map((p,x)=>o.jsxs("div",{className:"text-sm text-red-400 bg-red-500/10 p-2 rounded",children:[o.jsx("strong",{children:p.message}),p.suggestion&&o.jsx("div",{className:"text-red-300/80 mt-1 text-xs",children:p.suggestion})]},x))}),c.warnings.length>0&&o.jsx("div",{className:"space-y-2 mt-3",children:c.warnings.map((p,x)=>o.jsxs("div",{className:"text-sm text-yellow-400 bg-yellow-500/10 p-2 rounded",children:[o.jsx("strong",{children:p.message}),p.suggestion&&o.jsx("div",{className:"text-yellow-300/80 mt-1 text-xs",children:p.suggestion})]},x))})]}),o.jsx(hl,{children:n&&_&&!s&&o.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 overflow-hidden",children:[o.jsxs("div",{className:"bg-zinc-800/50 px-4 py-2 border-b border-zinc-700 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(JT,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Panel Preview (Interactive)"}),o.jsxs(ze,{variant:"outline",className:"text-xs",children:[m.length," Panel",m.length!==1?"s":""]}),o.jsx(ze,{variant:"outline",className:"text-xs bg-green-500/10 text-green-400 border-green-500/20",children:"Live"})]}),o.jsxs(ze,{variant:"outline",className:"text-xs text-zinc-400",children:[((g=m[0])==null?void 0:g.spaceType)||"VIEW_3D"," / ",((y=m[0])==null?void 0:y.regionType)||"UI"]})]}),o.jsx("div",{className:"p-4 space-y-4",children:m.map((p,x)=>o.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-zinc-950 rounded-lg border border-zinc-800 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:p.label}),o.jsx(ze,{variant:"outline",className:"text-xs",children:p.idname})]}),o.jsx("div",{className:"space-y-3",children:p.uiElements.length>0?p.uiElements.map((S,j)=>o.jsx(Tf,{element:S,operators:v,panelState:d,setPanelState:h,panelId:p.idname,elementId:`${p.idname}_${j}`},j)):o.jsx("div",{className:"text-sm text-zinc-500 italic",children:"No UI elements found in draw method"})})]},x))})]})})}),n&&!_&&!w.length&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 text-center",children:[o.jsx(hf,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),o.jsx("p",{className:"text-zinc-400 mb-2",children:"No UI panels detected in this addon"}),o.jsx("p",{className:"text-sm text-zinc-500",children:"Add a Panel class (bpy.types.Panel) to see a preview of your UI"})]})]})}function Tf({element:e,operators:t,panelState:n,setPanelState:r,panelId:s,elementId:i}){const a=u=>`${s}_${i}_${u}`,l=(u,d)=>n[a(u)]??d,c=(u,d)=>{r(h=>({...h,[a(u)]:d}))};switch(e.type){case"label":return o.jsx("div",{className:"text-sm font-medium text-zinc-300 py-1",children:e.text});case"operator":const u=t.find(f=>f.idname===e.operatorId),d=()=>{D.success(`Operator "${e.text||(u==null?void 0:u.label)||e.operatorId}" clicked! (Preview mode)`),console.log("Operator executed:",e.operatorId)};return o.jsxs(V,{variant:"outline",onClick:d,className:"w-full justify-start border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:text-white hover:border-orange-500/50 transition-all",children:[o.jsx(zb,{className:"w-4 h-4 mr-2"}),e.text||(u==null?void 0:u.label)||e.operatorId]});case"property":const h=l(e.propertyName,e.propertyType==="BoolProperty"?!1:e.propertyType==="IntProperty"||e.propertyType==="FloatProperty"?0:"");return o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{className:"text-sm text-zinc-400 capitalize",children:e.propertyName.replace(/_/g," ")}),e.propertyType==="BoolProperty"?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-zinc-300",children:"Enable"}),o.jsx(Ks,{checked:h,onCheckedChange:f=>c(e.propertyName,f),className:"data-[state=checked]:bg-orange-500"})]}):e.propertyType==="PointerProperty"?o.jsxs("div",{className:"space-y-1",children:[o.jsxs(or,{value:h||"none",onValueChange:f=>c(e.propertyName,f),children:[o.jsx(zn,{className:"bg-zinc-950 border-zinc-700 text-zinc-300 hover:border-orange-500/50",children:o.jsx(lr,{placeholder:"Select..."})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"none",className:"text-white",children:"None"}),o.jsx(et,{value:"object1",className:"text-white",children:"Object 1"}),o.jsx(et,{value:"object2",className:"text-white",children:"Object 2"})]})]}),o.jsxs("p",{className:"text-xs text-zinc-500",children:["Pointer to ",e.propertyName.includes("collection")?"Collection":"Object"]})]}):e.propertyType==="EnumProperty"?o.jsxs(or,{value:h,onValueChange:f=>c(e.propertyName,f),children:[o.jsx(zn,{className:"bg-zinc-950 border-zinc-700 text-zinc-300 hover:border-orange-500/50",children:o.jsx(lr,{placeholder:"Select option"})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"option1",className:"text-white",children:"Option 1"}),o.jsx(et,{value:"option2",className:"text-white",children:"Option 2"}),o.jsx(et,{value:"option3",className:"text-white",children:"Option 3"})]})]}):e.propertyType==="FloatProperty"?o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{type:"number",step:"0.1",value:h,onChange:f=>c(e.propertyName,parseFloat(f.target.value)||0),className:"bg-zinc-950 border-zinc-700 text-zinc-300 focus:border-orange-500",placeholder:"0.0"}),o.jsx("div",{className:"relative flex items-center",children:o.jsx("input",{type:"range",min:"0",max:"10",step:"0.1",value:h,onChange:f=>c(e.propertyName,parseFloat(f.target.value)),className:"w-full h-2 bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-orange-500"})})]}):e.propertyType==="IntProperty"?o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{type:"number",value:h,onChange:f=>c(e.propertyName,parseInt(f.target.value)||0),className:"bg-zinc-950 border-zinc-700 text-zinc-300 focus:border-orange-500",placeholder:"0"}),o.jsx("div",{className:"relative flex items-center",children:o.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:h,onChange:f=>c(e.propertyName,parseInt(f.target.value)),className:"w-full h-2 bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-orange-500"})})]}):o.jsx(xe,{value:h,onChange:f=>c(e.propertyName,f.target.value),className:"bg-zinc-950 border-zinc-700 text-zinc-300 focus:border-orange-500",placeholder:"Enter value"})]});case"separator":return o.jsx("div",{className:"h-px bg-zinc-700 my-2"});case"box":return o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded p-3 space-y-3",children:[e.label&&o.jsx("div",{className:"text-sm font-semibold text-zinc-300 mb-2 pb-2 border-b border-zinc-700",children:e.label}),e.elements&&e.elements.length>0?o.jsx("div",{className:"space-y-2",children:e.elements.map((f,m)=>o.jsx(Tf,{element:f,operators:t,panelState:n,setPanelState:r,panelId:s,elementId:`${i}_box_${m}`},m))}):o.jsx("div",{className:"text-xs text-zinc-500",children:"Empty box"})]});case"row":return o.jsx("div",{className:"flex gap-2 items-center",children:e.elements&&e.elements.length>0?e.elements.map((f,m)=>o.jsx("div",{className:"flex-1",children:o.jsx(Tf,{element:f,operators:t,panelState:n,setPanelState:r,panelId:s,elementId:`${i}_row_${m}`})},m)):o.jsx("div",{className:"text-xs text-zinc-500",children:"Row"})});case"column":return o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"text-xs text-zinc-500",children:"Column:"})});default:return o.jsxs("div",{className:"text-xs text-zinc-500 italic",children:["Unknown element: ",e.type]})}}const h_=b.forwardRef(({className:e,children:t,...n},r)=>o.jsx("div",{ref:r,className:ye("overflow-auto",e),...n,children:t}));h_.displayName="ScrollArea";let _i=null;const Pf="fireworks_api_key",LI="https://api.fireworks.ai/inference/v1/chat/completions",ml="accounts/fireworks/models/qwen3-8b";async function UI(e){if(_i=e,typeof window<"u"){localStorage.setItem(Pf,e);try{const{supabase:t}=await sn(async()=>{const{supabase:r}=await Promise.resolve().then(()=>pa);return{supabase:r}},void 0),{data:{user:n}}=await t.auth.getUser();if(n!=null&&n.email){const{supabaseAdapter:r}=await sn(async()=>{const{supabaseAdapter:s}=await Promise.resolve().then(()=>bu);return{supabaseAdapter:s}},void 0);await r.ApiKey.set(n.email,"fireworks",e)}}catch(t){console.warn("Failed to save API key to Supabase:",t)}}}async function gp(){if(!_i&&typeof window<"u"){try{const{supabase:e}=await sn(async()=>{const{supabase:n}=await Promise.resolve().then(()=>pa);return{supabase:n}},void 0),{data:{user:t}}=await e.auth.getUser();if(t!=null&&t.email){const{supabaseAdapter:n}=await sn(async()=>{const{supabaseAdapter:s}=await Promise.resolve().then(()=>bu);return{supabaseAdapter:s}},void 0),r=await n.ApiKey.get(t.email,"fireworks");if(r)return _i=r,localStorage.setItem(Pf,r),_i}}catch(e){console.warn("Failed to get API key from Supabase:",e)}_i=localStorage.getItem(Pf)}return _i}async function Au(e,t={}){var u,d,h;const n=gp();if(!n)throw new Error("Fireworks API key not configured. Please add your API key in Settings.");const{model:r=ml,temperature:s=.2,max_tokens:i=100}=t,a=await fetch(LI,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({model:r,messages:e,temperature:s,max_tokens:i})});if(!a.ok){const f=await a.text().catch(()=>"");throw f.includes("<!DOCTYPE")||f.includes("<html")?new Error("Server proxy configuration failed. The API returned HTML instead of JSON. This might be a temporary issue."):a.status===401?new Error("Invalid Fireworks API key. Please check your key in Settings."):a.status===429?new Error("Fireworks rate limit reached. Please wait a bit and try again."):a.status>=500?new Error("Fireworks is currently overloaded or unavailable. Please try again later."):new Error(`Fireworks API error (${a.status}): ${f||a.statusText}`)}const l=await a.json(),c=(h=(d=(u=l==null?void 0:l.choices)==null?void 0:u[0])==null?void 0:d.message)==null?void 0:h.content;if(!c)throw new Error("Empty response from DeepSeek.");return c}async function FI(e){const t={role:"system",content:"You are an expert Blender Python addon developer. Generate ONLY Python code. No explanations, no thinking, no markdown. Start directly with bl_info."},n={role:"user",content:`Create a complete Blender addon: ${e}

CRITICAL REQUIREMENTS - COMPLETE EVERYTHING:
1. Always include proper bl_info dictionary with name, author, version, blender, location, description, category
2. Include proper register() and unregister() functions
3. Use proper Blender API conventions
4. Add helpful comments explaining the code
5. Make sure the addon is complete and can be installed directly in Blender
6. Include proper error handling where needed
7. Use descriptive names for operators, panels, and properties
8. COMPLETE all property definitions - never leave description parameters incomplete
9. COMPLETE all method implementations - never cut off mid-method
10. COMPLETE all class definitions - ensure all methods are fully implemented

ABSOLUTELY CRITICAL: Generate the ENTIRE addon code from start to finish. Do NOT stop mid-sentence, mid-property, or mid-method. Every string must be closed, every parenthesis matched, every method completed.

Generate ONLY the Python code, starting with imports, then bl_info, then all classes, then register/unregister functions.`};let s=(await Au([t,n],{model:ml,temperature:.2,max_tokens:8e3})).replace(/<think>[\s\S]*?<\/think>/gi,"").replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim();const i=s.match(/bl_info\s*=\s*\{[^}]*["']name["']\s*:\s*["']([^"']+)["']/),a=i?i[1]:"My Blender Addon",l=s.match(/bl_info\s*=\s*\{[^}]*["']description["']\s*:\s*["']([^"']+)["']/),c=l?l[1]:"A Blender addon created with AI";return{addon_name:a,code:s,short_description:c}}async function $I(e){const t=`Generate 10 unique Blender addon ideas based on: ${e}
  
Return ONLY this JSON format (no other text):
[
  {"title": "Idea 1", "description": "Description 1"},
  {"title": "Idea 2", "description": "Description 2"}
]`,n=await Au([{role:"system",content:"You are a JSON generator. Always respond with valid JSON only. No explanations. No thinking. Start with ["},{role:"user",content:t}],{model:ml,temperature:0,max_tokens:2e3});try{const r=n.replace(/<think>[\s\S]*?<\/think>/gi,"").trim();return JSON.parse(r)}catch{console.error("DeepSeek raw response:",n);const s=n.match(/\[[\s\S]*?\]/);if(s)try{return JSON.parse(s[0])}catch(i){console.error("Failed to parse extracted JSON:",i)}return[{title:"AI Generated Idea",description:"Unable to generate ideas. Please try again or check your API key."}]}}async function BI(e){const t={hasErrors:!1,errors:[],summary:"Preliminary checks completed"};if(e.includes("bl_info")||t.errors.push({type:"error",message:"Missing bl_info dictionary",line:1,suggestion:"Add a bl_info dictionary at the top of your addon with name, author, version, etc."}),(!e.includes("register()")||!e.includes("unregister()"))&&t.errors.push({type:"error",message:"Missing register() or unregister() functions",line:1,suggestion:"Add both register() and unregister() functions to handle addon enabling/disabling"}),e.includes("bpy.")&&!e.includes("import bpy")&&t.errors.push({type:"error",message:"Missing bpy import",line:1,suggestion:"Add 'import bpy' at the top of your file"}),t.errors.length>0)return t.hasErrors=!0,t.summary="Found critical issues in preliminary check",t;const n={role:"system",content:`You are an expert Blender addon reviewer. Analyze the code thoroughly and return a JSON object with this exact structure:
    {
      "hasErrors": boolean,
      "errors": [{
        "type": "error" | "warning" | "info",
        "message": "detailed description",
        "line": number | null,
        "suggestion": "specific suggestion"
      }],
      "summary": "overall assessment"
    }
    
    Check for:
    1. Syntax errors
    2. Missing or invalid bl_info
    3. Missing register()/unregister()
    4. Undefined variables/imports
    5. Common Blender API mistakes
    6. Error handling issues
    7. Performance concerns
    
    Be specific and include line numbers when possible.
    Return ONLY the JSON object with no other text.`},r={role:"user",content:`Analyze this Blender addon code:
\`\`\`python
${e}
\`\`\``};try{const a=(await Au([n,r],{model:ml,temperature:0,max_tokens:2e3})).replace(/<think>[\s\S]*?<\/think>/gi,"").replace(/```json\s*|```/g,"").trim().match(/\{[\s\S]*\}/);if(a){const l=JSON.parse(a[0]);if(l&&typeof l=="object")return Array.isArray(l.errors)||(l.errors=[]),typeof l.hasErrors!="boolean"&&(l.hasErrors=l.errors.some(c=>c.type==="error")),l}return{hasErrors:!0,errors:[{type:"error",message:"Failed to analyze code - invalid response format",line:null,suggestion:"Please try again or check the console for more details"}],summary:"Analysis failed"}}catch(s){return console.error("Analysis error:",s),{hasErrors:!0,errors:[{type:"error",message:s.message||"Failed to analyze code",line:null,suggestion:"Check console for details"}],summary:"Analysis failed with error"}}}async function VI({code:e,errorMessage:t,analysisResult:n}){const r=n&&n.errors?JSON.stringify(n.errors,null,2):"";let s=`Fix this Blender addon code. Make sure it's complete, working, and error-free.

Original code:
\`\`\`python
${e}
\`\`\``;return t&&t.trim()&&(s+=`

Error message from Blender:
${t}`),r&&(s+=`

Issues found by static analysis:
${r}`),s+=`

IMPORTANT REQUIREMENTS:
1. Always include proper bl_info dictionary with name, author, version, blender, location, description, category
2. Include proper register() and unregister() functions
3. Use proper Blender API conventions (bpy module)
4. Add helpful comments explaining the code
5. Make sure the addon is complete and can be installed directly in Blender
6. Include proper error handling where needed
7. Use descriptive names for operators, panels, and properties

Return ONLY the fixed Python code. No thinking, no explanations. Start with bl_info.`,(await Au([{role:"system",content:"You are an expert Blender Python addon developer. Generate ONLY Python code. No thinking, no explanations."},{role:"user",content:s}],{model:ml,temperature:0,max_tokens:4e3})).replace(/<think>[\s\S]*?<\/think>/gi,"").replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Q0||(Q0={}));var J0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(J0||(J0={}));var X0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(X0||(X0={}));var Z0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(Z0||(Z0={}));var Yc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(Yc||(Yc={}));var ev;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(ev||(ev={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class tv extends Ko{constructor(t,n){super(t),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="https://generativelanguage.googleapis.com",WI="v1",KI="0.2.1",HI="genai-js";var ti;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ti||(ti={}));class pl{constructor(t,n,r,s){this.model=t,this.task=n,this.apiKey=r,this.stream=s}toString(){let t=`${qI}/${WI}/${this.model}:${this.task}`;return this.stream&&(t+="?alt=sse"),t}}function GI(){return`${HI}/${KI}`}async function gl(e,t,n){let r;try{if(r=await fetch(e.toString(),Object.assign(Object.assign({},YI(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":GI(),"x-goog-api-key":e.apiKey},body:t})),!r.ok){let s="";try{const i=await r.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${s}`)}}catch(s){const i=new Ko(`Error fetching from ${e.toString()}: ${s.message}`);throw i.stack=s.stack,i}return r}function YI(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=r}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),f_(e.candidates[0]))throw new tv(`${Qc(e)}`,e);return QI(e)}else if(e.promptFeedback)throw new tv(`Text not available. ${Qc(e)}`,e);return""},e}function QI(e){var t,n,r,s;return!((s=(r=(n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?e.candidates[0].content.parts[0].text:""}const JI=[Yc.RECITATION,Yc.SAFETY];function f_(e){return!!e.finishReason&&JI.includes(e.finishReason)}function Qc(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];f_(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Ho(e){return this instanceof Ho?(this.v=e,this):new Ho(e)}function XI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(f){r[f]&&(s[f]=function(m){return new Promise(function(v,w){i.push([f,m,v,w])>1||l(f,m)})})}function l(f,m){try{c(r[f](m))}catch(v){h(i[0][3],v)}}function c(f){f.value instanceof Ho?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function ZI(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=n4(t),[r,s]=n.tee();return{stream:t4(r),response:e4(s)}}async function e4(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return yp(r4(t));t.push(s)}}function t4(e){return XI(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield Ho(n.read());if(s)break;yield yield Ho(yp(r))}})}function n4(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:a,done:l})=>{if(l){if(s.trim()){r.error(new Ko("Failed to parse stream"));return}r.close();return}s+=a;let c=s.match(nv),u;for(;c;){try{u=JSON.parse(c[1])}catch{r.error(new Ko(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(u),s=s.substring(c[0].length),c=s.match(nv)}return i()})}}})}function r4(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e)if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[{text:""}]});for(const a of s.content.parts)a.text&&(n.candidates[i].content.parts[0].text+=a.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(e,t,n,r){const s=new pl(t,ti.STREAM_GENERATE_CONTENT,e,!0),i=await gl(s,JSON.stringify(n),r);return ZI(i)}async function p_(e,t,n,r){const s=new pl(t,ti.GENERATE_CONTENT,e,!1),a=await(await gl(s,JSON.stringify(n),r)).json();return{response:yp(a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e,t){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return{role:t,parts:n}}function Fd(e){return e.contents?e:{contents:[fo(e,"user")]}}function s4(e){return typeof e=="string"||Array.isArray(e)?{content:fo(e,"user")}:e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="SILENT_ERROR";class i4{constructor(t,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(this._history=r.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return fo(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,r;await this._sendPromise;const s=fo(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]};let a;return this._sendPromise=this._sendPromise.then(()=>p_(this._apiKey,this.model,i,this.requestOptions)).then(l=>{var c;if(l.response.candidates&&l.response.candidates.length>0){this._history.push(s);const u=Object.assign({parts:[],role:"model"},(c=l.response.candidates)===null||c===void 0?void 0:c[0].content);this._history.push(u)}else{const u=Qc(l.response);u&&console.warn(`sendMessage() was unsuccessful. ${u}. Inspect response object for details.`)}a=l}),await this._sendPromise,a}async sendMessageStream(t){var n,r;await this._sendPromise;const s=fo(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]},a=m_(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>a).catch(l=>{throw new Error(rv)}).then(l=>l.response).then(l=>{if(l.candidates&&l.candidates.length>0){this._history.push(s);const c=Object.assign({},l.candidates[0].content);c.role||(c.role="model"),this._history.push(c)}else{const c=Qc(l);c&&console.warn(`sendMessageStream() was unsuccessful. ${c}. Inspect response object for details.`)}}).catch(l=>{l.message!==rv&&console.error(l)}),a}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(e,t,n,r){const s=new pl(t,ti.COUNT_TOKENS,e,!1);return(await gl(s,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(e,t,n,r){const s=new pl(t,ti.EMBED_CONTENT,e,!1);return(await gl(s,JSON.stringify(n),r)).json()}async function l4(e,t,n,r){const s=new pl(t,ti.BATCH_EMBED_CONTENTS,e,!1),i=n.requests.map(l=>Object.assign(Object.assign({},l),{model:t}));return(await gl(s,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t,n,r){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(t){const n=Fd(t);return p_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(t){const n=Fd(t);return m_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(t){return new i4(this.apiKey,this.model,t,this.requestOptions)}async countTokens(t){const n=Fd(t);return a4(this.apiKey,this.model,n)}async embedContent(t){const n=s4(t);return o4(this.apiKey,this.model,n)}async batchEmbedContents(t){return l4(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Ko("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new c4(this.apiKey,t,n)}}let Si=null;async function u4(e){if(Si=e,typeof window<"u"){localStorage.setItem("gemini_api_key",e);try{const{supabase:t}=await sn(async()=>{const{supabase:r}=await Promise.resolve().then(()=>pa);return{supabase:r}},void 0),{data:{user:n}}=await t.auth.getUser();if(n!=null&&n.email){const{supabaseAdapter:r}=await sn(async()=>{const{supabaseAdapter:s}=await Promise.resolve().then(()=>bu);return{supabaseAdapter:s}},void 0);await r.ApiKey.set(n.email,"gemini",e)}}catch(t){console.warn("Failed to save API key to Supabase:",t)}}}async function ka(){if(!Si&&typeof window<"u"){try{const{supabase:e}=await sn(async()=>{const{supabase:n}=await Promise.resolve().then(()=>pa);return{supabase:n}},void 0),{data:{user:t}}=await e.auth.getUser();if(t!=null&&t.email){const{supabaseAdapter:n}=await sn(async()=>{const{supabaseAdapter:s}=await Promise.resolve().then(()=>bu);return{supabaseAdapter:s}},void 0),r=await n.ApiKey.get(t.email,"gemini");if(r)return Si=r,localStorage.setItem("gemini_api_key",r),Si}}catch(e){console.warn("Failed to get API key from Supabase:",e)}Si=localStorage.getItem("gemini_api_key")}return Si}async function d4(e){const t=ka();if(!t)throw new Error("Gemini API key not configured. Please add your API key in Settings.");try{const r=new Ru(t).getGenerativeModel({model:"gemini-2.5-flash"}),s=`You are a creative Blender addon idea generator. Based on the given Blender functionalities, generate 10 unique and innovative Blender addon ideas.
For each idea, provide a concise title and a short description (1-2 sentences).
Return ONLY a valid JSON array of objects, each with "title" and "description" fields. DO NOT include any conversational text, markdown, or extra characters outside the JSON array.

Functionalities:
${e}`,l=(await(await r.generateContent({contents:[{parts:[{text:s}]}],generationConfig:{maxOutputTokens:2e3,temperature:.7}})).response).text(),c=l.replace(/```json\s*/gi,"").replace(/```\s*$/g,"").trim();try{return JSON.parse(c)}catch{console.error("Gemini raw response:",l),console.error("Gemini cleaned response:",c);const d=c.match(/\[[\s\S]*\]/);if(d)try{return JSON.parse(d[0])}catch{}return[{title:"AI Generated Idea",description:c.substring(0,200)+(c.length>200?"...":"")}]}}catch(n){throw console.error("Gemini generateIdea error:",n),new Error(`Failed to generate ideas: ${n.message}`)}}async function h4(e){var n,r,s;const t=ka();if(!t)throw new Error("Gemini API key not configured. Please add your API key in Settings.");try{const i=new Ru(t),a=i.getGenerativeModel({model:"gemini-2.5-flash"}),l=`You are an expert Blender Python addon developer. Create a COMPLETE, FULLY FUNCTIONAL Blender addon based on the user's request.

CRITICAL REQUIREMENTS - YOU MUST INCLUDE ALL OF THESE AND COMPLETE EVERYTHING:
1. bl_info dictionary with ALL required fields: name, author, version, blender (minimum version), location, description, category
2. ALL necessary imports (import bpy, import bmesh, etc.)
3. PropertyGroup class if properties are needed - COMPLETE all property definitions with full descriptions
4. Operator class(es) with execute() method that contains the actual functionality - COMPLETE the entire execute method
5. Panel class(es) with draw() method that displays the UI - COMPLETE the entire draw method with all UI elements
6. register() function that registers ALL classes (operators, panels, property groups)
7. unregister() function that unregisters ALL classes in reverse order
8. if __name__ == "__main__": block that calls register() for testing

ABSOLUTELY CRITICAL - DO NOT CUT OFF:
- NEVER leave a property definition incomplete (always finish the description parameter)
- NEVER leave a method incomplete (always close all parentheses, brackets, and complete all statements)
- NEVER leave a class incomplete (always include all methods fully implemented)
- The code MUST be syntactically complete and runnable
- Every string must be closed, every parenthesis matched, every method completed

IMPORTANT:
- The code MUST be complete and runnable - NO truncated code
- Include actual working functionality, not just placeholders
- Use proper Blender API (bpy.ops, bpy.context, bpy.data, etc.)
- Add error handling with try/except blocks
- Include helpful comments
- Make operators actually do something useful related to the request
- Complete ALL property definitions with full parameters
- Complete ALL method implementations

User's request: ${e}

Generate COMPLETE Python code starting with imports, then bl_info, then all classes, then register/unregister functions. 
CRITICAL: Generate the ENTIRE addon code from start to finish. Do NOT stop mid-sentence, mid-property, or mid-method.
NO explanations, NO markdown, NO code blocks - just the raw Python code.`,c=i.getGenerativeModel({model:"gemini-2.5-flash"}),d=await(await c.generateContent({contents:[{parts:[{text:l}]}],generationConfig:{maxOutputTokens:16e3,temperature:.2}})).response;let h=d.text();const f=(r=(n=d.candidates)==null?void 0:n[0])==null?void 0:r.finishReason;(f==="MAX_TOKENS"||f==="OTHER")&&console.warn("Response may have been truncated. Finish reason:",f),h=h.replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim();const m=sv(h);if(!m.complete&&(console.warn("Code may be incomplete:",m.reason),h.length<2e3||m.reason.includes("cut off"))){console.log("Attempting to complete truncated code...");try{const y=`The following Blender addon code was cut off mid-generation. Please complete it from where it left off. Continue exactly where it stopped and complete all remaining parts including:
- Any incomplete property definitions
- Any incomplete methods
- The register() function
- The unregister() function
- The if __name__ == "__main__": block

Here's the incomplete code:
\`\`\`python
${h}
\`\`\`

Generate ONLY the continuation of the code starting from where it was cut off. Do NOT repeat any code that's already there.`,x=(await c.generateContent({contents:[{parts:[{text:y}]}],generationConfig:{maxOutputTokens:8e3,temperature:.1}})).response.text().replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim();h=h+`

`+x,sv(h).complete||console.warn("Code still incomplete after completion attempt")}catch(y){console.error("Failed to complete code:",y)}}const v=h.match(/bl_info\s*=\s*\{[^}]*"name"\s*:\s*"([^"]+)"/),w=v?v[1]:"My Blender Addon",_=h.match(/bl_info\s*=\s*\{[^}]*"description"\s*:\s*"([^"]+)"/),g=_?_[1]:"A Blender addon created with AI";return{addon_name:w,code:h.trim(),short_description:g}}catch(i){throw console.error("Gemini API error:",i),(s=i.message)!=null&&s.includes("API_KEY")?new Error("Invalid API key. Please check your Gemini API key in Settings."):new Error(`Failed to generate addon: ${i.message}`)}}function sv(e){const t=[],n=(e.match(/\(/g)||[]).length,r=(e.match(/\)/g)||[]).length;n!==r&&t.push("Unmatched parentheses");const s=(e.match(/\{/g)||[]).length,i=(e.match(/\}/g)||[]).length;s!==i&&t.push("Unmatched braces");const a=(e.match(/\[/g)||[]).length,l=(e.match(/\]/g)||[]).length;a!==l&&t.push("Unmatched brackets");const c=(e.match(/'/g)||[]).length,u=(e.match(/"/g)||[]).length;(c%2!==0||u%2!==0)&&t.push("Unclosed string"),e.includes("def register()")||t.push("Missing register() function"),e.includes("def unregister()")||t.push("Missing unregister() function");const d=e.trim().split(`
`).pop()||"";return d&&!d.match(/[;:}\]]\s*$/)&&!d.match(/^def\s+\w+/)&&!d.match(/^class\s+\w+/)&&d.includes("description")&&!d.includes('"')&&!d.includes("'")&&t.push("Code appears to be cut off mid-property definition"),{complete:t.length===0,reason:t.join(", ")}}async function f4(e){const t=ka();if(!t)throw new Error("Gemini API key not configured. Please add your API key in Settings.");const n={hasErrors:!1,errors:[],summary:"Preliminary checks completed"};if(e.includes("bl_info")||n.errors.push({type:"error",message:"Missing bl_info dictionary",line:1,suggestion:"Add a bl_info dictionary at the top of your addon with name, author, version, etc."}),(!e.includes("register()")||!e.includes("unregister()"))&&n.errors.push({type:"error",message:"Missing register() or unregister() functions",line:1,suggestion:"Add both register() and unregister() functions to handle addon enabling/disabling"}),e.includes("bpy.")&&!e.includes("import bpy")&&n.errors.push({type:"error",message:"Missing bpy import",line:1,suggestion:"Add 'import bpy' at the top of your file"}),n.errors.length>0)return n.hasErrors=!0,n.summary="Found critical issues in preliminary check",n;try{const s=new Ru(t).getGenerativeModel({model:"gemini-2.5-flash"}),i=`You are an expert Blender addon reviewer. Analyze the code thoroughly and return a JSON object with this exact structure:
    {
      "hasErrors": boolean,
      "errors": [{
        "type": "error" | "warning" | "info",
        "message": "detailed description",
        "line": number | null,
        "suggestion": "specific suggestion"
      }],
      "summary": "overall assessment"
    }
    
    Check for:
    1. Syntax errors
    2. Missing or invalid bl_info
    3. Missing register()/unregister()
    4. Undefined variables/imports
    5. Common Blender API mistakes
    6. Error handling issues
    7. Performance concerns
    
    Be specific and include line numbers when possible.
    Return ONLY the JSON object with no other text.`,a=`Analyze this Blender addon code:
\`\`\`python
${e}
\`\``,h=(await(await s.generateContent({contents:[{parts:[{text:i+`

`+a}]}],generationConfig:{maxOutputTokens:2e3,temperature:0}})).response).text().replace(/```json\s*|```/g,"").trim().match(/\{[\s\S]*\}/);if(h)try{const f=JSON.parse(h[0]);if(f&&typeof f=="object")return Array.isArray(f.errors)||(f.errors=[]),typeof f.hasErrors!="boolean"&&(f.hasErrors=f.errors.some(m=>m.type==="error")),f}catch(f){console.error("Failed to parse Gemini analysis response:",f)}return{hasErrors:!0,errors:[{type:"error",message:"Failed to analyze code - invalid response format",line:null,suggestion:"Please try again or check the console for more details"}],summary:"Analysis failed"}}catch(r){return console.error("Gemini analysis error:",r),{hasErrors:!0,errors:[{type:"error",message:r.message||"Failed to analyze code",line:null,suggestion:"Check console for details"}],summary:"Analysis failed with error"}}}async function m4({code:e,errorMessage:t,analysisResult:n}){var a;const r=ka();if(!r)throw new Error("Gemini API key not configured. Please add your API key in Settings.");const s=n&&n.errors?JSON.stringify(n.errors,null,2):"";let i=`Fix this Blender addon code. Make sure it's complete, working, and error-free.

Original code:
\`\`\`python
${e}
\`\``;t&&t.trim()&&(i+=`

Error message from Blender:
${t}`),s&&(i+=`

Issues found by static analysis:
${s}`),i+=`

IMPORTANT REQUIREMENTS:
1. Always include proper bl_info dictionary with name, author, version, blender, location, description, category
2. Include proper register() and unregister() functions
3. Use proper Blender API conventions (bpy module)
4. Add helpful comments explaining the code
5. Make sure the addon is complete and can be installed directly in Blender
6. Include proper error handling where needed
7. Use descriptive names for operators, panels, and properties

Return ONLY the fixed Python code. No thinking, no explanations. Start with bl_info.`;try{return(await(await new Ru(r).getGenerativeModel({model:"gemini-2.5-flash"}).generateContent({contents:[{parts:[{text:"You are an expert Blender Python addon developer. Generate ONLY Python code. No thinking, no explanations."+`

`+i}]}],generationConfig:{maxOutputTokens:4e3,temperature:0}})).response).text().replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim()}catch(l){throw console.error("Gemini fix code error:",l),(a=l.message)!=null&&a.includes("API_KEY")?new Error("Invalid API key. Please check your Gemini API key in Settings."):new Error(`Failed to fix code: ${l.message}`)}}const p4="llm_preferred_provider";function g4(){return typeof window>"u"?"auto":localStorage.getItem(p4)||"auto"}function y4(){const e=!!gp(),t=!!ka(),n=g4(),r=[];return n==="fireworks"?(e&&r.push("fireworks"),t&&r.push("gemini")):(t&&r.push("gemini"),e&&r.push("fireworks")),r}function v4(e){if(!e)return!1;const t=e.toLowerCase();return t.includes("invalid")&&t.includes("api key")}async function Ou(e,t){const n=y4();if(n.length===0)throw new Error("No AI providers configured. Please add at least one API key in Settings.");const r=[];for(const s of n)try{return await t(s)}catch(i){const a=(i==null?void 0:i.message)||String(i);if(r.push(`${s}: ${a}`),v4(a))continue;continue}throw new Error(`All AI providers failed for ${e}.
`+r.map(s=>`- ${s}`).join(`
`))}async function g_(e){return Ou("generateAddonCode",async t=>{if(t==="gemini")return h4(e);if(t==="fireworks")return FI(e);throw new Error(`Unknown provider: ${t}`)})}async function w4(e){return Ou("generateIdeas",async t=>{if(t==="gemini")return d4(e);if(t==="fireworks")return $I(e);throw new Error(`Unknown provider: ${t}`)})}async function x4(e){return Ou("analyzeAddonCode",async t=>{if(t==="gemini")return f4(e);if(t==="fireworks")return BI(e);throw new Error(`Unknown provider: ${t}`)})}async function b4(e){return Ou("fixAddonCode",async t=>{if(t==="gemini")return m4(e);if(t==="fireworks")return VI(e);throw new Error(`Unknown provider: ${t}`)})}function _4({initialCode:e="",onCodeUpdate:t,onReset:n}){const[r,s]=b.useState([]),[i,a]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState(e),h=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{e&&r.length===0&&d(e)},[e]),b.useEffect(()=>{if(h.current){const g=h.current.querySelector("[data-radix-scroll-area-viewport]");g&&(g.scrollTop=g.scrollHeight)}},[r]);const m=async()=>{var p;if(!i.trim()||l)return;const g=i.trim();a("");const y={id:Date.now(),role:"user",content:g,timestamp:new Date};s(x=>[...x,y]),c(!0);try{let x=g;u&&(x=`Based on this existing addon code:

\`\`\`python
${u}
\`\`\`

User request: ${g}

Please update the code according to the user's request. If the request is vague, make reasonable improvements or additions.`);const S=await g_(x),j=S.code;d(j),t&&t(j,S.addon_name);const T={id:Date.now()+1,role:"assistant",content:`I've updated your addon code. Here's what changed:

- ${S.short_description||"Code has been updated based on your request"}`,code:j,addonName:S.addon_name,timestamp:new Date};s(N=>[...N,T])}catch(x){console.error("Error generating code:",x),D.error(x.message||"Failed to generate code");const S={id:Date.now()+1,role:"assistant",content:`Sorry, I encountered an error: ${x.message}`,isError:!0,timestamp:new Date};s(j=>[...j,S])}finally{c(!1),(p=f.current)==null||p.focus()}},v=()=>{s([]),d(""),a(""),n&&n()},w=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),m())},_=[{label:"Add Settings Panel",prompt:"Add a settings panel with options for the user to configure"},{label:"Make it Faster",prompt:"Optimize the code for better performance"},{label:"Add Error Handling",prompt:"Add comprehensive error handling throughout the code"},{label:"Add Documentation",prompt:"Add detailed comments and docstrings to explain the code"}];return o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 flex flex-col h-full max-h-[600px]",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-zinc-800 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eP,{className:"w-5 h-5 text-orange-500"}),o.jsx("h3",{className:"font-semibold text-white",children:"Conversational Development"}),r.length>0&&o.jsxs(ze,{variant:"outline",className:"text-xs",children:[r.length," message",r.length!==1?"s":""]})]}),r.length>0&&o.jsxs(V,{size:"sm",variant:"ghost",onClick:v,className:"text-zinc-400 hover:text-white",children:[o.jsx(Mb,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),o.jsx(h_,{ref:h,className:"flex-1 px-4 py-4",children:o.jsxs("div",{className:"space-y-4",children:[r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-500/10 mb-4",children:o.jsx(Zr,{className:"w-8 h-8 text-orange-500"})}),o.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Start a Conversation"}),o.jsx("p",{className:"text-zinc-400 text-sm mb-6 max-w-md mx-auto",children:"Describe what you want to change or improve in your addon. I'll update the code for you!"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-w-md mx-auto",children:_.map((g,y)=>o.jsx(V,{variant:"outline",size:"sm",onClick:()=>{a(g.prompt),setTimeout(()=>m(),100)},className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:text-white text-xs",children:g.label},y))})]}):o.jsx(hl,{children:r.map(g=>o.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`flex gap-3 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="assistant"&&o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-orange-500/10 flex items-center justify-center",children:o.jsx(Ly,{className:"w-5 h-5 text-orange-500"})}),o.jsxs("div",{className:`flex flex-col gap-1 max-w-[80%] ${g.role==="user"?"items-end":"items-start"}`,children:[o.jsxs(ne,{className:`p-3 ${g.role==="user"?"bg-orange-500/10 border-orange-500/20":g.isError?"bg-red-500/10 border-red-500/20":"bg-zinc-800/50 border-zinc-700"}`,children:[o.jsxs("div",{className:"flex items-start gap-2",children:[g.role==="user"&&o.jsx(Rn,{className:"w-4 h-4 text-orange-400 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:`text-sm ${g.role==="user"?"text-orange-200":g.isError?"text-red-200":"text-zinc-300"}`,children:g.content})]}),g.code&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(hf,{className:"w-4 h-4 text-green-400"}),o.jsxs("span",{className:"text-xs text-green-400 font-medium",children:["Code Updated: ",g.addonName||"Addon"]})]}),o.jsx("pre",{className:"text-xs text-zinc-400 bg-zinc-950 p-2 rounded overflow-x-auto",children:o.jsxs("code",{children:[g.code.substring(0,200),"..."]})})]})]}),o.jsx("span",{className:"text-xs text-zinc-500 px-1",children:g.timestamp.toLocaleTimeString()})]}),g.role==="user"&&o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(Rn,{className:"w-5 h-5 text-zinc-400"})})]},g.id))}),l&&o.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-orange-500/10 flex items-center justify-center",children:o.jsx(Ly,{className:"w-5 h-5 text-orange-500"})}),o.jsx(ne,{className:"bg-zinc-800/50 border-zinc-700 p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Te,{className:"w-4 h-4 animate-spin text-orange-500"}),o.jsx("span",{className:"text-sm text-zinc-400",children:"Generating code..."})]})})]})]})}),o.jsxs("div",{className:"px-4 py-3 border-t border-zinc-800",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(In,{ref:f,value:i,onChange:g=>a(g.target.value),onKeyPress:w,placeholder:"Describe what you want to change or improve...",className:"flex-1 bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500 resize-none min-h-[60px] max-h-[120px]",disabled:l}),o.jsx(V,{onClick:m,disabled:!i.trim()||l,className:"bg-orange-500 hover:bg-orange-600 text-white px-6",children:l?o.jsx(Te,{className:"w-4 h-4 animate-spin"}):o.jsx(rP,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})}const S4=[{name:"Quick Object Duplicator",description:"Quickly duplicate selected objects in a grid pattern with customizable rows and columns",prompt:"Create a Blender addon that adds a button to quickly duplicate selected objects in a grid pattern with customizable rows and columns, spacing, and rotation options."},{name:"Material Library Manager",description:"Organize and manage your material library with categories and tags",prompt:"Create a Blender addon for managing a material library. It should allow users to save, organize, and quickly apply materials with categories, tags, and search functionality."},{name:"Batch Render Manager",description:"Render multiple scenes or camera angles automatically",prompt:"Create a Blender addon that allows batch rendering of multiple scenes or camera angles with customizable output settings and automatic file naming."},{name:"UV Unwrap Assistant",description:"Smart UV unwrapping tools with automatic seam detection",prompt:"Create a Blender addon that provides smart UV unwrapping tools with automatic seam detection, island packing optimization, and UV layout management."},{name:"Animation Timeline Cleaner",description:"Clean up and organize keyframes in the animation timeline",prompt:"Create a Blender addon that helps clean up animation timelines by removing redundant keyframes, organizing channels, and providing timeline management tools."},{name:"Asset Browser Organizer",description:"Organize and categorize assets in the asset browser",prompt:"Create a Blender addon for organizing assets in the asset browser with custom categories, tags, preview management, and search capabilities."}];function j4(){const t=new URLSearchParams(window.location.search).get("prompt")||"",n=_a(),[r,s]=b.useState(t),[i,a]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState(""),[h,f]=b.useState(!1),[m,v]=b.useState([]),[w,_]=b.useState(!t),[g,y]=b.useState(""),[p,x]=b.useState("ai"),[S,j]=b.useState(!1);b.useEffect(()=>{t&&(s(t),_(!1)),T()},[t]);const T=async()=>{try{const F=await q.auth.me(),le=await q.entities.Idea.filter({created_by:F.email});v(le.filter(A=>A.is_template!==!1))}catch(F){console.error("Error loading ideas:",F)}},N=async F=>{try{await q.entities.Idea.delete(F),D.success("Template deleted"),T()}catch{D.error("Failed to delete template")}},k=F=>{s(F),_(!1),D.success("Template loaded!")},E=async()=>{if(!r.trim()){D.error("Please describe what you want your addon to do");return}c(!0);try{const F=await g_(r);d(F.addon_name||"My Blender Addon"),a(F.code),D.success("Addon generated successfully!")}catch(F){D.error(F.message||"Failed to generate addon")}finally{c(!1)}},z=F=>{var Y;const le=(Y=F.target.files)==null?void 0:Y[0];if(!le)return;if(!le.name.endsWith(".py")){D.error("Please upload a Python (.py) file");return}const A=new FileReader;A.onload=O=>{const R=O.target.result;y(R),x("manual");const U=R.match(/bl_info\s*=\s*\{[^}]*"name"\s*:\s*"([^"]+)"/);U&&d(U[1]),D.success("Addon file loaded!")},A.readAsText(le)},L=async()=>{const F=p==="ai"?i:g;if(!F.trim()){D.error("Please generate or upload addon code first");return}f(!0);try{const le=await q.auth.me(),A=await q.entities.Addon.create({title:u||"My Blender Addon",code:F,prompt_used:p==="ai"?r:"Manually uploaded",is_published:!1,is_free:!0,price:0,author_name:le.full_name||"Anonymous",downloads:0,created_by:le.email,images:[],video_url:"",description:"",short_description:"",category:"other",allow_forking:!0,forks_count:0});await q.entities.AddonVersion.create({addon_id:A.id,version_number:"1.0.0",code:F,changelog:p==="ai"?"Initial version created with AI":"Initial version uploaded",is_current:!0}),D.success("Addon saved to your collection!"),J(),setTimeout(()=>{n("/myaddons")},1e3)}catch{D.error("Failed to save addon")}finally{f(!1)}},J=()=>{s(""),a(""),y(""),d(""),_(!0),x("ai")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12",children:[o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-6",children:[o.jsx(Zr,{className:"w-4 h-4"}),"AI-Powered Addon Creator"]}),o.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Create Blender Addons",o.jsx("span",{className:"text-orange-500",children:" with AI"})]}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-2xl mx-auto",children:'Create addons with AI or upload your own. After saving, you can set prices, add images, and sell them in "My Addons".'})]}),w&&o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Templates & Ideas"}),o.jsx(V,{variant:"ghost",onClick:()=>_(!1),className:"text-zinc-400 hover:text-white",children:"Hide Templates"})]}),m.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx($o,{className:"w-5 h-5 text-orange-500"}),"Your Templates (",m.length,")"]})}),o.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:m.map(F=>o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 transition-all relative group",children:[o.jsxs("div",{className:"p-4 pr-10",children:[o.jsx("h4",{className:"font-semibold text-white mb-1",children:F.name}),o.jsx("p",{className:"text-sm text-zinc-400 mb-2",children:F.description}),o.jsx(V,{size:"sm",onClick:()=>k(F.prompt||F.description),className:"bg-orange-500 hover:bg-orange-600 text-white text-xs",children:"Use Template"})]}),o.jsx(V,{size:"sm",variant:"ghost",onClick:()=>N(F.id),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity text-red-400 hover:text-red-300",children:o.jsx(Vm,{className:"w-4 h-4"})})]},F.id))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[o.jsx(ol,{className:"w-5 h-5 text-orange-500"}),"Helpful Default Templates"]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:S4.map((F,le)=>o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 cursor-pointer transition-all",onClick:()=>k(F.prompt),children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-semibold text-white mb-1",children:F.name}),o.jsx("p",{className:"text-sm text-zinc-400",children:F.description})]})},le))})]})]}),o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[!w&&o.jsx(V,{variant:"ghost",onClick:()=>_(!0),className:"mb-4 text-zinc-400 hover:text-white",children:"Show Templates"}),o.jsxs(mp,{value:p,onValueChange:x,className:"mb-8",children:[o.jsxs(Pu,{className:"bg-zinc-900 border-zinc-800 mb-4",children:[o.jsxs(ei,{value:"ai",className:"text-zinc-400 data-[state=active]:text-white",children:[o.jsx(es,{className:"w-4 h-4 mr-2"}),"Create with AI"]}),o.jsxs(ei,{value:"manual",className:"text-zinc-400 data-[state=active]:text-white",children:[o.jsx(Bo,{className:"w-4 h-4 mr-2"}),"Upload Your Addon"]})]}),o.jsx(ns,{value:"ai",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(xe,{value:u,onChange:F=>d(F.target.value),placeholder:"Addon name (optional - will be extracted from code)",className:"bg-zinc-950 border-zinc-700 text-white mb-4"})}),o.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Describe your addon"}),o.jsx(In,{value:r,onChange:F=>s(F.target.value),placeholder:"Example: Create an addon that adds a button to quickly duplicate selected objects in a grid pattern with customizable rows and columns...",className:"min-h-[140px] bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500 focus:border-orange-500 focus:ring-orange-500/20 resize-none"}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx(V,{onClick:E,disabled:l||!r.trim(),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6",children:l?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(es,{className:"w-4 h-4 mr-2"}),"Generate Addon"]})}),i&&o.jsxs(V,{variant:"outline",onClick:J,className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(Mb,{className:"w-4 h-4 mr-2"}),"Start Over"]})]})]})}),o.jsx(ns,{value:"chat",children:o.jsx("div",{className:"space-y-4",children:o.jsx(_4,{initialCode:i||g,onCodeUpdate:(F,le)=>{a(F),le&&d(le),x("ai")},onReset:()=>{a(""),d("")}})})}),o.jsx(ns,{value:"manual",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(xe,{value:u,onChange:F=>d(F.target.value),placeholder:"Addon name",className:"bg-zinc-950 border-zinc-700 text-white"})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Upload Python File or Paste Code"}),o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs("label",{className:"cursor-pointer",children:[o.jsxs("div",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-zinc-300 text-sm transition-colors flex items-center gap-2",children:[o.jsx(Bo,{className:"w-4 h-4"}),"Upload .py File"]}),o.jsx("input",{type:"file",accept:".py",onChange:z,className:"hidden"})]}),o.jsx("span",{className:"text-sm text-zinc-400",children:"or paste code below"})]})]}),o.jsx(In,{value:g,onChange:F=>y(F.target.value),placeholder:"Paste your Blender addon Python code here...",className:"min-h-[300px] bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500 focus:border-orange-500 focus:ring-orange-500/20 resize-none font-mono text-sm"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Make sure your code includes bl_info, register(), and unregister() functions"})]})})]})]}),o.jsx(hl,{children:(i||g)&&o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:u||"My Blender Addon"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(V,{onClick:()=>{n(`/debug?code=${encodeURIComponent(p==="ai"?i:g)}`)},variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"Send to Debug"]}),o.jsx(V,{onClick:L,disabled:h,variant:"outline",className:"border-orange-500/50 text-orange-400 hover:bg-orange-500/10",children:h?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Db,{className:"w-4 h-4 mr-2"}),"Save Addon"]})})]})]}),o.jsx("div",{className:"mb-6",children:o.jsx(DI,{code:p==="ai"?i:g})}),o.jsx(pp,{code:p==="ai"?i:g,filename:`${(u||"addon").toLowerCase().replace(/\s+/g,"_")}.py`,readOnly:!1,onChange:F=>{p==="ai"?a(F):y(F)}})]})})]})})}async function k4(e){if(!e||e.trim().length<3)return{keywords:[],categories:[]};try{const t=`Based on this search query: "${e}"

Generate:
1. 5-10 relevant keywords that would help find Blender addons
2. Suggested categories (modeling, animation, rendering, texturing, rigging, scripting, ui, import_export, other)

Return ONLY a JSON object with this structure:
{
  "keywords": ["keyword1", "keyword2", ...],
  "categories": ["category1", "category2", ...]
}`,n=await fetch("/api/semantic-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}).catch(()=>null),r=e.toLowerCase().split(/\s+/).filter(i=>i.length>2),s=iv(e);return{keywords:r,categories:s}}catch(t){return console.error("Error generating search keywords:",t),{keywords:e.toLowerCase().split(/\s+/).filter(r=>r.length>2),categories:iv(e)}}}function iv(e){const t=e.toLowerCase(),n=[];return(t.includes("model")||t.includes("mesh")||t.includes("sculpt"))&&n.push("modeling"),(t.includes("animat")||t.includes("keyframe")||t.includes("rig"))&&n.push("animation"),(t.includes("render")||t.includes("material")||t.includes("shader"))&&n.push("rendering"),(t.includes("texture")||t.includes("uv")||t.includes("unwrap"))&&n.push("texturing"),(t.includes("rig")||t.includes("bone")||t.includes("armature"))&&n.push("rigging"),(t.includes("script")||t.includes("automate")||t.includes("batch"))&&n.push("scripting"),(t.includes("ui")||t.includes("panel")||t.includes("interface"))&&n.push("ui"),(t.includes("import")||t.includes("export")||t.includes("file"))&&n.push("import_export"),n.length>0?n:[]}function C4(e,t,n=[],r=[]){var l,c,u;let s=0;const i=t.toLowerCase(),a=`${e.title||""} ${e.description||""} ${e.short_description||""}`.toLowerCase();return(l=e.title)!=null&&l.toLowerCase().includes(i)&&(s+=10),(c=e.description)!=null&&c.toLowerCase().includes(i)&&(s+=5),(u=e.short_description)!=null&&u.toLowerCase().includes(i)&&(s+=3),n.forEach(d=>{a.includes(d)&&(s+=2)}),r.length>0&&e.category&&r.includes(e.category)&&(s+=5),e.downloads&&(s+=Math.log10(e.downloads+1)*.5),s}const N4=[{value:"all",label:"All Categories"},{value:"modeling",label:"Modeling"},{value:"animation",label:"Animation"},{value:"rendering",label:"Rendering"},{value:"texturing",label:"Texturing"},{value:"rigging",label:"Rigging"},{value:"scripting",label:"Scripting"},{value:"ui",label:"UI"},{value:"import_export",label:"Import/Export"},{value:"other",label:"Other"}];function E4(){const[e,t]=b.useState(""),[n,r]=b.useState("all"),[s,i]=b.useState("all"),[a,l]=b.useState({keywords:[],categories:[]}),[c,u]=b.useState(!1),{data:d=[],isLoading:h}=Ae({queryKey:["publishedAddons"],queryFn:()=>q.entities.Addon.filter({is_published:!0},"-created_date")});b.useEffect(()=>{e&&e.length>3?(u(!0),k4(e).then(m=>{l(m),u(!1)}).catch(()=>{u(!1)})):l({keywords:[],categories:[]})},[e]);const f=b.useMemo(()=>{let m=d;return e&&a.keywords.length>0?m=m.map(v=>({...v,relevanceScore:C4(v,e,a.keywords,a.categories)})).filter(v=>v.relevanceScore>0).sort((v,w)=>w.relevanceScore-v.relevanceScore):e&&(m=m.filter(v=>{var w,_,g;return((w=v.title)==null?void 0:w.toLowerCase().includes(e.toLowerCase()))||((_=v.description)==null?void 0:_.toLowerCase().includes(e.toLowerCase()))||((g=v.short_description)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))})),n!=="all"&&(m=m.filter(v=>v.category===n)),s!=="all"&&(m=m.filter(v=>s==="free"&&v.is_free||s==="paid"&&!v.is_free)),m},[d,e,n,s,a]);return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/10 via-transparent to-orange-600/10"}),o.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-orange-500/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"}),o.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-16 text-center",children:o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-6",children:[o.jsx(Zr,{className:"w-4 h-4"}),"Community Marketplace"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Explore Blender Addons"}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-2xl mx-auto mb-8",children:"Discover amazing addons created by the community. Find tools to supercharge your Blender workflow."}),o.jsxs("div",{className:"max-w-2xl mx-auto relative",children:[o.jsx(nP,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-400"}),o.jsx(xe,{value:e,onChange:m=>t(m.target.value),placeholder:"Search addons... (e.g., 'tools for creating materials', 'animation helpers')",className:"pl-12 pr-4 py-6 bg-zinc-900/80 border-zinc-700 text-white placeholder:text-zinc-500 text-lg rounded-xl focus:border-orange-500 focus:ring-orange-500/20"}),c&&o.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2 text-orange-400 text-sm",children:[o.jsx(Zr,{className:"w-4 h-4 animate-pulse"}),o.jsx("span",{children:"AI analyzing..."})]})]}),a.keywords.length>0&&o.jsxs("div",{className:"max-w-2xl mx-auto mt-4 flex flex-wrap gap-2 justify-center",children:[o.jsx("span",{className:"text-xs text-zinc-500",children:"Searching for:"}),a.keywords.slice(0,5).map((m,v)=>o.jsx(ze,{variant:"outline",className:"text-xs border-orange-500/30 text-orange-400",children:m},v))]})]})})]}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-16",children:[o.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap items-center gap-3 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[o.jsx(KT,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Filters:"})]}),o.jsxs(or,{value:n,onValueChange:r,children:[o.jsx(zn,{className:"w-40 bg-zinc-900 border-zinc-700 text-white",children:o.jsx(lr,{})}),o.jsx(Mn,{className:"bg-zinc-900 border-zinc-700",children:N4.map(m=>o.jsx(et,{value:m.value,className:"text-white",children:m.label},m.value))})]}),o.jsxs(or,{value:s,onValueChange:i,children:[o.jsx(zn,{className:"w-32 bg-zinc-900 border-zinc-700 text-white",children:o.jsx(lr,{})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"all",className:"text-white",children:"All Prices"}),o.jsx(et,{value:"free",className:"text-white",children:"Free Only"}),o.jsx(et,{value:"paid",className:"text-white",children:"Paid Only"})]})]}),(e||n!=="all"||s!=="all")&&o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{t(""),r("all"),i("all")},className:"text-zinc-400 hover:text-white",children:"Clear all"}),o.jsxs("div",{className:"ml-auto text-sm text-zinc-500",children:[f.length," addon",f.length!==1?"s":""," found"]})]}),h?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(Te,{className:"w-8 h-8 text-orange-500 animate-spin"})}):f.length===0?o.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[o.jsx(Xr,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No addons found"}),o.jsx("p",{className:"text-zinc-400",children:e?"Try adjusting your search or filters":"Be the first to publish an addon!"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((m,v)=>o.jsx(hp,{addon:m,index:v},m.id))})]})]})}const vp=b.createContext(),wp=({children:e,open:t,onOpenChange:n})=>{const[r,s]=b.useState(t||!1),i=t!==void 0?t:r,a=n||s;return b.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),i?o.jsx(vp.Provider,{value:{open:i,onOpenChange:a},children:o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>a(!1)}),e]})}):null},xp=b.forwardRef(({asChild:e,children:t,...n},r)=>{const{onOpenChange:s}=b.useContext(vp);return e?b.cloneElement(t,{...n,onClick:()=>s(!0)}):o.jsx("button",{ref:r,onClick:()=>s(!0),...n,children:t})});xp.displayName="DialogTrigger";const Iu=b.forwardRef(({className:e,children:t,...n},r)=>{const{onOpenChange:s}=b.useContext(vp);return o.jsx("div",{ref:r,className:ye("relative z-50 grid w-full max-w-lg gap-4 border bg-background p-6 shadow-lg duration-200 sm:rounded-lg",e),...n,children:t})});Iu.displayName="DialogContent";const zu=({className:e,...t})=>o.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zu.displayName="DialogHeader";const Mu=b.forwardRef(({className:e,...t},n)=>o.jsx("h2",{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));Mu.displayName="DialogTitle";const bp=b.createContext({open:!1,onOpenChange:()=>{}}),y_=b.forwardRef(({open:e,onOpenChange:t,children:n,className:r,...s},i)=>o.jsx(bp.Provider,{value:{open:e,onOpenChange:t},children:o.jsx("div",{ref:i,className:ye("w-full",r),...s,children:n})}));y_.displayName="Collapsible";const v_=b.forwardRef(({asChild:e=!1,className:t,children:n,onClick:r,...s},i)=>{const{open:a,onOpenChange:l}=b.useContext(bp),c=u=>{l(!a),r&&r(u)};return e?b.cloneElement(n,{ref:i,onClick:c,...s}):o.jsx("button",{ref:i,className:ye("w-full",t),onClick:c,...s,children:n})});v_.displayName="CollapsibleTrigger";const w_=b.forwardRef(({className:e,children:t,...n},r)=>{const{open:s}=b.useContext(bp);return s?o.jsx("div",{ref:r,className:ye("overflow-hidden",e),...n,children:t}):null});w_.displayName="CollapsibleContent";function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function cr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ut(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function _n(e){ut(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Jc(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function T4(e,t){ut(2,arguments);var n=_n(e),r=cr(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function P4(e,t){ut(2,arguments);var n=_n(e).getTime(),r=cr(t);return new Date(n+r)}var A4={};function Du(){return A4}function R4(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function O4(e){return ut(1,arguments),e instanceof Date||Jc(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function I4(e){if(ut(1,arguments),!O4(e)&&typeof e!="number")return!1;var t=_n(e);return!isNaN(Number(t))}function z4(e,t){ut(2,arguments);var n=cr(t);return P4(e,-n)}var M4=864e5;function D4(e){ut(1,arguments);var t=_n(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/M4)+1}function Xc(e){ut(1,arguments);var t=1,n=_n(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function x_(e){ut(1,arguments);var t=_n(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Xc(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=Xc(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function L4(e){ut(1,arguments);var t=x_(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Xc(n);return r}var U4=6048e5;function F4(e){ut(1,arguments);var t=_n(e),n=Xc(t).getTime()-L4(t).getTime();return Math.round(n/U4)+1}function Zc(e,t){var n,r,s,i,a,l,c,u;ut(1,arguments);var d=Du(),h=cr((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=_n(e),m=f.getUTCDay(),v=(m<h?7:0)+m-h;return f.setUTCDate(f.getUTCDate()-v),f.setUTCHours(0,0,0,0),f}function b_(e,t){var n,r,s,i,a,l,c,u;ut(1,arguments);var d=_n(e),h=d.getUTCFullYear(),f=Du(),m=cr((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(h+1,0,m),v.setUTCHours(0,0,0,0);var w=Zc(v,t),_=new Date(0);_.setUTCFullYear(h,0,m),_.setUTCHours(0,0,0,0);var g=Zc(_,t);return d.getTime()>=w.getTime()?h+1:d.getTime()>=g.getTime()?h:h-1}function $4(e,t){var n,r,s,i,a,l,c,u;ut(1,arguments);var d=Du(),h=cr((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=b_(e,t),m=new Date(0);m.setUTCFullYear(f,0,h),m.setUTCHours(0,0,0,0);var v=Zc(m,t);return v}var B4=6048e5;function V4(e,t){ut(1,arguments);var n=_n(e),r=Zc(n,t).getTime()-$4(n,t).getTime();return Math.round(r/B4)+1}function we(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var vr={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return we(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):we(r+1,2)},d:function(t,n){return we(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return we(t.getUTCHours()%12||12,n.length)},H:function(t,n){return we(t.getUTCHours(),n.length)},m:function(t,n){return we(t.getUTCMinutes(),n.length)},s:function(t,n){return we(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return we(i,n.length)}},vi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q4={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return vr.y(t,n)},Y:function(t,n,r,s){var i=b_(t,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return we(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):we(a,n.length)},R:function(t,n){var r=x_(t);return we(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return we(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return we(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return we(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return vr.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return we(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=V4(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):we(i,n.length)},I:function(t,n,r){var s=F4(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):we(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):vr.d(t,n)},D:function(t,n,r){var s=D4(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):we(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return we(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return we(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return we(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=vi.noon:s===0?i=vi.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=vi.evening:s>=12?i=vi.afternoon:s>=4?i=vi.morning:i=vi.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return vr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):vr.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):we(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):we(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):vr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):vr.s(t,n)},S:function(t,n){return vr.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return ov(a);case"XXXX":case"XX":return js(a);case"XXXXX":case"XXX":default:return js(a,":")}},x:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return ov(a);case"xxxx":case"xx":return js(a);case"xxxxx":case"xxx":default:return js(a,":")}},O:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+av(a,":");case"OOOO":default:return"GMT"+js(a,":")}},z:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+av(a,":");case"zzzz":default:return"GMT"+js(a,":")}},t:function(t,n,r,s){var i=s._originalDate||t,a=Math.floor(i.getTime()/1e3);return we(a,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,a=i.getTime();return we(a,n.length)}};function av(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=t;return n+String(s)+a+we(i,2)}function ov(e,t){if(e%60===0){var n=e>0?"-":"+";return n+we(Math.abs(e)/60,2)}return js(e,t)}function js(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=we(Math.floor(s/60),2),a=we(s%60,2);return r+i+n+a}var lv=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},__=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},W4=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return lv(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",lv(s,n)).replace("{{time}}",__(i,n))},K4={p:__,P:W4},H4=["D","DD"],G4=["YY","YYYY"];function Y4(e){return H4.indexOf(e)!==-1}function Q4(e){return G4.indexOf(e)!==-1}function cv(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var J4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X4=function(t,n,r){var s,i=J4[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function $d(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Z4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ez={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nz={date:$d({formats:Z4,defaultWidth:"full"}),time:$d({formats:ez,defaultWidth:"full"}),dateTime:$d({formats:tz,defaultWidth:"full"})},rz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sz=function(t,n,r,s){return rz[t]};function Ua(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var iz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},az={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dz=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hz={ordinalNumber:dz,era:Ua({values:iz,defaultWidth:"wide"}),quarter:Ua({values:az,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ua({values:oz,defaultWidth:"wide"}),day:Ua({values:lz,defaultWidth:"wide"}),dayPeriod:Ua({values:cz,defaultWidth:"wide",formattingValues:uz,defaultFormattingWidth:"wide"})};function Fa(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mz(l,function(h){return h.test(a)}):fz(l,function(h){return h.test(a)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function fz(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function mz(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function pz(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var gz=/^(\d+)(th|st|nd|rd)?/i,yz=/\d+/i,vz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wz={any:[/^b/i,/^(a|c)/i]},xz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bz={any:[/1/i,/2/i,/3/i,/4/i]},_z={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Cz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ez={ordinalNumber:pz({matchPattern:gz,parsePattern:yz,valueCallback:function(t){return parseInt(t,10)}}),era:Fa({matchPatterns:vz,defaultMatchWidth:"wide",parsePatterns:wz,defaultParseWidth:"any"}),quarter:Fa({matchPatterns:xz,defaultMatchWidth:"wide",parsePatterns:bz,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Fa({matchPatterns:_z,defaultMatchWidth:"wide",parsePatterns:Sz,defaultParseWidth:"any"}),day:Fa({matchPatterns:jz,defaultMatchWidth:"wide",parsePatterns:kz,defaultParseWidth:"any"}),dayPeriod:Fa({matchPatterns:Cz,defaultMatchWidth:"any",parsePatterns:Nz,defaultParseWidth:"any"})},Tz={code:"en-US",formatDistance:X4,formatLong:nz,formatRelative:sz,localize:hz,match:Ez,options:{weekStartsOn:0,firstWeekContainsDate:1}},Pz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Az=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rz=/^'([^]*?)'?$/,Oz=/''/g,Iz=/[a-zA-Z]/;function zz(e,t,n){var r,s,i,a,l,c,u,d,h,f,m,v,w,_;ut(2,arguments);var g=String(t),y=Du(),p=(r=(s=void 0)!==null&&s!==void 0?s:y.locale)!==null&&r!==void 0?r:Tz,x=cr((i=(a=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:y.firstWeekContainsDate)!==null&&a!==void 0?a:(u=y.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=cr((h=(f=(m=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&m!==void 0?m:y.weekStartsOn)!==null&&f!==void 0?f:(w=y.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&h!==void 0?h:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!p.localize)throw new RangeError("locale must contain localize property");if(!p.formatLong)throw new RangeError("locale must contain formatLong property");var j=_n(e);if(!I4(j))throw new RangeError("Invalid time value");var T=R4(j),N=z4(j,T),k={firstWeekContainsDate:x,weekStartsOn:S,locale:p,_originalDate:j},E=g.match(Az).map(function(z){var L=z[0];if(L==="p"||L==="P"){var J=K4[L];return J(z,p.formatLong)}return z}).join("").match(Pz).map(function(z){if(z==="''")return"'";var L=z[0];if(L==="'")return Mz(z);var J=q4[L];if(J)return Q4(z)&&cv(z,t,String(e)),Y4(z)&&cv(z,t,String(e)),J(N,z,p.localize,k);if(L.match(Iz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return z}).join("");return E}function Mz(e){var t=e.match(Rz);return t?t[1].replace(Oz,"'"):e}function uv(e,t){ut(2,arguments);var n=cr(t);return T4(e,-n)}const Dz=[{value:"modeling",label:"Modeling"},{value:"animation",label:"Animation"},{value:"rendering",label:"Rendering"},{value:"texturing",label:"Texturing"},{value:"rigging",label:"Rigging"},{value:"scripting",label:"Scripting"},{value:"ui",label:"UI"},{value:"import_export",label:"Import/Export"},{value:"other",label:"Other"}];function Lz(){const e=_a(),[t,n]=b.useState(null),[r,s]=b.useState(null),[i,a]=b.useState(!1),[l,c]=b.useState(""),[u,d]=b.useState(""),[h,f]=b.useState([]),[m,v]=b.useState(!1),w=ds(),{data:_}=Ae({queryKey:["user"],queryFn:()=>q.auth.me()}),{data:g=[],isLoading:y}=Ae({queryKey:["myAddons",_==null?void 0:_.email],queryFn:async()=>(await q.entities.Addon.list()).filter(z=>z.created_by===(_==null?void 0:_.email)),enabled:!!_}),{data:p=[]}=Ae({queryKey:["savedIdeas",_==null?void 0:_.email],queryFn:async()=>_!=null&&_.email?(await q.entities.Idea.filter({created_by:_.email})).filter(z=>z.is_template===!0||z.is_template!==!1):[],enabled:!!_});I.useEffect(()=>{p.length>0&&f(p)},[p]);const x=Io({mutationFn:({id:E,data:z})=>q.entities.Addon.update(E,z),onSuccess:()=>{w.invalidateQueries({queryKey:["myAddons"]}),D.success("Addon updated!"),n(null)}}),S=Io({mutationFn:E=>q.entities.Addon.delete(E),onSuccess:()=>{w.invalidateQueries({queryKey:["myAddons"]}),D.success("Addon deleted")}}),j=async E=>{const z=Array.from(E.target.files);if(!z.length)return;a(!0);const L=[];for(const J of z){const{file_url:F}=await q.integrations.Core.UploadFile({file:J});L.push(F)}n(J=>({...J,images:[...J.images||[],...L]})),a(!1)},T=E=>{n(z=>({...z,images:z.images.filter((L,J)=>J!==E)}))},N=async()=>{var le;const{id:E,code:z,...L}=t;if(g.find(A=>A.id===E).code!==z){const Y=((le=(await q.entities.AddonVersion.filter({addon_id:E},"-created_date",1))[0])==null?void 0:le.version_number)||"1.0.0",O=k(Y),R=u||O,U=await q.entities.AddonVersion.filter({addon_id:E});for(const $ of U)$.is_current&&await q.entities.AddonVersion.update($.id,{is_current:!1});await q.entities.AddonVersion.create({addon_id:E,version_number:R,code:z,changelog:l||"Updated addon",is_current:!0}),x.mutate({id:E,data:{...L,code:z}}),c(""),d("")}else x.mutate({id:E,data:L})},k=E=>{const z=E.split(".");return z[2]=String(parseInt(z[2]||0)+1),z.join(".")};return y?o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(Te,{className:"w-8 h-8 text-orange-500 animate-spin"})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Addons"}),o.jsx("p",{className:"text-zinc-400",children:"Manage and publish your Blender addons"})]}),o.jsx(Be,{to:We("Create"),children:o.jsxs(V,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Create New"]})})]}),h.length>0&&o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 mb-8",children:o.jsxs(y_,{open:m,onOpenChange:v,children:[o.jsx(v_,{asChild:!0,children:o.jsxs(V,{variant:"ghost",className:"w-full justify-between p-4 hover:bg-zinc-800",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ol,{className:"w-5 h-5 text-orange-500"}),o.jsxs("span",{className:"text-white font-semibold",children:["Saved Ideas from Blenderstorm (",h.length,")"]})]}),m?o.jsx(Ob,{className:"w-5 h-5 text-zinc-400"}):o.jsx($m,{className:"w-5 h-5 text-zinc-400"})]})}),o.jsx(w_,{children:o.jsxs("div",{className:"px-4 pb-4",children:[o.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:"Click on any idea to create an addon from it"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:h.map(E=>o.jsx(ne,{className:"bg-zinc-800/50 border-zinc-700 hover:border-orange-500/50 transition-all cursor-pointer group",onClick:()=>{const z=`Create a complete, production-ready Blender addon: ${E.name||E.title}

Description: ${E.description}

Requirements:
- Fully functional Blender addon implementing this idea
- User-friendly UI panel in the 3D Viewport
- Operators that perform the main functionality
- Proper error handling and user feedback
- Easy to use with clear button labels
- Follows Blender Python API best practices
- Complete and ready to install in Blender`;e(`/create?prompt=${encodeURIComponent(z)}&ideaId=${E.id||""}`)},children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-white group-hover:text-orange-400 transition-colors line-clamp-2",children:E.name||"Untitled Idea"}),o.jsx(es,{className:"w-4 h-4 text-orange-500 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 ml-2"})]}),o.jsx("p",{className:"text-sm text-zinc-400 line-clamp-2",children:E.description||"No description"})]})},E.id))})]})})]})}),g.length===0?o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-12 text-center",children:[o.jsx(Xr,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No addons yet"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Create your first AI-powered Blender addon"}),o.jsx(Be,{to:We("Create"),children:o.jsxs(V,{className:"bg-orange-500 hover:bg-orange-600",children:[o.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Create Addon"]})})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(E=>o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsx(jr,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(kr,{className:"text-white",children:E.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>n(E),children:o.jsx(tP,{className:"w-4 h-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>S.mutate(E.id),children:o.jsx(Ub,{className:"w-4 h-4 text-red-400"})})]})]})}),o.jsxs(qn,{children:[o.jsx("p",{className:"text-zinc-400 text-sm mb-4 line-clamp-2",children:E.short_description||E.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{variant:"outline",className:"border-zinc-700",children:E.is_published?"Published":"Draft"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Be,{to:We(`AddonDetail?id=${E.id}`),children:o.jsx(V,{variant:"ghost",size:"sm",children:"View"})}),o.jsx(Be,{to:We(`Debug?addonId=${E.id}`),children:o.jsx(V,{variant:"ghost",size:"sm",className:"text-orange-400 hover:text-orange-300",title:"Debug this addon",children:o.jsx(qs,{className:"w-4 h-4"})})})]})]})]})]},E.id))}),t&&o.jsx(wp,{open:!!t,onOpenChange:()=>n(null),children:o.jsxs(Iu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-zinc-900 border-zinc-800",children:[o.jsx(zu,{children:o.jsx(Mu,{className:"text-white",children:"Edit Addon"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Title"}),o.jsx(xe,{value:t.title,onChange:E=>n({...t,title:E.target.value}),className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Short Description"}),o.jsx(xe,{value:t.short_description||"",onChange:E=>n({...t,short_description:E.target.value}),placeholder:"Brief description shown in listings",className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Full Description"}),o.jsx(In,{value:t.description||"",onChange:E=>n({...t,description:E.target.value}),placeholder:"Detailed description of your addon, features, and how to use it",className:"bg-zinc-800 border-zinc-700 text-white mt-2 min-h-[100px]"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Category"}),o.jsxs(or,{value:t.category||"other",onValueChange:E=>n({...t,category:E}),children:[o.jsx(zn,{className:"bg-zinc-800 border-zinc-700 text-white mt-2",children:o.jsx(lr,{})}),o.jsx(Mn,{className:"bg-zinc-900 border-zinc-700",children:Dz.map(E=>o.jsx(et,{value:E.value,className:"text-white",children:E.label},E.value))})]})]}),o.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(Di,{className:"w-5 h-5"}),"Pricing"]}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ks,{checked:t.is_free!==!1,onCheckedChange:E=>n({...t,is_free:E,price:E?0:t.price||0})}),o.jsx(me,{className:"text-zinc-300",children:"Free Addon"})]}),!t.is_free&&o.jsxs("div",{className:"flex-1",children:[o.jsx(me,{className:"text-zinc-300",children:"Price ($)"}),o.jsx(xe,{type:"number",min:"0",step:"0.01",value:t.price||0,onChange:E=>n({...t,price:parseFloat(E.target.value)||0}),className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]})]})]}),o.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(QT,{className:"w-5 h-5"}),"Images"]}),o.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:(t.images||[]).map((E,z)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:E,alt:`Preview ${z+1}`,className:"w-full h-32 object-cover rounded-lg"}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>T(z),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 bg-red-500 hover:bg-red-600",children:o.jsx(Vm,{className:"w-4 h-4"})})]},z))}),o.jsxs("label",{className:"cursor-pointer",children:[o.jsxs("div",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-zinc-300 text-sm transition-colors flex items-center gap-2 w-fit",children:[i?o.jsx(Te,{className:"w-4 h-4 animate-spin"}):o.jsx(Bo,{className:"w-4 h-4"}),"Upload Images"]}),o.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:j,className:"hidden"})]})]}),o.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(uP,{className:"w-5 h-5"}),"Video URL"]}),o.jsx(xe,{value:t.video_url||"",onChange:E=>n({...t,video_url:E.target.value}),placeholder:"YouTube or Vimeo URL showing how to use the addon",className:"bg-zinc-800 border-zinc-700 text-white"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Paste a YouTube or Vimeo URL to show how your addon works"})]}),o.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Permissions"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ks,{checked:t.is_published,onCheckedChange:E=>n({...t,is_published:E})}),o.jsx(me,{className:"text-zinc-300",children:"Published (visible in Explore)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ks,{checked:t.allow_forking!==!1,onCheckedChange:E=>n({...t,allow_forking:E})}),o.jsx(me,{className:"text-zinc-300",children:"Allow Forking (users can create remixes)"})]})]})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Code"}),o.jsx(In,{value:t.code||"",onChange:E=>n({...t,code:E.target.value}),className:"bg-zinc-800 border-zinc-700 text-white mt-2 min-h-[200px] font-mono text-sm"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(V,{onClick:N,className:"bg-orange-500 hover:bg-orange-600",children:"Save Changes"}),o.jsx(V,{variant:"outline",onClick:()=>n(null),children:"Cancel"})]})]})]})})]})})}const Uz=.15,Fz=.85;function $z(e){const t=e*Uz,n=e*Fz;return{total:e,platformFee:parseFloat(t.toFixed(2)),creatorEarnings:parseFloat(n.toFixed(2))}}async function Bz({addon:e,buyer:t,paymentMethodId:n}){const{base44:r}=await sn(async()=>{const{base44:c}=await Promise.resolve().then(()=>Vb);return{base44:c}},void 0),s=$z(e.price),i=await r.entities.Transaction.create({type:"purchase",buyer_email:t.email,seller_email:e.created_by,addon_id:e.id,addon_title:e.title,amount:e.price,platform_fee:s.platformFee,creator_earnings:s.creatorEarnings,payment_method_id:n,status:"completed"}),a=await r.entities.Purchase.create({buyer_email:t.email,addon_id:e.id,addon_title:e.title,price:e.price,transaction_id:i.id,purchased_date:new Date().toISOString()}),l=await r.entities.Payout.create({creator_email:e.created_by,addon_id:e.id,addon_title:e.title,amount:s.creatorEarnings,platform_fee:s.platformFee,transaction_id:i.id,status:"pending"});return{transaction:i,purchase:a,payout:l}}async function Vz(e,t){const{base44:n}=await sn(async()=>{const{base44:s}=await Promise.resolve().then(()=>Vb);return{base44:s}},void 0);return(await n.entities.Purchase.filter({buyer_email:e,addon_id:t})).length>0}function qz({addonId:e,userEmail:t}){const[n,r]=b.useState(0),[s,i]=b.useState(0),[a,l]=b.useState(""),[c,u]=b.useState(null),[d,h]=b.useState(0),[f,m]=b.useState(0),[v,w]=b.useState([]),[_,g]=b.useState(!1);b.useEffect(()=>{e&&y()},[e]);const y=async()=>{const x=await q.entities.Rating.filter({addon_id:e});if(w(x),m(x.length),x.length>0){const S=x.reduce((j,T)=>j+T.rating,0);h(parseFloat((S/x.length).toFixed(1)))}if(t){const S=x.find(j=>j.user_email===t);S&&(u(S),r(S.rating),l(S.comment||""))}},p=async()=>{if(!t){D.error("Please log in to rate addons");return}if(n===0){D.error("Please select a rating");return}g(!0);try{c?(await q.entities.Rating.update(c.id,{rating:n,comment:a.trim()}),D.success("Rating updated!")):(await q.entities.Rating.create({addon_id:e,user_email:t,rating:n,comment:a.trim()}),D.success("Rating submitted!")),await y()}catch(x){console.error("Error submitting rating:",x),D.error("Failed to submit rating")}finally{g(!1)}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(x=>o.jsx(oo,{className:`w-6 h-6 cursor-pointer transition-colors ${x<=(s||n)?"text-orange-500 fill-orange-500":"text-zinc-600"}`,onMouseEnter:()=>i(x),onMouseLeave:()=>i(0),onClick:()=>r(x)},x))}),d>0&&o.jsxs("div",{className:"ml-2",children:[o.jsx("span",{className:"text-white font-semibold",children:d}),o.jsxs("span",{className:"text-zinc-400 text-sm ml-1",children:["(",f," ",f===1?"rating":"ratings",")"]})]})]})})}),t&&o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-zinc-300 mb-2 block",children:"Your Rating"}),o.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(x=>o.jsx(oo,{className:`w-5 h-5 cursor-pointer transition-colors ${x<=(s||n)?"text-orange-500 fill-orange-500":"text-zinc-600"}`,onMouseEnter:()=>i(x),onMouseLeave:()=>i(0),onClick:()=>r(x)},x)),n>0&&o.jsxs("span",{className:"text-zinc-400 text-sm ml-2",children:[n," out of 5"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-zinc-300 mb-2 block",children:"Review (Optional)"}),o.jsx(In,{value:a,onChange:x=>l(x.target.value),placeholder:"Share your thoughts about this addon...",className:"bg-zinc-800 border-zinc-700 text-white min-h-[100px]"})]}),o.jsx(V,{onClick:p,disabled:_||n===0,className:"bg-orange-500 hover:bg-orange-600 text-white",children:_?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):c?"Update Rating":"Submit Rating"})]})}),v.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Reviews"}),v.map(x=>o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-4",children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(S=>o.jsx(oo,{className:`w-4 h-4 ${S<=x.rating?"text-orange-500 fill-orange-500":"text-zinc-600"}`},S))}),o.jsx("span",{className:"text-zinc-400 text-sm",children:x.user_email})]})}),x.comment&&o.jsx("p",{className:"text-zinc-300 text-sm mt-2",children:x.comment})]},x.id))]})]})}function Wz(){var P,W,Z;const t=new URLSearchParams(window.location.search).get("id"),[n,r]=b.useState(0),[s,i]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[v,w]=b.useState([]),[_,g]=b.useState(!1),[y,p]=b.useState(0),[x,S]=b.useState(0),[j,T]=b.useState(0),N=ds();b.useEffect(()=>{q.auth.me().then(B=>{u(B)}).catch(()=>{u(null)})},[]),b.useEffect(()=>{c&&q.entities.PaymentMethod.filter({user_email:c.email}).then(B=>{w(B)})},[c]),b.useEffect(()=>{c&&k&&!k.is_free&&Vz(c.email,k.id).then(B=>{h(B)})},[c,k]),b.useEffect(()=>{k!=null&&k.id&&(async()=>{try{const ie=await q.entities.Rating.getAverageRating(k.id),se=await q.entities.Rating.getRatingCount(k.id);p(ie),S(se);const yt=await q.entities.Purchase.filter({addon_id:k.id});T(yt.length)}catch(ie){console.error("Error loading stats:",ie)}})()},[k]);const{data:k,isLoading:E,error:z}=Ae({queryKey:["addon",t],queryFn:async()=>(await q.entities.Addon.filter({id:t}))[0],enabled:!!t}),L=c&&k&&k.created_by===c.email,J=!k||k.is_free||L||d,F=Io({mutationFn:async()=>{await q.entities.Addon.update(t,{downloads:(k.downloads||0)+1})},onSuccess:()=>{N.invalidateQueries({queryKey:["addon",t]})}}),le=()=>{if(!k)return;if(!k.is_free&&k.price>0){D.error("Please purchase this addon to download the code");return}i(!0);const B=new Blob([k.code],{type:"text/x-python"}),ie=URL.createObjectURL(B),se=document.createElement("a");se.href=ie,se.download=`${k.title.toLowerCase().replace(/\s+/g,"_")}.py`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(ie),F.mutate(),D.success("Addon downloaded!"),i(!1)},A=()=>{navigator.clipboard.writeText(window.location.href),D.success("Link copied to clipboard!")},Y=async()=>{if(k){if(k.allow_forking===!1){D.error("Forking is not allowed for this addon");return}if(!J){D.error("You must purchase this addon to fork it");return}l(!0);try{const B=await q.auth.me();if(!B){D.error("Please log in to fork addons"),l(!1);return}if(k.created_by===B.email){D.error("You cannot fork your own addon"),l(!1);return}const se=(await q.entities.AddonVersion.filter({addon_id:k.id,is_current:!0}))[0],yt=await q.entities.Addon.create({title:`${k.title} (Fork)`,code:k.code,prompt_used:`Forked from: ${k.title}`,is_published:!1,is_free:!0,price:0,author_name:B.full_name||"Anonymous",downloads:0,created_by:B.email,images:k.images||[],video_url:k.video_url||"",description:k.description||"",short_description:k.short_description||"",category:k.category||"other",forked_from:k.id,original_author:k.created_by,original_title:k.title,allow_forking:!0});await q.entities.AddonVersion.create({addon_id:yt.id,version_number:"1.0.0",code:(se==null?void 0:se.code)||k.code,changelog:`Forked from ${k.title} by ${k.author_name}`,is_current:!0});const Ct=(k.forks_count||0)+1;await q.entities.Addon.update(k.id,{forks_count:Ct}),N.invalidateQueries({queryKey:["addon",k.id]}),D.success('Addon forked! You can now edit it in "My Addons"'),setTimeout(()=>{window.location.href=`/create?forked=${yt.id}`},1e3)}catch(B){console.error("Error forking addon:",B),D.error("Failed to fork addon")}finally{l(!1)}}},O=()=>{var B;((B=k==null?void 0:k.images)==null?void 0:B.length)>1&&r(ie=>(ie+1)%k.images.length)},R=()=>{var B;((B=k==null?void 0:k.images)==null?void 0:B.length)>1&&r(ie=>(ie-1+k.images.length)%k.images.length)},U=B=>{var ie,se,yt;return B?B.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${(ie=B.split("v=")[1])==null?void 0:ie.split("&")[0]}`:B.includes("youtu.be/")?`https://www.youtube.com/embed/${(se=B.split("youtu.be/")[1])==null?void 0:se.split("?")[0]}`:B.includes("vimeo.com/")?`https://player.vimeo.com/video/${(yt=B.split("vimeo.com/")[1])==null?void 0:yt.split("?")[0]}`:B:null};if(E)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(Te,{className:"w-8 h-8 text-orange-500 animate-spin"})});if(z||!k)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Addon not found"}),o.jsx(Be,{to:We("Explore"),children:o.jsx(V,{className:"mt-4",children:"Back to Explore"})})]})});const $=((P=k.images)==null?void 0:P.length)>0?k.images:["https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=800&h=500&fit=crop"];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:[o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[o.jsx(Be,{to:We("Explore"),children:o.jsxs(V,{variant:"ghost",className:"text-zinc-400 hover:text-white mb-6",children:[o.jsx(LT,{className:"w-4 h-4 mr-2"}),"Back to Explore"]})}),o.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[o.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[o.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-zinc-800",children:[o.jsx(hl,{mode:"wait",children:o.jsx(ge.img,{src:$[n],alt:k.title,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full object-cover"},n)}),$.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:R,className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:o.jsx(BT,{className:"w-5 h-5"})}),o.jsx("button",{onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:o.jsx(VT,{className:"w-5 h-5"})}),o.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5",children:$.map((B,ie)=>o.jsx("button",{onClick:()=>r(ie),className:`w-2 h-2 rounded-full transition-colors ${ie===n?"bg-white":"bg-white/50"}`},ie))})]})]}),k.video_url&&o.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-zinc-800",children:o.jsx("iframe",{src:U(k.video_url),className:"w-full h-full",allowFullScreen:!0,title:k.title})})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:k.title}),k.is_free?o.jsx(ze,{className:"bg-emerald-500 text-white",children:"Free"}):o.jsxs(ze,{className:"bg-orange-500 text-white",children:["$",k.price]})]}),k.short_description&&o.jsx("p",{className:"text-zinc-300 text-lg mb-4",children:k.short_description}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[J?o.jsx(V,{onClick:le,disabled:s,className:"bg-orange-500 hover:bg-orange-600 text-white flex-1",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Downloading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(is,{className:"w-4 h-4 mr-2"}),"Download"]})}):o.jsxs(V,{disabled:!0,className:"bg-zinc-700 text-zinc-400 flex-1 cursor-not-allowed",children:[o.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Purchase to Download"]}),k.allow_forking!==!1&&J&&o.jsx(V,{onClick:Y,disabled:a,variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",title:"Fork this addon to create your own version",children:a?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Forking..."]}):o.jsxs(o.Fragment,{children:[o.jsx(GT,{className:"w-4 h-4 mr-2"}),"Fork"]})}),k.allow_forking!==!1&&!J&&o.jsxs(V,{disabled:!0,variant:"outline",className:"border-zinc-700 text-zinc-400 cursor-not-allowed",title:"Purchase this addon to fork it",children:[o.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Fork"]}),o.jsx(Be,{to:We(`Debug?addonId=${k.id}`),children:o.jsxs(V,{variant:"outline",className:"border-zinc-700 text-zinc-300",title:"Debug this addon",children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"Debug"]})}),o.jsx(V,{variant:"outline",onClick:A,className:"border-zinc-700 text-zinc-300",children:o.jsx(iP,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[k.category&&o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(aP,{className:"w-3 h-3 mr-1"}),k.category.replace("_"," ")]}),y>0&&o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(oo,{className:"w-3 h-3 mr-1 text-orange-500 fill-orange-500"}),y," (",x,")"]}),!k.is_free&&j>0&&o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(Lb,{className:"w-3 h-3 mr-1"}),j," purchased"]}),o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(is,{className:"w-3 h-3 mr-1"}),k.downloads||0," downloads"]}),k.created_date&&o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(FT,{className:"w-3 h-3 mr-1"}),zz(new Date(k.created_date),"MMM yyyy")]})]}),k.author_name&&k.created_by&&o.jsxs(Be,{to:We(`UserProfile?email=${k.created_by}`),className:"flex items-center gap-2 text-zinc-400 hover:text-orange-400 transition-colors",children:[o.jsx(Rn,{className:"w-4 h-4"}),o.jsxs("span",{children:["by ",k.author_name]})]}),k.forked_from&&o.jsx(ne,{className:"bg-zinc-800/50 border-zinc-700 p-4 mt-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[o.jsx(HT,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{children:["Forked from"," ",o.jsx(Be,{to:We(`AddonDetail?id=${k.forked_from}`),className:"text-orange-400 hover:text-orange-300",children:k.original_title||"another addon"}),k.original_author&&o.jsxs(o.Fragment,{children:[" by ",k.original_author]})]})]})}),k.forks_count>0&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400 mt-2",children:[o.jsx(Bm,{className:"w-4 h-4"}),o.jsxs("span",{children:[k.forks_count," fork",k.forks_count!==1?"s":""]})]}),!k.is_free&&k.price>0&&!L&&!d&&o.jsxs(ne,{className:"bg-orange-500/10 border-orange-500/20 p-4 mt-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-300 mb-3",children:[o.jsx(Di,{className:"w-4 h-4"}),o.jsxs("span",{children:["This is a paid addon ($",k.price,"). Code will be available after purchase."]})]}),o.jsx(V,{onClick:()=>g(!0),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",disabled:v.length===0,children:v.length===0?o.jsxs(o.Fragment,{children:[o.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Add Payment Method First"]}):o.jsxs(o.Fragment,{children:[o.jsx(Di,{className:"w-4 h-4 mr-2"}),"Buy Now - $",k.price]})}),v.length===0&&o.jsx("p",{className:"text-xs text-orange-200/80 mt-2 text-center",children:"Go to Settings to add a payment method"})]})]})})]}),o.jsx("div",{className:"mt-8",children:o.jsxs(mp,{defaultValue:"description",className:"w-full",children:[o.jsxs(Pu,{className:"bg-zinc-900 border-zinc-800",children:[o.jsx(ei,{value:"description",className:"text-zinc-400 data-[state=active]:text-white",children:"Description"}),J&&o.jsx(ei,{value:"code",className:"text-zinc-400 data-[state=active]:text-white",children:"Code"})]}),o.jsx(ns,{value:"description",className:"mt-6",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("p",{className:"text-zinc-300 whitespace-pre-wrap mb-6",children:k.description||"No description available."}),o.jsxs("div",{className:"border-t border-zinc-800 pt-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Ratings & Reviews"}),o.jsx(qz,{addonId:k.id,userEmail:c==null?void 0:c.email})]})]})}),J&&o.jsx(ns,{value:"code",className:"mt-6",children:o.jsx(pp,{code:k.code||""})}),!J&&o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mt-6",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Vl,{className:"w-12 h-12 text-zinc-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Code Hidden"}),o.jsx("p",{className:"text-zinc-400 mb-4",children:"This is a paid addon. Purchase it to view and download the code."}),o.jsxs(V,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Di,{className:"w-4 h-4 mr-2"}),"Purchase for $",k.price]})]})})]})})]}),_&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(ne,{className:"bg-zinc-900 border-zinc-800 max-w-md w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Purchase Addon"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300 mb-2 block",children:"Select Payment Method"}),o.jsxs(or,{value:((W=v.find(B=>B.is_default))==null?void 0:W.id)||((Z=v[0])==null?void 0:Z.id)||"",onValueChange:B=>{},children:[o.jsx(zn,{className:"bg-zinc-800 border-zinc-700 text-white",children:o.jsx(lr,{placeholder:"Select payment method"})}),o.jsx(Mn,{children:v.map(B=>o.jsxs(et,{value:B.id,className:"text-white",children:[B.card_brand,"  ",B.last4," (Expires ",B.exp_month,"/",B.exp_year,")"]},B.id))})]})]}),o.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-zinc-400",children:"Addon Price:"}),o.jsxs("span",{className:"text-white",children:["$",k.price]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-zinc-400",children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-semibold",children:["$",k.price]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(V,{variant:"outline",onClick:()=>g(!1),className:"flex-1 border-zinc-700 text-zinc-300",children:"Cancel"}),o.jsx(V,{onClick:async()=>{if(!(!c||!k||v.length===0)){m(!0);try{const B=v.find(ie=>ie.is_default)||v[0];await Bz({addon:k,buyer:c,paymentMethodId:B.id}),h(!0),g(!1),D.success("Purchase successful! You now have access to the code."),N.invalidateQueries({queryKey:["addon",t]})}catch(B){console.error("Purchase error:",B),D.error("Failed to process purchase. Please try again.")}finally{m(!1)}}},disabled:f,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Di,{className:"w-4 h-4 mr-2"}),"Complete Purchase"]})})]})]})]})})]})}function Kz(){var w,_,g,y;const t=new URLSearchParams(window.location.search).get("username"),n=ds(),{data:r}=Ae({queryKey:["currentUser"],queryFn:()=>q.auth.me()}),{data:s,isLoading:i}=Ae({queryKey:["profileUser",t],queryFn:async()=>(await q.entities.User.filter({username:t}))[0],enabled:!!t}),{data:a=[],isLoading:l}=Ae({queryKey:["sharedIdeas",s==null?void 0:s.email],queryFn:async()=>await q.entities.Idea.filter({created_by:s.email,is_shared:!0}),enabled:!!s}),{data:c=[],isLoading:u}=Ae({queryKey:["userAddons",s==null?void 0:s.email,r==null?void 0:r.email],queryFn:async()=>{const x=(r==null?void 0:r.email)===s.email?{created_by:s.email}:{created_by:s.email,is_published:!0};return await q.entities.Addon.filter(x,"-created_date")},enabled:!!s}),{data:d=[]}=Ae({queryKey:["followers",s==null?void 0:s.email],queryFn:async()=>await q.entities.Follow.filter({following_email:s.email}),enabled:!!s}),{data:h=[]}=Ae({queryKey:["following",s==null?void 0:s.email],queryFn:async()=>await q.entities.Follow.filter({follower_email:s.email}),enabled:!!s}),{data:f=!1}=Ae({queryKey:["isFollowing",r==null?void 0:r.email,s==null?void 0:s.email],queryFn:async()=>(await q.entities.Follow.filter({follower_email:r.email,following_email:s.email})).length>0,enabled:!!r&&!!s&&r.email!==s.email}),m=Io({mutationFn:async()=>{if(f){const p=await q.entities.Follow.filter({follower_email:r.email,following_email:s.email});p[0]&&await q.entities.Follow.delete(p[0].id)}else await q.entities.Follow.create({follower_email:r.email,following_email:s.email})},onSuccess:()=>{n.invalidateQueries({queryKey:["isFollowing"]}),n.invalidateQueries({queryKey:["followers"]}),D.success(f?"Unfollowed":"Following!")}});if(i)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(Te,{className:"w-8 h-8 text-orange-500 animate-spin"})});if(!s)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"User not found"}),o.jsx(Be,{to:We("Explore"),children:o.jsx(V,{children:"Back to Explore"})})]})});const v=(r==null?void 0:r.email)===s.email;return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsx(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-8 mb-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[o.jsx("div",{className:"w-32 h-32 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white text-4xl font-bold flex-shrink-0",children:s.avatar_url?o.jsx("img",{src:s.avatar_url,alt:s.username,className:"w-full h-full object-cover rounded-xl"}):((_=(w=s.username)==null?void 0:w[0])==null?void 0:_.toUpperCase())||((y=(g=s.email)==null?void 0:g[0])==null?void 0:y.toUpperCase())}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:s.username||"User"}),o.jsx("p",{className:"text-zinc-400",children:s.full_name||s.email}),s.bio&&o.jsx("p",{className:"text-zinc-300 mt-2",children:s.bio}),s.website&&o.jsxs("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 hover:text-orange-300 flex items-center gap-1 mt-2",children:[o.jsx(YT,{className:"w-4 h-4"}),s.website]})]}),o.jsx("div",{className:"flex items-center gap-2",children:v?o.jsx(Be,{to:We("Settings"),children:o.jsxs(V,{className:"bg-orange-500 hover:bg-orange-600",children:[o.jsx(sP,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}):o.jsxs(V,{onClick:()=>m.mutate(),disabled:m.isPending||!r,className:f?"bg-zinc-700 hover:bg-zinc-600":"bg-orange-500 hover:bg-orange-600",children:[m.isPending?o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}):f?o.jsx(lP,{className:"w-4 h-4 mr-2"}):o.jsx(cP,{className:"w-4 h-4 mr-2"}),f?"Unfollow":"Follow"]})})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Xr,{className:"w-4 h-4 text-zinc-400"}),o.jsxs("span",{className:"text-zinc-300",children:[c.length," addons"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rn,{className:"w-4 h-4 text-zinc-400"}),o.jsxs("span",{className:"text-zinc-300",children:[d.length," followers"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rn,{className:"w-4 h-4 text-zinc-400"}),o.jsxs("span",{className:"text-zinc-300",children:[h.length," following"]})]})]})]})]})})}),o.jsxs(mp,{defaultValue:"addons",className:"w-full",children:[o.jsxs(Pu,{className:"bg-zinc-900 border-zinc-800",children:[o.jsxs(ei,{value:"addons",className:"text-zinc-400 data-[state=active]:text-white",children:[o.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Addons (",c.length,")"]}),v&&o.jsxs(ei,{value:"ideas",className:"text-zinc-400 data-[state=active]:text-white",children:[o.jsx(ol,{className:"w-4 h-4 mr-2"}),"Saved Ideas"]})]}),o.jsx(ns,{value:"addons",className:"mt-6",children:u?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(Te,{className:"w-8 h-8 text-orange-500 animate-spin"})}):c.length===0?o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-12 text-center",children:[o.jsx(Xr,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No addons yet"}),o.jsx("p",{className:"text-zinc-400",children:"This user hasn't published any addons"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((p,x)=>o.jsx(hp,{addon:p,index:x},p.id))})}),v&&o.jsx(ns,{value:"ideas",className:"mt-6",children:l?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(Te,{className:"w-8 h-8 text-orange-500 animate-spin"})}):a.length===0?o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-12 text-center",children:[o.jsx($o,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No shared ideas"}),o.jsx("p",{className:"text-zinc-400",children:"Ideas you save and choose to share will appear here"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(p=>o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:p.name}),o.jsxs(ze,{variant:"outline",className:"border-zinc-700",children:[o.jsx($o,{className:"w-3 h-3 mr-1"}),"Idea"]})]}),o.jsx("p",{className:"text-zinc-300 text-sm",children:p.description})]})},p.id))})})]})]})})}function Hz(){const t=new URLSearchParams(window.location.search).get("email"),{data:n,isLoading:r}=Ae({queryKey:["userByEmail",t],queryFn:async()=>(await q.entities.User.filter({email:t}))[0],enabled:!!t});return b.useEffect(()=>{n!=null&&n.username&&(window.location.href=We(`Profile?username=${n.username}`))},[n]),r||n!=null&&n.username?o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(Te,{className:"w-8 h-8 text-orange-500 animate-spin"})}):o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx("div",{className:"text-center text-zinc-400",children:o.jsx("p",{children:"User profile not available"})})})}function Gz(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(""),[f,m]=b.useState(!1),[v,w]=b.useState(""),[_,g]=b.useState(!1),[y,p]=b.useState([]),[x,S]=b.useState(!1),[j,T]=b.useState({card_number:"",expiry_date:"",cvv:"",cardholder_name:"",zip_code:""}),N=ds(),{data:k,isLoading:E}=Ae({queryKey:["currentUser"],queryFn:()=>q.auth.me()}),{data:z=[]}=Ae({queryKey:["savedIdeas",k==null?void 0:k.email],queryFn:async()=>await q.entities.Idea.filter({created_by:k==null?void 0:k.email}),enabled:!!k}),{data:L=[]}=Ae({queryKey:["paymentMethods",k==null?void 0:k.email],queryFn:async()=>k!=null&&k.email?await q.entities.PaymentMethod.filter({user_email:k.email}):[],enabled:!!k});b.useEffect(()=>{L&&p(L)},[L]);const J=async(P,W)=>{try{await q.entities.Idea.update(P,{is_shared:W}),D.success(W?"Idea is now shared on your profile":"Idea is now private"),N.invalidateQueries({queryKey:["savedIdeas"]}),N.invalidateQueries({queryKey:["sharedIdeas"]})}catch{D.error("Failed to update idea")}};b.useEffect(()=>{k&&(t(k.username||""),r(k.bio||""),i(k.website||""),l(k.avatar_url||"")),(async()=>{try{const W=await gp();W&&h(W);const Z=await ka();Z&&w(Z)}catch(W){console.error("Error loading API keys:",W)}})()},[k]);const F=Io({mutationFn:async P=>{if(P.username&&P.username!==k.username){const W=await q.entities.User.filter({username:P.username});if(W.length>0&&W[0].email!==k.email)throw new Error("Username is already taken")}await q.auth.updateMe(P)},onSuccess:()=>{N.invalidateQueries({queryKey:["currentUser"]}),D.success("Profile updated!")},onError:P=>{D.error(P.message||"Failed to update profile")}}),le=async P=>{var Z;const W=(Z=P.target.files)==null?void 0:Z[0];if(W){u(!0);try{const{file_url:B}=await q.integrations.Core.UploadFile({file:W});l(B),D.success("Avatar uploaded!")}catch{D.error("Failed to upload avatar")}u(!1)}},A=()=>{F.mutate({username:e.trim(),bio:n.trim(),website:s.trim(),avatar_url:a})},Y=async()=>{if(!d.trim()){D.error("Please enter your Fireworks API key");return}try{await UI(d.trim()),D.success("API key saved securely!")}catch(P){D.error("Failed to save API key"),console.error(P)}},O=async()=>{if(!v.trim()){D.error("Please enter your Gemini API key");return}try{await u4(v.trim()),D.success("Gemini API key saved securely!")}catch(P){D.error("Failed to save API key"),console.error(P)}},R=async()=>{if(!(k!=null&&k.email)){D.error("Please log in to add payment methods");return}const P=j.card_number.replace(/\s/g,"");if(P.length<13||P.length>19){D.error("Please enter a valid card number");return}const W=j.expiry_date.match(/^(\d{2})\/(\d{2})$/);if(!W){D.error("Please enter expiry date in MM/YY format");return}if(!j.cvv||j.cvv.length<3){D.error("Please enter a valid CVV");return}try{const Z=P[0];let B="Unknown";Z==="4"?B="Visa":Z==="5"?B="Mastercard":Z==="3"?B="American Express":Z==="6"&&(B="Discover");const[ie,se]=[W[1],W[2]],yt=P.slice(-4);await q.entities.PaymentMethod.create({user_email:k.email,card_brand:B,last4:yt,exp_month:parseInt(ie),exp_year:parseInt("20"+se),cardholder_name:j.cardholder_name,zip_code:j.zip_code,is_default:y.length===0}),D.success("Payment method added successfully!"),S(!1),T({card_number:"",expiry_date:"",cvv:"",cardholder_name:"",zip_code:""}),N.invalidateQueries({queryKey:["paymentMethods"]})}catch(Z){console.error("Error adding payment method:",Z),D.error("Failed to add payment method")}},U=async P=>{try{await q.entities.PaymentMethod.delete(P),D.success("Payment method deleted"),N.invalidateQueries({queryKey:["paymentMethods"]})}catch{D.error("Failed to delete payment method")}},$=async P=>{try{for(const W of y)W.is_default&&await q.entities.PaymentMethod.update(W.id,{is_default:!1});await q.entities.PaymentMethod.update(P,{is_default:!0}),D.success("Default payment method updated"),N.invalidateQueries({queryKey:["paymentMethods"]})}catch{D.error("Failed to update default payment method")}};return E?o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(Te,{className:"w-8 h-8 text-orange-500 animate-spin"})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsx("div",{className:"max-w-2xl mx-auto px-4 py-12",children:o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Settings"}),o.jsx("p",{className:"text-zinc-400",children:"Manage your profile and API settings"})]}),o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mb-6",children:o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Fy,{className:"w-5 h-5 text-orange-500"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Fireworks API Key"})]}),o.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:"Add your Fireworks API key to enable AI-powered addon generation and debugging."}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(xe,{type:f?"text":"password",value:d,onChange:P=>h(P.target.value),placeholder:"Enter your Fireworks API key",className:"bg-zinc-800 border-zinc-700 text-white pr-10"}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>m(!f),className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 p-0 text-zinc-400 hover:text-white",children:f?o.jsx(ff,{className:"w-4 h-4"}):o.jsx(mf,{className:"w-4 h-4"})})]}),o.jsx(V,{onClick:Y,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Save Key"})]})]})}),o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mb-6",children:o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Fy,{className:"w-5 h-5 text-orange-500"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Gemini API Key"})]}),o.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:"Add your Gemini Flash 2.5 API key if you want the app to fall back to Gemini when Fireworks is unavailable."}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(xe,{type:_?"text":"password",value:v,onChange:P=>w(P.target.value),placeholder:"Enter your Gemini API key",className:"bg-zinc-800 border-zinc-700 text-white pr-10"}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(!_),className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 p-0 text-zinc-400 hover:text-white",children:_?o.jsx(ff,{className:"w-4 h-4"}):o.jsx(mf,{className:"w-4 h-4"})})]}),o.jsx(V,{onClick:O,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Save Key"})]})]})}),o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Profile Settings"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Profile Picture"}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white text-2xl font-bold flex-shrink-0 overflow-hidden",children:a?o.jsx("img",{src:a,alt:"Avatar",className:"w-full h-full object-cover"}):o.jsx(Rn,{className:"w-8 h-8"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"cursor-pointer",children:[o.jsxs("div",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-zinc-300 text-sm transition-colors flex items-center gap-2",children:[c?o.jsx(Te,{className:"w-4 h-4 animate-spin"}):o.jsx(Bo,{className:"w-4 h-4"}),"Upload Image"]}),o.jsx("input",{type:"file",accept:"image/*",onChange:le,className:"hidden"})]}),a&&o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>l(""),className:"text-zinc-400 hover:text-white",children:o.jsx(Vm,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Username"}),o.jsx(xe,{value:e,onChange:P=>t(P.target.value),placeholder:"johndoe",className:"bg-zinc-800 border-zinc-700 text-white mt-2"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Your unique username - visible on your profile"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Full Name"}),o.jsx(xe,{value:(k==null?void 0:k.full_name)||"",disabled:!0,className:"bg-zinc-800 border-zinc-700 text-zinc-500 mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Email"}),o.jsx(xe,{value:(k==null?void 0:k.email)||"",disabled:!0,className:"bg-zinc-800 border-zinc-700 text-zinc-500 mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Bio"}),o.jsx(In,{value:n,onChange:P=>r(P.target.value),placeholder:"Tell us about yourself...",className:"bg-zinc-800 border-zinc-700 text-white mt-2 min-h-[100px]"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Website"}),o.jsx(xe,{value:s,onChange:P=>i(P.target.value),placeholder:"https://yourwebsite.com",className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsx(V,{onClick:A,disabled:F.isPending,className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:F.isPending?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]}),o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Uy,{className:"w-5 h-5 text-orange-500"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Payment Methods"})]}),o.jsxs(wp,{open:x,onOpenChange:S,children:[o.jsx(xp,{asChild:!0,children:o.jsxs(V,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Add Card"]})}),o.jsxs(Iu,{className:"bg-zinc-900 border-zinc-800",children:[o.jsx(zu,{children:o.jsx(Mu,{className:"text-white",children:"Add Payment Method"})}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Cardholder Name"}),o.jsx(xe,{value:j.cardholder_name,onChange:P=>T({...j,cardholder_name:P.target.value}),placeholder:"John Doe",className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Card Number"}),o.jsx(xe,{value:j.card_number,onChange:P=>{var Z;let W=P.target.value.replace(/\s/g,"");W=((Z=W.match(/.{1,4}/g))==null?void 0:Z.join(" "))||W,T({...j,card_number:W})},placeholder:"1234 5678 9012 3456",maxLength:19,className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Expiry (MM/YY)"}),o.jsx(xe,{value:j.expiry_date,onChange:P=>{let W=P.target.value.replace(/\D/g,"");W.length>=2&&(W=W.slice(0,2)+"/"+W.slice(2,4)),T({...j,expiry_date:W})},placeholder:"12/25",maxLength:5,className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"CVV"}),o.jsx(xe,{type:"password",value:j.cvv,onChange:P=>T({...j,cvv:P.target.value.replace(/\D/g,"").slice(0,4)}),placeholder:"123",maxLength:4,className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"ZIP Code"}),o.jsx(xe,{value:j.zip_code,onChange:P=>T({...j,zip_code:P.target.value}),placeholder:"12345",className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(V,{variant:"outline",onClick:()=>S(!1),className:"flex-1 border-zinc-700 text-zinc-300",children:"Cancel"}),o.jsx(V,{onClick:R,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",children:"Add Card"})]})]})]})]})]}),o.jsx("div",{className:"space-y-3",children:y.length===0?o.jsx("p",{className:"text-zinc-400 text-center py-8",children:"No payment methods added yet"}):y.map(P=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Uy,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-white font-medium",children:P.card_brand}),o.jsxs("span",{className:"text-zinc-400",children:[" ",P.last4]}),P.is_default&&o.jsx(ze,{variant:"outline",className:"text-xs border-orange-500/50 text-orange-400",children:"Default"})]}),o.jsxs("p",{className:"text-sm text-zinc-500",children:["Expires ",String(P.exp_month).padStart(2,"0"),"/",P.exp_year]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!P.is_default&&o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>$(P.id),className:"text-zinc-400 hover:text-white",children:"Set Default"}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>U(P.id),className:"text-red-400 hover:text-red-300",children:o.jsx(Ub,{className:"w-4 h-4"})})]})]},P.id))})]}),z.length>0&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mt-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(ol,{className:"w-5 h-5 text-orange-500"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Saved Ideas"})]}),o.jsx("div",{className:"space-y-4",children:z.map(P=>o.jsxs("div",{className:"flex items-start justify-between p-4 bg-zinc-800 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:P.name}),o.jsx("p",{className:"text-sm text-zinc-400 line-clamp-2",children:P.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx(Ks,{checked:P.is_shared,onCheckedChange:W=>J(P.id,W)}),o.jsx(me,{className:"text-zinc-300 text-sm",children:"Share"})]})]},P.id))})]})]})})})}const Yz=()=>o.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-zinc-950 to-zinc-900",children:o.jsx("div",{className:"max-w-md w-full p-8 bg-zinc-900 rounded-lg shadow-lg border border-zinc-800",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-6 rounded-full bg-orange-500/10",children:o.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Access Restricted"}),o.jsx("p",{className:"text-zinc-400 mb-8",children:"You are not registered to use this application. Please contact the app administrator to request access."}),o.jsxs("div",{className:"p-4 bg-zinc-800 rounded-md text-sm text-zinc-400",children:[o.jsx("p",{children:"If you believe this is an error, you can:"}),o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Verify you are logged in with the correct account"}),o.jsx("li",{children:"Contact the app administrator for access"}),o.jsx("li",{children:"Try logging out and back in again"})]})]})]})})}),dv=[{id:"mesh_modeling",name:"Mesh Modeling",category:"Modeling",description:"Create and edit 3D meshes"},{id:"sculpting",name:"Sculpting",category:"Modeling",description:"Digital sculpting tools"},{id:"retopology",name:"Retopology",category:"Modeling",description:"Create clean topology"},{id:"boolean_operations",name:"Boolean Operations",category:"Modeling",description:"Combine meshes with boolean operations"},{id:"modifiers",name:"Modifiers",category:"Modeling",description:"Non-destructive mesh modifications"},{id:"mesh_cleanup",name:"Mesh Cleanup",category:"Modeling",description:"Clean and optimize meshes"},{id:"keyframe_animation",name:"Keyframe Animation",category:"Animation",description:"Animate objects with keyframes"},{id:"rigging",name:"Rigging",category:"Animation",description:"Create character rigs"},{id:"armature",name:"Armature",category:"Animation",description:"Bone-based animation system"},{id:"shape_keys",name:"Shape Keys",category:"Animation",description:"Morph targets and blendshapes"},{id:"constraints",name:"Constraints",category:"Animation",description:"Animation constraints"},{id:"motion_tracking",name:"Motion Tracking",category:"Animation",description:"Track camera and objects"},{id:"cycles_rendering",name:"Cycles Rendering",category:"Rendering",description:"Path-traced rendering engine"},{id:"eevee_rendering",name:"Eevee Rendering",category:"Rendering",description:"Real-time rendering engine"},{id:"material_nodes",name:"Material Nodes",category:"Rendering",description:"Node-based material editor"},{id:"lighting",name:"Lighting",category:"Rendering",description:"Scene lighting setup"},{id:"compositing",name:"Compositing",category:"Rendering",description:"Post-processing and compositing"},{id:"render_layers",name:"Render Layers",category:"Rendering",description:"Layer-based rendering"},{id:"uv_mapping",name:"UV Mapping",category:"Texturing",description:"UV unwrapping and editing"},{id:"texture_painting",name:"Texture Painting",category:"Texturing",description:"Paint textures directly on models"},{id:"baking",name:"Baking",category:"Texturing",description:"Bake textures and maps"},{id:"procedural_textures",name:"Procedural Textures",category:"Texturing",description:"Generate textures procedurally"},{id:"pbr_materials",name:"PBR Materials",category:"Texturing",description:"Physically based materials"},{id:"fbx_import",name:"FBX Import/Export",category:"Import/Export",description:"FBX file format support"},{id:"obj_import",name:"OBJ Import/Export",category:"Import/Export",description:"OBJ file format support"},{id:"gltf_export",name:"glTF Export",category:"Import/Export",description:"Export to glTF format"},{id:"usd_support",name:"USD Support",category:"Import/Export",description:"Universal Scene Description"},{id:"physics_simulation",name:"Physics Simulation",category:"Physics",description:"Rigid body and soft body physics"},{id:"fluid_simulation",name:"Fluid Simulation",category:"Physics",description:"Liquid and gas simulations"},{id:"cloth_simulation",name:"Cloth Simulation",category:"Physics",description:"Fabric and cloth dynamics"},{id:"particle_systems",name:"Particle Systems",category:"Physics",description:"Particle effects and simulations"},{id:"smoke_simulation",name:"Smoke Simulation",category:"Physics",description:"Smoke and fire effects"},{id:"custom_panels",name:"Custom Panels",category:"UI",description:"Create custom UI panels"},{id:"addon_management",name:"Addon Management",category:"UI",description:"Manage and organize addons"},{id:"keyboard_shortcuts",name:"Keyboard Shortcuts",category:"UI",description:"Custom keyboard shortcuts"},{id:"workspace_customization",name:"Workspace Customization",category:"UI",description:"Custom workspace layouts"},{id:"python_scripting",name:"Python Scripting",category:"Scripting",description:"Automate tasks with Python"},{id:"batch_processing",name:"Batch Processing",category:"Scripting",description:"Process multiple files"},{id:"addon_development",name:"Addon Development",category:"Scripting",description:"Create custom addons"},{id:"geometry_nodes",name:"Geometry Nodes",category:"Advanced",description:"Node-based geometry editing"},{id:"shader_editor",name:"Shader Editor",category:"Advanced",description:"Advanced shader creation"},{id:"animation_nodes",name:"Animation Nodes",category:"Advanced",description:"Node-based animation"},{id:"grease_pencil",name:"Grease Pencil",category:"Advanced",description:"2D animation and drawing"},{id:"vr_support",name:"VR Support",category:"Advanced",description:"Virtual reality workflows"}];function Qz(){const e=_a(),[t,n]=b.useState([]),[r,s]=b.useState([]),[i,a]=b.useState(!1),[l,c]=b.useState([]),[u,d]=b.useState(null),[h,f]=b.useState(!1);I.useEffect(()=>{m()},[]);const m=async()=>{const p=await q.auth.me(),x=await q.entities.Idea.filter({created_by:p.email});c(x)},v=p=>{n(x=>x.includes(p)?x.filter(S=>S!==p):[...x,p])},w=async()=>{if(t.length===0){D.error("Please select at least one functionality");return}a(!0);try{const S=`Based on these Blender functionalities:
${dv.filter(N=>t.includes(N.id)).map(N=>`${N.name} (${N.category}): ${N.description}`).join(`
`)}

Generate 10 creative and practical Blender addon ideas that combine or enhance these functionalities.`;let j=await w4(S);Array.isArray(j)||(j=[j]);const T=j.map((N,k)=>({name:N.name||N.title||`Addon Idea ${k+1}`,description:N.description||"",prompt:N.prompt||N.description||N.title||"",id:`idea_${Date.now()}_${k}`}));s(T),setTimeout(async()=>{try{const N=await q.auth.me();if(N)for(const k of T)try{await q.entities.Idea.create({name:k.name,description:k.description,prompt:k.prompt,created_by:N.email,is_shared:!1,is_template:!0})}catch(E){console.log("Template already exists or error saving:",E)}}catch(N){console.error("Error auto-saving templates:",N)}},2e3),D.success(`Generated ${T.length} addon ideas! They've been saved as templates.`)}catch(p){console.error("Error generating ideas:",p),D.error("Failed to generate ideas. Please try again.")}finally{a(!1)}},_=async(p,x=!1)=>{try{const S=await q.auth.me();await q.entities.Idea.create({name:p.name,description:p.description,prompt:p.prompt||p.description,created_by:S.email,is_shared:x}),D.success("Idea saved!"),m(),d(null),f(!1)}catch{D.error("Failed to save idea")}},g=async p=>{try{const x=`Create a complete, production-ready Blender addon: ${p.name||p.title}

Description: ${p.description}

Requirements:
- Fully functional Blender addon implementing this idea
- User-friendly UI panel in the 3D Viewport
- Operators that perform the main functionality
- Proper error handling and user feedback
- Easy to use with clear button labels
- Follows Blender Python API best practices
- Complete and ready to install in Blender`;e(`/create?prompt=${encodeURIComponent(x)}&ideaId=${p.id||""}`)}catch{e(`/create?prompt=${encodeURIComponent(p.prompt||p.description||p.name)}`)}},y=dv.reduce((p,x)=>(p[x.category]||(p[x.category]=[]),p[x.category].push(x),p),{});return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-6",children:[o.jsx(ol,{className:"w-4 h-4"}),"AI-Powered Idea Generator"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Blenderstorm"}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-2xl mx-auto",children:"Select Blender functionalities you're interested in, and AI will generate creative addon ideas for you!"})]}),t.length>0&&o.jsx("div",{className:"mb-6 text-center",children:o.jsxs(ze,{className:"bg-orange-500 text-white text-lg px-4 py-2",children:[t.length," functionality",t.length!==1?"ies":""," selected"]})}),o.jsx("div",{className:"space-y-8 mb-8",children:Object.entries(y).map(([p,x])=>o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:p}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map(S=>{const j=t.includes(S.id);return o.jsx(ne,{onClick:()=>v(S.id),className:`cursor-pointer transition-all duration-200 ${j?"bg-orange-500/20 border-orange-500 border-2":"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50"}`,children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-white",children:S.name}),j&&o.jsx(ao,{className:"w-5 h-5 text-orange-500 flex-shrink-0"})]}),o.jsx("p",{className:"text-sm text-zinc-400",children:S.description})]})},S.id)})})]},p))}),o.jsx("div",{className:"text-center mb-8",children:o.jsx(V,{onClick:w,disabled:i||t.length===0,size:"lg",className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-6 text-lg",children:i?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-5 h-5 mr-2 animate-spin"}),"Generating Ideas..."]}):o.jsxs(o.Fragment,{children:[o.jsx(es,{className:"w-5 h-5 mr-2"}),"Blenderstorm Ideas"]})})}),o.jsx(hl,{children:r.length>0&&o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6 mb-8",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Generated Ideas (",r.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map((p,x)=>o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 transition-all",children:o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsx("h3",{className:"text-xl font-bold text-white",children:p.name||`Idea ${x+1}`})}),o.jsx("p",{className:"text-zinc-300 mb-4",children:p.description||"No description available"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(wp,{open:u===x,onOpenChange:S=>{S||(d(null),f(!1))},children:[o.jsx(xp,{asChild:!0,children:o.jsxs(V,{onClick:()=>d(x),variant:"outline",size:"sm",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx($o,{className:"w-4 h-4 mr-1"}),"Save Idea"]})}),o.jsxs(Iu,{className:"bg-zinc-900 border-zinc-800",children:[o.jsx(zu,{children:o.jsx(Mu,{className:"text-white",children:"Save Idea"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-zinc-300",children:p.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ks,{checked:h,onCheckedChange:f}),o.jsx(me,{className:"text-zinc-300",children:"Share on my profile"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(V,{onClick:()=>_(p,h),className:"bg-orange-500 hover:bg-orange-600",children:"Save"}),o.jsx(V,{variant:"outline",onClick:()=>{d(null),f(!1)},children:"Cancel"})]})]})]})]}),o.jsxs(V,{onClick:()=>g(p),size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(es,{className:"w-4 h-4 mr-1"}),"Create Addon"]})]})]})},x))})]})}),l.length>0&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Saved Ideas (",l.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.map(p=>o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 transition-all",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:p.name}),o.jsxs(ze,{variant:"outline",className:"border-zinc-700",children:[o.jsx($o,{className:"w-3 h-3 mr-1"}),"Saved"]})]}),o.jsx("p",{className:"text-zinc-300 mb-4",children:p.description}),o.jsxs(V,{onClick:()=>g(p),className:"bg-orange-500 hover:bg-orange-600 text-white w-full",children:[o.jsx(es,{className:"w-4 h-4 mr-2"}),"Create Addon"]})]})},p.id))})]})]})})}function Jz(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(null),[f,m]=b.useState(""),[v,w]=b.useState([]),_=ds(),{data:g}=Ae({queryKey:["user"],queryFn:()=>q.auth.me()}),{data:y=[]}=Ae({queryKey:["myAddons",g==null?void 0:g.email],queryFn:async()=>(await q.entities.Addon.list()).filter(Y=>Y.created_by===(g==null?void 0:g.email)),enabled:!!g}),p=new URLSearchParams(window.location.search),x=p.get("addonId"),S=p.get("code"),{data:j}=Ae({queryKey:["addon",x],queryFn:async()=>x?(await q.entities.Addon.filter({id:x}))[0]:null,enabled:!!x});b.useEffect(()=>{if(S&&!e)try{const A=decodeURIComponent(S);t(A),D.success("Code loaded from Create page")}catch(A){console.error("Error decoding code:",A),D.error("Failed to load code from URL")}else if(j&&!e)t(j.code||""),i(j.id),D.success("Addon code loaded");else if(x&&y.length>0){const A=y.find(Y=>Y.id===x);A&&!e&&(t(A.code||""),i(x),D.success("Addon code loaded"))}},[j,y,x,S]);const T=async A=>{let Y=y.find(O=>O.id===A);Y||(Y=(await q.entities.Addon.filter({id:A}))[0]),Y?(t(Y.code||""),i(A),h(null),m(""),w([]),D.success("Addon code loaded")):D.error("Addon not found")},N=()=>{if(!e.trim()){D.error("Please enter or load addon code first");return}const A=[];try{e.includes("bl_info")||A.push({type:"warning",message:"Missing bl_info dictionary - required for Blender addons",line:1}),e.includes("def register()")||A.push({type:"warning",message:"Missing register() function - required for Blender addons",line:1}),e.includes("def unregister()")||A.push({type:"warning",message:"Missing unregister() function - required for Blender addons",line:1}),e.includes("import bpy")||A.push({type:"info",message:"Consider importing bpy module for Blender API access",line:1}),e.split(`
`).forEach((O,R)=>{const U=(O.match(/\(/g)||[]).length,$=(O.match(/\)/g)||[]).length,P=(O.match(/\{/g)||[]).length,W=(O.match(/\}/g)||[]).length,Z=(O.match(/\[/g)||[]).length,B=(O.match(/\]/g)||[]).length;U!==$&&O.trim()&&!O.trim().startsWith("#")&&A.push({type:"error",message:`Possible unmatched parentheses on line ${R+1}`,line:R+1})}),w(A),A.length===0?D.success("No syntax errors found!"):D.warning(`Found ${A.length} potential issue(s)`)}catch{D.error("Error checking syntax")}},k=async()=>{if(!e.trim()){D.error("Please enter or load addon code first");return}l(!0),h(null);try{const A=await x4(e);h(A),D.success("Analysis complete!")}catch(A){console.error("Error analyzing code:",A),D.error("Failed to analyze code")}finally{l(!1)}},E=async()=>{if(!e.trim()){D.error("Please enter or load addon code first");return}u(!0),m("");try{const A=await b4({code:e,errorMessage:n,analysisResult:d});m(A),D.success("Code fixed! Review the changes below.")}catch(A){console.error("Error fixing code:",A),D.error("Failed to fix code")}finally{u(!1)}},z=()=>{f&&(t(f),m(""),h(null),w([]),D.success("Fixed code applied! You can now download or update your addon."))},L=()=>{if(!e.trim()){D.error("No code to download");return}let A="addon.py";const Y=e.match(/bl_info\s*=\s*\{[^}]*"name"\s*:\s*"([^"]+)"/);Y&&(A=`${Y[1].toLowerCase().replace(/\s+/g,"_")}.py`);const O=new Blob([e],{type:"text/x-python"}),R=URL.createObjectURL(O),U=document.createElement("a");U.href=R,U.download=A,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(R),D.success("Addon downloaded!")},J=()=>{if(!f){D.error("No fixed code to download");return}let A="addon_fixed.py";const Y=f.match(/bl_info\s*=\s*\{[^}]*"name"\s*:\s*"([^"]+)"/);Y&&(A=`${Y[1].toLowerCase().replace(/\s+/g,"_")}_fixed.py`);const O=new Blob([f],{type:"text/x-python"}),R=URL.createObjectURL(O),U=document.createElement("a");U.href=R,U.download=A,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(R),D.success("Fixed addon downloaded!")},F=A=>{var R;const Y=(R=A.target.files)==null?void 0:R[0];if(!Y)return;if(!Y.name.endsWith(".py")){D.error("Please upload a Python (.py) file");return}const O=new FileReader;O.onload=U=>{var P;const $=(P=U.target)==null?void 0:P.result;typeof $=="string"&&(t($),h(null),m(""),w([]),D.success(`Loaded ${Y.name}`))},O.onerror=()=>{D.error("Failed to read file")},O.readAsText(Y)},le=async()=>{if(!f||!s){D.error("Please fix code and select an addon first");return}try{if(!(await q.entities.Addon.filter({id:s}))[0]){D.error("Addon not found");return}const O=await q.entities.AddonVersion.filter({addon_id:s}),R=O.find($=>$.is_current);let U="1.0.1";if(R){const $=R.version_number.split("."),P=parseInt($[2]||0)+1;U=`${$[0]}.${$[1]}.${P}`}for(const $ of O)$.is_current&&await q.entities.AddonVersion.update($.id,{is_current:!1});await q.entities.AddonVersion.create({addon_id:s,version_number:U,code:f,changelog:"Fixed errors and issues with AI assistance",is_current:!0}),await q.entities.Addon.update(s,{code:f}),D.success(`Addon updated to version ${U}!`),t(f),m(""),_.invalidateQueries({queryKey:["myAddons"]}),_.invalidateQueries({queryKey:["addon",s]})}catch(A){console.error("Error updating addon:",A),D.error("Failed to update addon")}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-6",children:[o.jsx(qs,{className:"w-4 h-4"}),"Addon Debug & Testing"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Debug Your Addon"}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-2xl mx-auto",children:"Test your addon code, find errors, and let AI fix them automatically"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Addon Code"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"file",accept:".py",onChange:F,className:"hidden",id:"file-upload"}),o.jsxs(V,{onClick:()=>{var A;return(A=document.getElementById("file-upload"))==null?void 0:A.click()},variant:"outline",size:"sm",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(Bo,{className:"w-4 h-4 mr-2"}),"Upload .py File"]}),y.length>0&&o.jsxs(or,{value:s,onValueChange:T,children:[o.jsx(zn,{className:"w-48 bg-zinc-800 border-zinc-700 text-white",children:o.jsx(lr,{placeholder:"Load from My Addons"})}),o.jsx(Mn,{className:"bg-zinc-900 border-zinc-700",children:y.map(A=>o.jsx(et,{value:A.id,className:"text-white",children:A.title},A.id))})]})]})]}),o.jsx(In,{value:e,onChange:A=>t(A.target.value),placeholder:"Paste your Blender addon code here or load from My Addons...",className:"min-h-[400px] bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500 font-mono text-sm"}),e.trim()&&o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(V,{onClick:L,variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(is,{className:"w-4 h-4 mr-2"}),"Download Current Code"]})}),o.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[o.jsxs(V,{onClick:N,variant:"outline",className:"border-zinc-700 text-zinc-300",children:[o.jsx(ao,{className:"w-4 h-4 mr-2"}),"Check Syntax"]}),o.jsx(V,{onClick:k,disabled:a||!e.trim(),className:"bg-orange-500 hover:bg-orange-600 text-white",children:a?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(qs,{className:"w-4 h-4 mr-2"}),"AI Analyze"]})})]})]}),o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx(me,{className:"text-zinc-300 mb-2 block",children:"Error Message from Blender"}),o.jsx(In,{value:n,onChange:A=>r(A.target.value),placeholder:"Paste any error messages you got when testing the addon in Blender...",className:"min-h-[100px] bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Paste the error traceback or error message from Blender's console here"})]})]}),o.jsxs("div",{className:"space-y-6",children:[v.length>0&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(kd,{className:"w-5 h-5 text-yellow-500"}),"Syntax Check Results"]}),o.jsx("div",{className:"space-y-2",children:v.map((A,Y)=>o.jsx("div",{className:`p-3 rounded-lg ${A.type==="error"?"bg-red-500/10 border border-red-500/20":A.type==="warning"?"bg-yellow-500/10 border border-yellow-500/20":"bg-blue-500/10 border border-blue-500/20"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[A.type==="error"?o.jsx($y,{className:"w-4 h-4 text-red-400 mt-0.5"}):o.jsx(kd,{className:"w-4 h-4 text-yellow-400 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white",children:A.message}),A.line&&o.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Line ",A.line]})]})]})},Y))})]}),d&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(qs,{className:"w-5 h-5 text-orange-500"}),"AI Analysis Results"]}),d.summary&&o.jsx("p",{className:"text-zinc-300 mb-4",children:d.summary}),d.errors&&d.errors.length>0&&o.jsx("div",{className:"space-y-2 mb-4",children:d.errors.map((A,Y)=>o.jsx("div",{className:`p-3 rounded-lg ${A.type==="error"?"bg-red-500/10 border border-red-500/20":A.type==="warning"?"bg-yellow-500/10 border border-yellow-500/20":"bg-blue-500/10 border border-blue-500/20"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[A.type==="error"?o.jsx($y,{className:"w-4 h-4 text-red-400 mt-0.5"}):o.jsx(kd,{className:"w-4 h-4 text-yellow-400 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white",children:A.message}),A.line&&o.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Line ",A.line]}),A.suggestion&&o.jsxs("p",{className:"text-xs text-zinc-300 mt-1 italic",children:[" ",A.suggestion]})]})]})},Y))}),o.jsx(V,{onClick:E,disabled:c,className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:c?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Fixing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(es,{className:"w-4 h-4 mr-2"}),"Fix with AI"]})})]}),f&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(ao,{className:"w-5 h-5 text-green-500"}),"Fixed Code"]}),o.jsx(ze,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Ready"})]}),o.jsx(pp,{code:f,readOnly:!0}),o.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[o.jsxs(V,{onClick:z,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white min-w-[120px]",children:[o.jsx(ao,{className:"w-4 h-4 mr-2"}),"Apply Fix"]}),s&&o.jsxs(V,{onClick:le,variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-500/10 min-w-[140px]",children:[o.jsx(Db,{className:"w-4 h-4 mr-2"}),"Update Addon"]}),o.jsxs(V,{onClick:J,variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800 min-w-[140px]",children:[o.jsx(is,{className:"w-4 h-4 mr-2"}),"Download Fixed"]})]})]}),o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"How to Use"}),o.jsxs("ol",{className:"space-y-2 text-sm text-zinc-400 list-decimal list-inside",children:[o.jsx("li",{children:"Upload a .py file, load from My Addons, or paste code manually"}),o.jsx("li",{children:'Click "Check Syntax" for basic validation'}),o.jsx("li",{children:'Click "AI Analyze" for comprehensive error detection'}),o.jsx("li",{children:"If you got errors in Blender, paste them in the error box"}),o.jsx("li",{children:'Click "Fix with AI" to automatically fix all issues'}),o.jsx("li",{children:"Review the fixed code and apply it or download it"})]})]})]})]})]})})}function Xz(){const[e,t]=b.useState("all"),[n,r]=b.useState("7d"),{data:s}=Ae({queryKey:["user"],queryFn:()=>q.auth.me()}),{data:i=[]}=Ae({queryKey:["myAddons",s==null?void 0:s.email],queryFn:async()=>(await q.entities.Addon.list()).filter(u=>u.created_by===(s==null?void 0:s.email)),enabled:!!s}),{data:a=[]}=Ae({queryKey:["allAddons"],queryFn:()=>q.entities.Addon.filter({is_published:!0})}),l=I.useMemo(()=>{const c=e==="all"?i:i.filter(S=>S.id===e),u=c.reduce((S,j)=>S+(j.downloads||0),0),d=c.reduce((S,j)=>S+(j.forks_count||0),0),h=c.filter(S=>S.is_published).length,f=c.length,m=n==="7d"?7:n==="30d"?30:90,v=uv(new Date,m*2),w=uv(new Date,m),_=c.filter(S=>new Date(S.created_date)>=w).reduce((S,j)=>S+(j.downloads||0),0),g=c.filter(S=>{const j=new Date(S.created_date);return j>=v&&j<w}).reduce((S,j)=>S+(j.downloads||0),0),y=g>0?(_-g)/g*100:_>0?100:0,p=[...c].sort((S,j)=>(j.downloads||0)-(S.downloads||0)).slice(0,5),x=c.reduce((S,j)=>{const T=j.category||"other";return S[T]=(S[T]||0)+(j.downloads||0),S},{});return{totalDownloads:u,totalForks:d,publishedCount:h,totalAddons:f,downloadGrowth:y,topAddons:p,categoryBreakdown:x}},[i,e,n]);return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsx(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-zinc-400",children:"Track your addon performance and insights"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(or,{value:n,onValueChange:r,children:[o.jsx(zn,{className:"w-32 bg-zinc-900 border-zinc-700 text-white",children:o.jsx(lr,{})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"7d",className:"text-white",children:"Last 7 days"}),o.jsx(et,{value:"30d",className:"text-white",children:"Last 30 days"}),o.jsx(et,{value:"90d",className:"text-white",children:"Last 90 days"})]})]}),i.length>0&&o.jsxs(or,{value:e,onValueChange:t,children:[o.jsx(zn,{className:"w-48 bg-zinc-900 border-zinc-700 text-white",children:o.jsx(lr,{})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"all",className:"text-white",children:"All Addons"}),i.map(c=>o.jsx(et,{value:c.id,className:"text-white",children:c.title},c.id))]})]})]})]})}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsxs(jr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(kr,{className:"text-sm font-medium text-zinc-400",children:"Total Downloads"}),o.jsx(is,{className:"w-4 h-4 text-orange-500"})]}),o.jsxs(qn,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalDownloads}),o.jsxs("div",{className:`flex items-center gap-1 text-xs mt-1 ${l.downloadGrowth>=0?"text-green-400":"text-red-400"}`,children:[l.downloadGrowth>=0?o.jsx(UT,{className:"w-3 h-3"}):o.jsx(DT,{className:"w-3 h-3"}),o.jsxs("span",{children:[Math.abs(l.downloadGrowth).toFixed(1),"% from previous period"]})]})]})]})}),o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsxs(jr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(kr,{className:"text-sm font-medium text-zinc-400",children:"Total Forks"}),o.jsx(Bm,{className:"w-4 h-4 text-orange-500"})]}),o.jsxs(qn,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalForks}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Community remixes"})]})]})}),o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsxs(jr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(kr,{className:"text-sm font-medium text-zinc-400",children:"Published Addons"}),o.jsx(Xr,{className:"w-4 h-4 text-orange-500"})]}),o.jsxs(qn,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:l.publishedCount}),o.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["of ",l.totalAddons," total"]})]})]})}),o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsxs(jr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(kr,{className:"text-sm font-medium text-zinc-400",children:"Market Share"}),o.jsx(Dy,{className:"w-4 h-4 text-orange-500"})]}),o.jsxs(qn,{children:[o.jsxs("div",{className:"text-2xl font-bold text-white",children:[a.length>0?(l.publishedCount/a.length*100).toFixed(1):0,"%"]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"of all published addons"})]})]})})]}),l.topAddons.length>0&&o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsx(jr,{children:o.jsxs(kr,{className:"text-white flex items-center gap-2",children:[o.jsx(oP,{className:"w-5 h-5 text-orange-500"}),"Top Performing Addons"]})}),o.jsx(qn,{children:o.jsx("div",{className:"space-y-4",children:l.topAddons.map((c,u)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-950 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/10 flex items-center justify-center text-orange-400 font-bold",children:u+1}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium",children:c.title}),o.jsx("p",{className:"text-xs text-zinc-400",children:c.category||"Uncategorized"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-semibold",children:c.downloads||0}),o.jsx("div",{className:"text-xs text-zinc-400",children:"downloads"})]})]},c.id))})})]})}),Object.keys(l.categoryBreakdown).length>0&&o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsx(jr,{children:o.jsxs(kr,{className:"text-white flex items-center gap-2",children:[o.jsx(Dy,{className:"w-5 h-5 text-orange-500"}),"Downloads by Category"]})}),o.jsx(qn,{children:o.jsx("div",{className:"space-y-3",children:Object.entries(l.categoryBreakdown).sort((c,u)=>u[1]-c[1]).map(([c,u])=>{const d=Math.max(...Object.values(l.categoryBreakdown)),h=u/d*100;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm text-zinc-300 capitalize",children:c.replace("_"," ")}),o.jsx("span",{className:"text-sm font-semibold text-white",children:u})]}),o.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]},c)})})})]})}),i.length===0&&o.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[o.jsx(Xr,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No addons yet"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Create your first addon to see analytics"})]})]})}):o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Please log in"}),o.jsx("p",{className:"text-zinc-400",children:"You need to be logged in to view analytics"})]})})}const _p=b.forwardRef(({className:e,variant:t="default",...n},r)=>{const s={default:"bg-zinc-900 border-zinc-800 text-zinc-200",destructive:"bg-red-950/50 border-red-800 text-red-300"};return o.jsx("div",{ref:r,role:"alert",className:ye("relative w-full rounded-lg border p-4",s[t]||s.default,e),...n})});_p.displayName="Alert";const Zz=b.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:ye("mb-1 font-medium leading-none tracking-tight",e),...t}));Zz.displayName="AlertTitle";const Sp=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("text-sm",e),...t}));Sp.displayName="AlertDescription";function eM(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(!1),{signIn:c}=Lm(),u=_a(),d=async h=>{h.preventDefault(),i(""),l(!0);try{await c(e,n),u("/")}catch(f){i(f.message||"Failed to sign in. Please check your credentials.")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 px-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-8 shadow-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),o.jsx("p",{className:"text-zinc-400",children:"Sign in to your account to continue"})]}),s&&o.jsx(_p,{className:"mb-6 bg-red-950/50 border-red-800",children:o.jsx(Sp,{className:"text-red-300",children:s})}),o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"email",className:"text-zinc-300",children:"Email"}),o.jsx(xe,{id:"email",type:"email",value:e,onChange:h=>t(h.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"you@example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"password",className:"text-zinc-300",children:"Password"}),o.jsx(xe,{id:"password",type:"password",value:n,onChange:h=>r(h.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:""})]}),o.jsx(V,{type:"submit",disabled:a,className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:a?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ib,{className:"w-4 h-4 mr-2"}),"Sign In"]})})]}),o.jsxs("div",{className:"mt-6 text-center text-sm text-zinc-400",children:["Don't have an account?"," ",o.jsx(Be,{to:"/signup",className:"text-orange-500 hover:text-orange-400 font-medium",children:"Sign up"})]})]})})})}function tM(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(""),[d,h]=b.useState(""),[f,m]=b.useState(!1),[v,w]=b.useState(!1),{signUp:_}=Lm(),g=_a(),y=async p=>{if(p.preventDefault(),h(""),m(!1),n!==s){h("Passwords do not match");return}if(n.length<6){h("Password must be at least 6 characters");return}w(!0);try{await _(e,n,a,c),m(!0),setTimeout(()=>{g("/")},2e3)}catch(x){h(x.message||"Failed to create account. Please try again.")}finally{w(!1)}};return f?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 px-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-8 shadow-2xl text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ib,{className:"w-8 h-8 text-green-500"})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Check your email!"}),o.jsx("p",{className:"text-zinc-400 mb-4",children:"We've sent you a confirmation link. Click it to verify your account."}),o.jsx("p",{className:"text-sm text-zinc-500",children:"Redirecting to home page..."})]})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 px-4 py-12",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-8 shadow-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),o.jsx("p",{className:"text-zinc-400",children:"Sign up to start creating Blender addons"})]}),d&&o.jsx(_p,{className:"mb-6 bg-red-950/50 border-red-800",children:o.jsx(Sp,{className:"text-red-300",children:d})}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"fullName",className:"text-zinc-300",children:"Full Name"}),o.jsx(xe,{id:"fullName",type:"text",value:a,onChange:p=>l(p.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"John Doe"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"username",className:"text-zinc-300",children:"Username"}),o.jsx(xe,{id:"username",type:"text",value:c,onChange:p=>u(p.target.value.replace(/\s/g,"").toLowerCase()),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"johndoe",pattern:"[a-z0-9_]+",title:"Username can only contain lowercase letters, numbers, and underscores"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"email",className:"text-zinc-300",children:"Email"}),o.jsx(xe,{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"you@example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"password",className:"text-zinc-300",children:"Password"}),o.jsx(xe,{id:"password",type:"password",value:n,onChange:p=>r(p.target.value),required:!0,minLength:6,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:""}),o.jsx("p",{className:"text-xs text-zinc-500",children:"Must be at least 6 characters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"confirmPassword",className:"text-zinc-300",children:"Confirm Password"}),o.jsx(xe,{id:"confirmPassword",type:"password",value:s,onChange:p=>i(p.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:""})]}),o.jsx(V,{type:"submit",disabled:v,className:"w-full bg-orange-500 hover:bg-orange-600 text-white mt-6",children:v?o.jsxs(o.Fragment,{children:[o.jsx(Te,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Create Account"]})})]}),o.jsxs("div",{className:"mt-6 text-center text-sm text-zinc-400",children:["Already have an account?"," ",o.jsx(Be,{to:"/login",className:"text-orange-500 hover:text-orange-400 font-medium",children:"Sign in"})]})]})})})}function nM(){const e=il(),t=e.pathname.split("/").pop()||"Home";return e.pathname==="/login"||e.pathname==="/signup"?o.jsxs(Gg,{children:[o.jsx(ft,{path:"/login",element:o.jsx(eM,{})}),o.jsx(ft,{path:"/signup",element:o.jsx(tM,{})})]}):o.jsx(fP,{currentPageName:t,children:o.jsxs(Gg,{children:[o.jsx(ft,{path:"/",element:o.jsx(G0,{})}),o.jsx(ft,{path:"/home",element:o.jsx(G0,{})}),o.jsx(ft,{path:"/create",element:o.jsx(j4,{})}),o.jsx(ft,{path:"/explore",element:o.jsx(E4,{})}),o.jsx(ft,{path:"/myaddons",element:o.jsx(Lz,{})}),o.jsx(ft,{path:"/addondetail",element:o.jsx(Wz,{})}),o.jsx(ft,{path:"/profile",element:o.jsx(Kz,{})}),o.jsx(ft,{path:"/userprofile",element:o.jsx(Hz,{})}),o.jsx(ft,{path:"/settings",element:o.jsx(Gz,{})}),o.jsx(ft,{path:"/usernotregistered",element:o.jsx(Yz,{})}),o.jsx(ft,{path:"/blenderstorm",element:o.jsx(Qz,{})}),o.jsx(ft,{path:"/debug",element:o.jsx(Jz,{})}),o.jsx(ft,{path:"/analytics",element:o.jsx(Xz,{})})]})})}const rM=new OC({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});Bd.createRoot(document.getElementById("root")).render(o.jsx(I.StrictMode,{children:o.jsx(IC,{client:rM,children:o.jsx(oC,{children:o.jsxs(Z2,{children:[o.jsx(nM,{}),o.jsx(vN,{position:"top-right",richColors:!0})]})})})}));
