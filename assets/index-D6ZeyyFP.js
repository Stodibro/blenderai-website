var zp=e=>{throw TypeError(e)};var Vu=(e,t,n)=>t.has(e)||zp("Cannot "+n);var C=(e,t,n)=>(Vu(e,t,"read from private field"),n?n.call(e):t.get(e)),X=(e,t,n)=>t.has(e)?zp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),K=(e,t,n,r)=>(Vu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ue=(e,t,n)=>(Vu(e,t,"access private method"),n);var bl=(e,t,n,r)=>({set _(s){K(e,t,s,n)},get _(){return C(e,t,r)}});function D_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Cv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nv={exports:{}},nu={},Ev={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),L_=Symbol.for("react.portal"),U_=Symbol.for("react.fragment"),F_=Symbol.for("react.strict_mode"),$_=Symbol.for("react.profiler"),B_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),q_=Symbol.for("react.forward_ref"),W_=Symbol.for("react.suspense"),K_=Symbol.for("react.memo"),H_=Symbol.for("react.lazy"),Mp=Symbol.iterator;function G_(e){return e===null||typeof e!="object"?null:(e=Mp&&e[Mp]||e["@@iterator"],typeof e=="function"?e:null)}var Pv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tv=Object.assign,Av={};function ba(e,t,n){this.props=e,this.context=t,this.refs=Av,this.updater=n||Pv}ba.prototype.isReactComponent={};ba.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ba.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rv(){}Rv.prototype=ba.prototype;function If(e,t,n){this.props=e,this.context=t,this.refs=Av,this.updater=n||Pv}var zf=If.prototype=new Rv;zf.constructor=If;Tv(zf,ba.prototype);zf.isPureReactComponent=!0;var Dp=Array.isArray,Ov=Object.prototype.hasOwnProperty,Mf={current:null},Iv={key:!0,ref:!0,__self:!0,__source:!0};function zv(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Ov.call(t,r)&&!Iv.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:nl,type:e,key:i,ref:a,props:s,_owner:Mf.current}}function Y_(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Df(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function Q_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Lp=/\/+/g;function qu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Q_(""+e.key):t.toString(36)}function Ql(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case nl:case L_:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+qu(a,0):r,Dp(s)?(n="",e!=null&&(n=e.replace(Lp,"$&/")+"/"),Ql(s,t,n,"",function(u){return u})):s!=null&&(Df(s)&&(s=Y_(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Lp,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Dp(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+qu(i,l);a+=Ql(i,t,n,c,s)}else if(c=G_(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+qu(i,l++),a+=Ql(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function _l(e,t,n){if(e==null)return e;var r=[],s=0;return Ql(e,r,"","",function(i){return t.call(n,i,s++)}),r}function J_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jt={current:null},Jl={transition:null},X_={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Jl,ReactCurrentOwner:Mf};function Mv(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:_l,forEach:function(e,t,n){_l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!Df(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=ba;de.Fragment=U_;de.Profiler=$_;de.PureComponent=If;de.StrictMode=F_;de.Suspense=W_;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X_;de.act=Mv;de.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tv({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Mf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ov.call(t,c)&&!Iv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:nl,type:e.type,key:s,ref:i,props:r,_owner:a}};de.createContext=function(e){return e={$$typeof:V_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:B_,_context:e},e.Consumer=e};de.createElement=zv;de.createFactory=function(e){var t=zv.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:q_,render:e}};de.isValidElement=Df;de.lazy=function(e){return{$$typeof:H_,_payload:{_status:-1,_result:e},_init:J_}};de.memo=function(e,t){return{$$typeof:K_,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Jl.transition;Jl.transition={};try{e()}finally{Jl.transition=t}};de.unstable_act=Mv;de.useCallback=function(e,t){return jt.current.useCallback(e,t)};de.useContext=function(e){return jt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return jt.current.useDeferredValue(e)};de.useEffect=function(e,t){return jt.current.useEffect(e,t)};de.useId=function(){return jt.current.useId()};de.useImperativeHandle=function(e,t,n){return jt.current.useImperativeHandle(e,t,n)};de.useInsertionEffect=function(e,t){return jt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return jt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return jt.current.useMemo(e,t)};de.useReducer=function(e,t,n){return jt.current.useReducer(e,t,n)};de.useRef=function(e){return jt.current.useRef(e)};de.useState=function(e){return jt.current.useState(e)};de.useSyncExternalStore=function(e,t,n){return jt.current.useSyncExternalStore(e,t,n)};de.useTransition=function(){return jt.current.useTransition()};de.version="18.3.1";Ev.exports=de;var b=Ev.exports;const I=Cv(b),Z_=D_({__proto__:null,default:I},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS=b,tS=Symbol.for("react.element"),nS=Symbol.for("react.fragment"),rS=Object.prototype.hasOwnProperty,sS=eS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iS={key:!0,ref:!0,__self:!0,__source:!0};function Dv(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)rS.call(t,r)&&!iS.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:tS,type:e,key:i,ref:a,props:s,_owner:sS.current}}nu.Fragment=nS;nu.jsx=Dv;nu.jsxs=Dv;Nv.exports=nu;var o=Nv.exports,qd={},Lv={exports:{}},Wt={},Uv={exports:{}},Fv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,R){var U=O.length;O.push(R);e:for(;0<U;){var $=U-1>>>1,T=O[$];if(0<s(T,R))O[$]=R,O[U]=T,U=$;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var R=O[0],U=O.pop();if(U!==R){O[0]=U;e:for(var $=0,T=O.length,W=T>>>1;$<W;){var Z=2*($+1)-1,V=O[Z],ie=Z+1,se=O[ie];if(0>s(V,U))ie<T&&0>s(se,V)?(O[$]=se,O[ie]=U,$=ie):(O[$]=V,O[Z]=U,$=Z);else if(ie<T&&0>s(se,U))O[$]=se,O[ie]=U,$=ie;else break e}}return R}function s(O,R){var U=O.sortIndex-R.sortIndex;return U!==0?U:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=O)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function x(O){if(w=!1,p(O),!v)if(n(c)!==null)v=!0,A(S);else{var R=n(u);R!==null&&Y(x,R.startTime-O)}}function S(O,R){v=!1,w&&(w=!1,g(N),N=-1),f=!0;var U=m;try{for(p(R),h=n(c);h!==null&&(!(h.expirationTime>R)||O&&!z());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var T=$(h.expirationTime<=R);R=e.unstable_now(),typeof T=="function"?h.callback=T:h===n(c)&&r(c),p(R)}else r(c);h=n(c)}if(h!==null)var W=!0;else{var Z=n(u);Z!==null&&Y(x,Z.startTime-R),W=!1}return W}finally{h=null,m=U,f=!1}}var j=!1,P=null,N=-1,k=5,E=-1;function z(){return!(e.unstable_now()-E<k)}function L(){if(P!==null){var O=e.unstable_now();E=O;var R=!0;try{R=P(!0,O)}finally{R?J():(j=!1,P=null)}}else j=!1}var J;if(typeof y=="function")J=function(){y(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,le=F.port2;F.port1.onmessage=L,J=function(){le.postMessage(null)}}else J=function(){_(L,0)};function A(O){P=O,j||(j=!0,J())}function Y(O,R){N=_(function(){O(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,A(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var U=m;m=R;try{return O()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=m;m=O;try{return R()}finally{m=U}},e.unstable_scheduleCallback=function(O,R,U){var $=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,O){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=U+T,O={id:d++,callback:R,priorityLevel:O,startTime:U,expirationTime:T,sortIndex:-1},U>$?(O.sortIndex=U,t(u,O),n(c)===null&&O===n(u)&&(w?(g(N),N=-1):w=!0,Y(x,U-$))):(O.sortIndex=T,t(c,O),v||f||(v=!0,A(S))),O},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(O){var R=m;return function(){var U=m;m=R;try{return O.apply(this,arguments)}finally{m=U}}}})(Fv);Uv.exports=Fv;var aS=Uv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS=b,Vt=aS;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $v=new Set,yo={};function ai(e,t){da(e,t),da(e+"Capture",t)}function da(e,t){for(yo[e]=t,e=0;e<t.length;e++)$v.add(t[e])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wd=Object.prototype.hasOwnProperty,lS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Up={},Fp={};function cS(e){return Wd.call(Fp,e)?!0:Wd.call(Up,e)?!1:lS.test(e)?Fp[e]=!0:(Up[e]=!0,!1)}function uS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dS(e,t,n,r){if(t===null||typeof t>"u"||uS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lf=/[\-:]([a-z])/g;function Uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lf,Uf);ct[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lf,Uf);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lf,Uf);ct[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ff(e,t,n,r){var s=ct.hasOwnProperty(t)?ct[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dS(t,n,s,r)&&(n=null),r||s===null?cS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dr=oS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),$f=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),Bv=Symbol.for("react.provider"),Vv=Symbol.for("react.context"),Bf=Symbol.for("react.forward_ref"),Hd=Symbol.for("react.suspense"),Gd=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),qv=Symbol.for("react.offscreen"),$p=Symbol.iterator;function Ta(e){return e===null||typeof e!="object"?null:(e=$p&&e[$p]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Wu;function qa(e){if(Wu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wu=t&&t[1]||""}return`
`+Wu+e}var Ku=!1;function Hu(e,t){if(!e||Ku)return"";Ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ku=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qa(e):""}function hS(e){switch(e.tag){case 5:return qa(e.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 2:case 15:return e=Hu(e.type,!1),e;case 11:return e=Hu(e.type.render,!1),e;case 1:return e=Hu(e.type,!0),e;default:return""}}function Yd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case Ni:return"Portal";case Kd:return"Profiler";case $f:return"StrictMode";case Hd:return"Suspense";case Gd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vv:return(e.displayName||"Context")+".Consumer";case Bv:return(e._context.displayName||"Context")+".Provider";case Bf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vf:return t=e.displayName||null,t!==null?t:Yd(e.type)||"Memo";case Sr:t=e._payload,e=e._init;try{return Yd(e(t))}catch{}}return null}function fS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yd(t);case 8:return t===$f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ss(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mS(e){var t=Wv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){e._valueTracker||(e._valueTracker=mS(e))}function Kv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qd(e,t){var n=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Bp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ss(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hv(e,t){t=t.checked,t!=null&&Ff(e,"checked",t,!1)}function Jd(e,t){Hv(e,t);var n=ss(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xd(e,t.type,ss(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xd(e,t,n){(t!=="number"||hc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wa=Array.isArray;function Wi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ss(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(Wa(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ss(n)}}function Gv(e,t){var n=ss(t.value),r=ss(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kl,Qv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pS=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(e){pS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xa[t]=Xa[e]})});function Jv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xa.hasOwnProperty(e)&&Xa[e]?(""+t).trim():t+"px"}function Xv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var gS=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function th(e,t){if(t){if(gS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function nh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=null;function qf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sh=null,Ki=null,Hi=null;function Kp(e){if(e=il(e)){if(typeof sh!="function")throw Error(M(280));var t=e.stateNode;t&&(t=ou(t),sh(e.stateNode,e.type,t))}}function Zv(e){Ki?Hi?Hi.push(e):Hi=[e]:Ki=e}function ew(){if(Ki){var e=Ki,t=Hi;if(Hi=Ki=null,Kp(e),t)for(e=0;e<t.length;e++)Kp(t[e])}}function tw(e,t){return e(t)}function nw(){}var Gu=!1;function rw(e,t,n){if(Gu)return e(t,n);Gu=!0;try{return tw(e,t,n)}finally{Gu=!1,(Ki!==null||Hi!==null)&&(nw(),ew())}}function wo(e,t){var n=e.stateNode;if(n===null)return null;var r=ou(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var ih=!1;if(rr)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){ih=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{ih=!1}function yS(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Za=!1,fc=null,mc=!1,ah=null,vS={onError:function(e){Za=!0,fc=e}};function wS(e,t,n,r,s,i,a,l,c){Za=!1,fc=null,yS.apply(vS,arguments)}function xS(e,t,n,r,s,i,a,l,c){if(wS.apply(this,arguments),Za){if(Za){var u=fc;Za=!1,fc=null}else throw Error(M(198));mc||(mc=!0,ah=u)}}function oi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hp(e){if(oi(e)!==e)throw Error(M(188))}function bS(e){var t=e.alternate;if(!t){if(t=oi(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Hp(s),e;if(i===r)return Hp(s),t;i=i.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function iw(e){return e=bS(e),e!==null?aw(e):null}function aw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aw(e);if(t!==null)return t;e=e.sibling}return null}var ow=Vt.unstable_scheduleCallback,Gp=Vt.unstable_cancelCallback,_S=Vt.unstable_shouldYield,SS=Vt.unstable_requestPaint,qe=Vt.unstable_now,jS=Vt.unstable_getCurrentPriorityLevel,Wf=Vt.unstable_ImmediatePriority,lw=Vt.unstable_UserBlockingPriority,pc=Vt.unstable_NormalPriority,kS=Vt.unstable_LowPriority,cw=Vt.unstable_IdlePriority,ru=null,Tn=null;function CS(e){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(ru,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:PS,NS=Math.log,ES=Math.LN2;function PS(e){return e>>>=0,e===0?32:31-(NS(e)/ES|0)|0}var Cl=64,Nl=4194304;function Ka(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Ka(l):(i&=a,i!==0&&(r=Ka(i)))}else a=n&~s,a!==0?r=Ka(a):i!==0&&(r=Ka(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),s=1<<n,r|=e[n],t&=~s;return r}function TS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-wn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=TS(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function oh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uw(){var e=Cl;return Cl<<=1,!(Cl&4194240)&&(Cl=64),e}function Yu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function RS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Kf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var be=0;function dw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hw,Hf,fw,mw,pw,lh=!1,El=[],qr=null,Wr=null,Kr=null,xo=new Map,bo=new Map,Pr=[],OS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yp(e,t){switch(e){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(t.pointerId)}}function Ra(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=il(t),t!==null&&Hf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function IS(e,t,n,r,s){switch(t){case"focusin":return qr=Ra(qr,e,t,n,r,s),!0;case"dragenter":return Wr=Ra(Wr,e,t,n,r,s),!0;case"mouseover":return Kr=Ra(Kr,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return xo.set(i,Ra(xo.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,bo.set(i,Ra(bo.get(i)||null,e,t,n,r,s)),!0}return!1}function gw(e){var t=As(e.target);if(t!==null){var n=oi(t);if(n!==null){if(t=n.tag,t===13){if(t=sw(n),t!==null){e.blockedOn=t,pw(e.priority,function(){fw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ch(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rh=r,n.target.dispatchEvent(r),rh=null}else return t=il(n),t!==null&&Hf(t),e.blockedOn=n,!1;t.shift()}return!0}function Qp(e,t,n){Xl(e)&&n.delete(t)}function zS(){lh=!1,qr!==null&&Xl(qr)&&(qr=null),Wr!==null&&Xl(Wr)&&(Wr=null),Kr!==null&&Xl(Kr)&&(Kr=null),xo.forEach(Qp),bo.forEach(Qp)}function Oa(e,t){e.blockedOn===t&&(e.blockedOn=null,lh||(lh=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,zS)))}function _o(e){function t(s){return Oa(s,e)}if(0<El.length){Oa(El[0],e);for(var n=1;n<El.length;n++){var r=El[n];r.blockedOn===e&&(r.blockedOn=null)}}for(qr!==null&&Oa(qr,e),Wr!==null&&Oa(Wr,e),Kr!==null&&Oa(Kr,e),xo.forEach(t),bo.forEach(t),n=0;n<Pr.length;n++)r=Pr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pr.length&&(n=Pr[0],n.blockedOn===null);)gw(n),n.blockedOn===null&&Pr.shift()}var Gi=dr.ReactCurrentBatchConfig,yc=!0;function MS(e,t,n,r){var s=be,i=Gi.transition;Gi.transition=null;try{be=1,Gf(e,t,n,r)}finally{be=s,Gi.transition=i}}function DS(e,t,n,r){var s=be,i=Gi.transition;Gi.transition=null;try{be=4,Gf(e,t,n,r)}finally{be=s,Gi.transition=i}}function Gf(e,t,n,r){if(yc){var s=ch(e,t,n,r);if(s===null)id(e,t,r,vc,n),Yp(e,r);else if(IS(s,e,t,n,r))r.stopPropagation();else if(Yp(e,r),t&4&&-1<OS.indexOf(e)){for(;s!==null;){var i=il(s);if(i!==null&&hw(i),i=ch(e,t,n,r),i===null&&id(e,t,r,vc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else id(e,t,r,null,n)}}var vc=null;function ch(e,t,n,r){if(vc=null,e=qf(r),e=As(e),e!==null)if(t=oi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vc=e,null}function yw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jS()){case Wf:return 1;case lw:return 4;case pc:case kS:return 16;case cw:return 536870912;default:return 16}default:return 16}}var $r=null,Yf=null,Zl=null;function vw(){if(Zl)return Zl;var e,t=Yf,n=t.length,r,s="value"in $r?$r.value:$r.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Zl=s.slice(e,1<r?1-r:void 0)}function ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function Jp(){return!1}function Kt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pl:Jp,this.isPropagationStopped=Jp,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),t}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=Kt(_a),sl=Le({},_a,{view:0,detail:0}),LS=Kt(sl),Qu,Ju,Ia,su=Le({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ia&&(Ia&&e.type==="mousemove"?(Qu=e.screenX-Ia.screenX,Ju=e.screenY-Ia.screenY):Ju=Qu=0,Ia=e),Qu)},movementY:function(e){return"movementY"in e?e.movementY:Ju}}),Xp=Kt(su),US=Le({},su,{dataTransfer:0}),FS=Kt(US),$S=Le({},sl,{relatedTarget:0}),Xu=Kt($S),BS=Le({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=Kt(BS),qS=Le({},_a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),WS=Kt(qS),KS=Le({},_a,{data:0}),Zp=Kt(KS),HS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YS[e])?!!t[e]:!1}function Jf(){return QS}var JS=Le({},sl,{key:function(e){if(e.key){var t=HS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jf,charCode:function(e){return e.type==="keypress"?ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),XS=Kt(JS),ZS=Le({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=Kt(ZS),ej=Le({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jf}),tj=Kt(ej),nj=Le({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),rj=Kt(nj),sj=Le({},su,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ij=Kt(sj),aj=[9,13,27,32],Xf=rr&&"CompositionEvent"in window,eo=null;rr&&"documentMode"in document&&(eo=document.documentMode);var oj=rr&&"TextEvent"in window&&!eo,ww=rr&&(!Xf||eo&&8<eo&&11>=eo),tg=" ",ng=!1;function xw(e,t){switch(e){case"keyup":return aj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function lj(e,t){switch(e){case"compositionend":return bw(t);case"keypress":return t.which!==32?null:(ng=!0,tg);case"textInput":return e=t.data,e===tg&&ng?null:e;default:return null}}function cj(e,t){if(Pi)return e==="compositionend"||!Xf&&xw(e,t)?(e=vw(),Zl=Yf=$r=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ww&&t.locale!=="ko"?null:t.data;default:return null}}var uj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uj[e.type]:t==="textarea"}function _w(e,t,n,r){Zv(r),t=wc(t,"onChange"),0<t.length&&(n=new Qf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var to=null,So=null;function dj(e){Ow(e,0)}function iu(e){var t=Ri(e);if(Kv(t))return e}function hj(e,t){if(e==="change")return t}var Sw=!1;if(rr){var Zu;if(rr){var ed="oninput"in document;if(!ed){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),ed=typeof sg.oninput=="function"}Zu=ed}else Zu=!1;Sw=Zu&&(!document.documentMode||9<document.documentMode)}function ig(){to&&(to.detachEvent("onpropertychange",jw),So=to=null)}function jw(e){if(e.propertyName==="value"&&iu(So)){var t=[];_w(t,So,e,qf(e)),rw(dj,t)}}function fj(e,t,n){e==="focusin"?(ig(),to=t,So=n,to.attachEvent("onpropertychange",jw)):e==="focusout"&&ig()}function mj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return iu(So)}function pj(e,t){if(e==="click")return iu(t)}function gj(e,t){if(e==="input"||e==="change")return iu(t)}function yj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:yj;function jo(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wd.call(t,s)||!bn(e[s],t[s]))return!1}return!0}function ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function og(e,t){var n=ag(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ag(n)}}function kw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cw(){for(var e=window,t=hc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hc(e.document)}return t}function Zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vj(e){var t=Cw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kw(n.ownerDocument.documentElement,n)){if(r!==null&&Zf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=og(n,i);var a=og(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wj=rr&&"documentMode"in document&&11>=document.documentMode,Ti=null,uh=null,no=null,dh=!1;function lg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dh||Ti==null||Ti!==hc(r)||(r=Ti,"selectionStart"in r&&Zf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),no&&jo(no,r)||(no=r,r=wc(uh,"onSelect"),0<r.length&&(t=new Qf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ti)))}function Tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ai={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},td={},Nw={};rr&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function au(e){if(td[e])return td[e];if(!Ai[e])return e;var t=Ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nw)return td[e]=t[n];return e}var Ew=au("animationend"),Pw=au("animationiteration"),Tw=au("animationstart"),Aw=au("transitionend"),Rw=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(e,t){Rw.set(e,t),ai(t,[e])}for(var nd=0;nd<cg.length;nd++){var rd=cg[nd],xj=rd.toLowerCase(),bj=rd[0].toUpperCase()+rd.slice(1);cs(xj,"on"+bj)}cs(Ew,"onAnimationEnd");cs(Pw,"onAnimationIteration");cs(Tw,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(Aw,"onTransitionEnd");da("onMouseEnter",["mouseout","mouseover"]);da("onMouseLeave",["mouseout","mouseover"]);da("onPointerEnter",["pointerout","pointerover"]);da("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_j=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function ug(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xS(r,t,void 0,e),e.currentTarget=null}function Ow(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;ug(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;ug(s,l,u),i=c}}}if(mc)throw e=ah,mc=!1,ah=null,e}function Ee(e,t){var n=t[gh];n===void 0&&(n=t[gh]=new Set);var r=e+"__bubble";n.has(r)||(Iw(t,e,2,!1),n.add(r))}function sd(e,t,n){var r=0;t&&(r|=4),Iw(n,e,r,t)}var Al="_reactListening"+Math.random().toString(36).slice(2);function ko(e){if(!e[Al]){e[Al]=!0,$v.forEach(function(n){n!=="selectionchange"&&(_j.has(n)||sd(n,!1,e),sd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Al]||(t[Al]=!0,sd("selectionchange",!1,t))}}function Iw(e,t,n,r){switch(yw(t)){case 1:var s=MS;break;case 4:s=DS;break;default:s=Gf}n=s.bind(null,t,n,e),s=void 0,!ih||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function id(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=As(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}rw(function(){var u=i,d=qf(n),h=[];e:{var m=Rw.get(e);if(m!==void 0){var f=Qf,v=e;switch(e){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":f=XS;break;case"focusin":v="focus",f=Xu;break;case"focusout":v="blur",f=Xu;break;case"beforeblur":case"afterblur":f=Xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=FS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=tj;break;case Ew:case Pw:case Tw:f=VS;break;case Aw:f=rj;break;case"scroll":f=LS;break;case"wheel":f=ij;break;case"copy":case"cut":case"paste":f=WS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=eg}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var y=u,p;y!==null;){p=y;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,g!==null&&(x=wo(y,g),x!=null&&w.push(Co(y,x,p)))),_)break;y=y.return}0<w.length&&(m=new f(m,v,null,n,d),h.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&n!==rh&&(v=n.relatedTarget||n.fromElement)&&(As(v)||v[sr]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?As(v):null,v!==null&&(_=oi(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(w=Xp,x="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=eg,x="onPointerLeave",g="onPointerEnter",y="pointer"),_=f==null?m:Ri(f),p=v==null?m:Ri(v),m=new w(x,y+"leave",f,n,d),m.target=_,m.relatedTarget=p,x=null,As(d)===u&&(w=new w(g,y+"enter",v,n,d),w.target=p,w.relatedTarget=_,x=w),_=x,f&&v)t:{for(w=f,g=v,y=0,p=w;p;p=fi(p))y++;for(p=0,x=g;x;x=fi(x))p++;for(;0<y-p;)w=fi(w),y--;for(;0<p-y;)g=fi(g),p--;for(;y--;){if(w===g||g!==null&&w===g.alternate)break t;w=fi(w),g=fi(g)}w=null}else w=null;f!==null&&dg(h,m,f,w,!1),v!==null&&_!==null&&dg(h,_,v,w,!0)}}e:{if(m=u?Ri(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var S=hj;else if(rg(m))if(Sw)S=gj;else{S=mj;var j=fj}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=pj);if(S&&(S=S(e,u))){_w(h,S,n,d);break e}j&&j(e,m,u),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&Xd(m,"number",m.value)}switch(j=u?Ri(u):window,e){case"focusin":(rg(j)||j.contentEditable==="true")&&(Ti=j,uh=u,no=null);break;case"focusout":no=uh=Ti=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,lg(h,n,d);break;case"selectionchange":if(wj)break;case"keydown":case"keyup":lg(h,n,d)}var P;if(Xf)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Pi?xw(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ww&&n.locale!=="ko"&&(Pi||N!=="onCompositionStart"?N==="onCompositionEnd"&&Pi&&(P=vw()):($r=d,Yf="value"in $r?$r.value:$r.textContent,Pi=!0)),j=wc(u,N),0<j.length&&(N=new Zp(N,e,null,n,d),h.push({event:N,listeners:j}),P?N.data=P:(P=bw(n),P!==null&&(N.data=P)))),(P=oj?lj(e,n):cj(e,n))&&(u=wc(u,"onBeforeInput"),0<u.length&&(d=new Zp("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=P))}Ow(h,t)})}function Co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wo(e,n),i!=null&&r.unshift(Co(e,i,s)),i=wo(e,t),i!=null&&r.push(Co(e,i,s))),e=e.return}return r}function fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dg(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=wo(n,i),c!=null&&a.unshift(Co(n,c,l))):s||(c=wo(n,i),c!=null&&a.push(Co(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Sj=/\r\n?/g,jj=/\u0000|\uFFFD/g;function hg(e){return(typeof e=="string"?e:""+e).replace(Sj,`
`).replace(jj,"")}function Rl(e,t,n){if(t=hg(t),hg(e)!==t&&n)throw Error(M(425))}function xc(){}var hh=null,fh=null;function mh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,kj=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,Cj=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(e){return fg.resolve(null).then(e).catch(Nj)}:ph;function Nj(e){setTimeout(function(){throw e})}function ad(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),_o(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_o(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Sa,No="__reactProps$"+Sa,sr="__reactContainer$"+Sa,gh="__reactEvents$"+Sa,Ej="__reactListeners$"+Sa,Pj="__reactHandles$"+Sa;function As(e){var t=e[Pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sr]||n[Pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mg(e);e!==null;){if(n=e[Pn])return n;e=mg(e)}return t}e=n,n=e.parentNode}return null}function il(e){return e=e[Pn]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ri(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function ou(e){return e[No]||null}var yh=[],Oi=-1;function us(e){return{current:e}}function Pe(e){0>Oi||(e.current=yh[Oi],yh[Oi]=null,Oi--)}function je(e,t){Oi++,yh[Oi]=e.current,e.current=t}var is={},gt=us(is),Rt=us(!1),Js=is;function ha(e,t){var n=e.type.contextTypes;if(!n)return is;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(e){return e=e.childContextTypes,e!=null}function bc(){Pe(Rt),Pe(gt)}function pg(e,t,n){if(gt.current!==is)throw Error(M(168));je(gt,t),je(Rt,n)}function zw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,fS(e)||"Unknown",s));return Le({},n,r)}function _c(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||is,Js=gt.current,je(gt,e),je(Rt,Rt.current),!0}function gg(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=zw(e,t,Js),r.__reactInternalMemoizedMergedChildContext=e,Pe(Rt),Pe(gt),je(gt,e)):Pe(Rt),je(Rt,n)}var Vn=null,lu=!1,od=!1;function Mw(e){Vn===null?Vn=[e]:Vn.push(e)}function Tj(e){lu=!0,Mw(e)}function ds(){if(!od&&Vn!==null){od=!0;var e=0,t=be;try{var n=Vn;for(be=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vn=null,lu=!1}catch(s){throw Vn!==null&&(Vn=Vn.slice(e+1)),ow(Wf,ds),s}finally{be=t,od=!1}}return null}var Ii=[],zi=0,Sc=null,jc=0,Xt=[],Zt=0,Xs=null,Yn=1,Qn="";function _s(e,t){Ii[zi++]=jc,Ii[zi++]=Sc,Sc=e,jc=t}function Dw(e,t,n){Xt[Zt++]=Yn,Xt[Zt++]=Qn,Xt[Zt++]=Xs,Xs=e;var r=Yn;e=Qn;var s=32-wn(r)-1;r&=~(1<<s),n+=1;var i=32-wn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Yn=1<<32-wn(t)+s|n<<s|r,Qn=i+e}else Yn=1<<i|n<<s|r,Qn=e}function em(e){e.return!==null&&(_s(e,1),Dw(e,1,0))}function tm(e){for(;e===Sc;)Sc=Ii[--zi],Ii[zi]=null,jc=Ii[--zi],Ii[zi]=null;for(;e===Xs;)Xs=Xt[--Zt],Xt[Zt]=null,Qn=Xt[--Zt],Xt[Zt]=null,Yn=Xt[--Zt],Xt[Zt]=null}var Bt=null,$t=null,Re=!1,vn=null;function Lw(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,$t=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xs!==null?{id:Yn,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=en(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bt=e,$t=null,!0):!1;default:return!1}}function vh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wh(e){if(Re){var t=$t;if(t){var n=t;if(!yg(e,t)){if(vh(e))throw Error(M(418));t=Hr(n.nextSibling);var r=Bt;t&&yg(e,t)?Lw(r,n):(e.flags=e.flags&-4097|2,Re=!1,Bt=e)}}else{if(vh(e))throw Error(M(418));e.flags=e.flags&-4097|2,Re=!1,Bt=e}}}function vg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function Ol(e){if(e!==Bt)return!1;if(!Re)return vg(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mh(e.type,e.memoizedProps)),t&&(t=$t)){if(vh(e))throw Uw(),Error(M(418));for(;t;)Lw(e,t),t=Hr(t.nextSibling)}if(vg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=Hr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Bt?Hr(e.stateNode.nextSibling):null;return!0}function Uw(){for(var e=$t;e;)e=Hr(e.nextSibling)}function fa(){$t=Bt=null,Re=!1}function nm(e){vn===null?vn=[e]:vn.push(e)}var Aj=dr.ReactCurrentBatchConfig;function za(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Il(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wg(e){var t=e._init;return t(e._payload)}function Fw(e){function t(g,y){if(e){var p=g.deletions;p===null?(g.deletions=[y],g.flags|=16):p.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Jr(g,y),g.index=0,g.sibling=null,g}function i(g,y,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<y?(g.flags|=2,y):p):(g.flags|=2,y)):(g.flags|=1048576,y)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,p,x){return y===null||y.tag!==6?(y=md(p,g.mode,x),y.return=g,y):(y=s(y,p),y.return=g,y)}function c(g,y,p,x){var S=p.type;return S===Ei?d(g,y,p.props.children,x,p.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sr&&wg(S)===y.type)?(x=s(y,p.props),x.ref=za(g,y,p),x.return=g,x):(x=oc(p.type,p.key,p.props,null,g.mode,x),x.ref=za(g,y,p),x.return=g,x)}function u(g,y,p,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==p.containerInfo||y.stateNode.implementation!==p.implementation?(y=pd(p,g.mode,x),y.return=g,y):(y=s(y,p.children||[]),y.return=g,y)}function d(g,y,p,x,S){return y===null||y.tag!==7?(y=Hs(p,g.mode,x,S),y.return=g,y):(y=s(y,p),y.return=g,y)}function h(g,y,p){if(typeof y=="string"&&y!==""||typeof y=="number")return y=md(""+y,g.mode,p),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sl:return p=oc(y.type,y.key,y.props,null,g.mode,p),p.ref=za(g,null,y),p.return=g,p;case Ni:return y=pd(y,g.mode,p),y.return=g,y;case Sr:var x=y._init;return h(g,x(y._payload),p)}if(Wa(y)||Ta(y))return y=Hs(y,g.mode,p,null),y.return=g,y;Il(g,y)}return null}function m(g,y,p,x){var S=y!==null?y.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(g,y,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Sl:return p.key===S?c(g,y,p,x):null;case Ni:return p.key===S?u(g,y,p,x):null;case Sr:return S=p._init,m(g,y,S(p._payload),x)}if(Wa(p)||Ta(p))return S!==null?null:d(g,y,p,x,null);Il(g,p)}return null}function f(g,y,p,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(p)||null,l(y,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sl:return g=g.get(x.key===null?p:x.key)||null,c(y,g,x,S);case Ni:return g=g.get(x.key===null?p:x.key)||null,u(y,g,x,S);case Sr:var j=x._init;return f(g,y,p,j(x._payload),S)}if(Wa(x)||Ta(x))return g=g.get(p)||null,d(y,g,x,S,null);Il(y,x)}return null}function v(g,y,p,x){for(var S=null,j=null,P=y,N=y=0,k=null;P!==null&&N<p.length;N++){P.index>N?(k=P,P=null):k=P.sibling;var E=m(g,P,p[N],x);if(E===null){P===null&&(P=k);break}e&&P&&E.alternate===null&&t(g,P),y=i(E,y,N),j===null?S=E:j.sibling=E,j=E,P=k}if(N===p.length)return n(g,P),Re&&_s(g,N),S;if(P===null){for(;N<p.length;N++)P=h(g,p[N],x),P!==null&&(y=i(P,y,N),j===null?S=P:j.sibling=P,j=P);return Re&&_s(g,N),S}for(P=r(g,P);N<p.length;N++)k=f(P,g,N,p[N],x),k!==null&&(e&&k.alternate!==null&&P.delete(k.key===null?N:k.key),y=i(k,y,N),j===null?S=k:j.sibling=k,j=k);return e&&P.forEach(function(z){return t(g,z)}),Re&&_s(g,N),S}function w(g,y,p,x){var S=Ta(p);if(typeof S!="function")throw Error(M(150));if(p=S.call(p),p==null)throw Error(M(151));for(var j=S=null,P=y,N=y=0,k=null,E=p.next();P!==null&&!E.done;N++,E=p.next()){P.index>N?(k=P,P=null):k=P.sibling;var z=m(g,P,E.value,x);if(z===null){P===null&&(P=k);break}e&&P&&z.alternate===null&&t(g,P),y=i(z,y,N),j===null?S=z:j.sibling=z,j=z,P=k}if(E.done)return n(g,P),Re&&_s(g,N),S;if(P===null){for(;!E.done;N++,E=p.next())E=h(g,E.value,x),E!==null&&(y=i(E,y,N),j===null?S=E:j.sibling=E,j=E);return Re&&_s(g,N),S}for(P=r(g,P);!E.done;N++,E=p.next())E=f(P,g,N,E.value,x),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?N:E.key),y=i(E,y,N),j===null?S=E:j.sibling=E,j=E);return e&&P.forEach(function(L){return t(g,L)}),Re&&_s(g,N),S}function _(g,y,p,x){if(typeof p=="object"&&p!==null&&p.type===Ei&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Sl:e:{for(var S=p.key,j=y;j!==null;){if(j.key===S){if(S=p.type,S===Ei){if(j.tag===7){n(g,j.sibling),y=s(j,p.props.children),y.return=g,g=y;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sr&&wg(S)===j.type){n(g,j.sibling),y=s(j,p.props),y.ref=za(g,j,p),y.return=g,g=y;break e}n(g,j);break}else t(g,j);j=j.sibling}p.type===Ei?(y=Hs(p.props.children,g.mode,x,p.key),y.return=g,g=y):(x=oc(p.type,p.key,p.props,null,g.mode,x),x.ref=za(g,y,p),x.return=g,g=x)}return a(g);case Ni:e:{for(j=p.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===p.containerInfo&&y.stateNode.implementation===p.implementation){n(g,y.sibling),y=s(y,p.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=pd(p,g.mode,x),y.return=g,g=y}return a(g);case Sr:return j=p._init,_(g,y,j(p._payload),x)}if(Wa(p))return v(g,y,p,x);if(Ta(p))return w(g,y,p,x);Il(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,p),y.return=g,g=y):(n(g,y),y=md(p,g.mode,x),y.return=g,g=y),a(g)):n(g,y)}return _}var ma=Fw(!0),$w=Fw(!1),kc=us(null),Cc=null,Mi=null,rm=null;function sm(){rm=Mi=Cc=null}function im(e){var t=kc.current;Pe(kc),e._currentValue=t}function xh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yi(e,t){Cc=e,rm=Mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function nn(e){var t=e._currentValue;if(rm!==e)if(e={context:e,memoizedValue:t,next:null},Mi===null){if(Cc===null)throw Error(M(308));Mi=e,Cc.dependencies={lanes:0,firstContext:e}}else Mi=Mi.next=e;return t}var Rs=null;function am(e){Rs===null?Rs=[e]:Rs.push(e)}function Bw(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,am(t)):(n.next=s.next,s.next=n),t.interleaved=n,ir(e,r)}function ir(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jr=!1;function om(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ir(e,n)}return s=r.interleaved,s===null?(t.next=t,am(r)):(t.next=s.next,s.next=t),r.interleaved=t,ir(e,n)}function tc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kf(e,n)}}function xg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Nc(e,t,n,r){var s=e.updateQueue;jr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane,f=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(m=t,f=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(f,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,m=typeof v=="function"?v.call(f,h,m):v,m==null)break e;h=Le({},h,m);break e;case 2:jr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ei|=a,e.lanes=a,e.memoizedState=h}}function bg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var al={},An=us(al),Eo=us(al),Po=us(al);function Os(e){if(e===al)throw Error(M(174));return e}function lm(e,t){switch(je(Po,t),je(Eo,e),je(An,al),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eh(t,e)}Pe(An),je(An,t)}function pa(){Pe(An),Pe(Eo),Pe(Po)}function qw(e){Os(Po.current);var t=Os(An.current),n=eh(t,e.type);t!==n&&(je(Eo,e),je(An,n))}function cm(e){Eo.current===e&&(Pe(An),Pe(Eo))}var Ie=us(0);function Ec(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ld=[];function um(){for(var e=0;e<ld.length;e++)ld[e]._workInProgressVersionPrimary=null;ld.length=0}var nc=dr.ReactCurrentDispatcher,cd=dr.ReactCurrentBatchConfig,Zs=0,De=null,Xe=null,rt=null,Pc=!1,ro=!1,To=0,Rj=0;function dt(){throw Error(M(321))}function dm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function hm(e,t,n,r,s,i){if(Zs=i,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nc.current=e===null||e.memoizedState===null?Mj:Dj,e=n(r,s),ro){i=0;do{if(ro=!1,To=0,25<=i)throw Error(M(301));i+=1,rt=Xe=null,t.updateQueue=null,nc.current=Lj,e=n(r,s)}while(ro)}if(nc.current=Tc,t=Xe!==null&&Xe.next!==null,Zs=0,rt=Xe=De=null,Pc=!1,t)throw Error(M(300));return e}function fm(){var e=To!==0;return To=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?De.memoizedState=rt=e:rt=rt.next=e,rt}function rn(){if(Xe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=rt===null?De.memoizedState:rt.next;if(t!==null)rt=t,Xe=e;else{if(e===null)throw Error(M(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?De.memoizedState=rt=e:rt=rt.next=e}return rt}function Ao(e,t){return typeof t=="function"?t(e):t}function ud(e){var t=rn(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Xe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Zs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,De.lanes|=d,ei|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,bn(r,t.memoizedState)||(At=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,De.lanes|=i,ei|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dd(e){var t=rn(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);bn(i,t.memoizedState)||(At=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ww(){}function Kw(e,t){var n=De,r=rn(),s=t(),i=!bn(r.memoizedState,s);if(i&&(r.memoizedState=s,At=!0),r=r.queue,mm(Yw.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Ro(9,Gw.bind(null,n,r,s,t),void 0,null),st===null)throw Error(M(349));Zs&30||Hw(n,t,s)}return s}function Hw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gw(e,t,n,r){t.value=n,t.getSnapshot=r,Qw(t)&&Jw(e)}function Yw(e,t,n){return n(function(){Qw(t)&&Jw(e)})}function Qw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function Jw(e){var t=ir(e,1);t!==null&&xn(t,e,1,-1)}function _g(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=zj.bind(null,De,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xw(){return rn().memoizedState}function rc(e,t,n,r){var s=kn();De.flags|=e,s.memoizedState=Ro(1|t,n,void 0,r===void 0?null:r)}function cu(e,t,n,r){var s=rn();r=r===void 0?null:r;var i=void 0;if(Xe!==null){var a=Xe.memoizedState;if(i=a.destroy,r!==null&&dm(r,a.deps)){s.memoizedState=Ro(t,n,i,r);return}}De.flags|=e,s.memoizedState=Ro(1|t,n,i,r)}function Sg(e,t){return rc(8390656,8,e,t)}function mm(e,t){return cu(2048,8,e,t)}function Zw(e,t){return cu(4,2,e,t)}function ex(e,t){return cu(4,4,e,t)}function tx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nx(e,t,n){return n=n!=null?n.concat([e]):null,cu(4,4,tx.bind(null,t,e),n)}function pm(){}function rx(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sx(e,t){var n=rn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ix(e,t,n){return Zs&21?(bn(n,t)||(n=uw(),De.lanes|=n,ei|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=n)}function Oj(e,t){var n=be;be=n!==0&&4>n?n:4,e(!0);var r=cd.transition;cd.transition={};try{e(!1),t()}finally{be=n,cd.transition=r}}function ax(){return rn().memoizedState}function Ij(e,t,n){var r=Qr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ox(e))lx(t,n);else if(n=Bw(e,t,n,r),n!==null){var s=St();xn(n,e,r,s),cx(n,t,r)}}function zj(e,t,n){var r=Qr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ox(e))lx(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,bn(l,a)){var c=t.interleaved;c===null?(s.next=s,am(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Bw(e,t,s,r),n!==null&&(s=St(),xn(n,e,r,s),cx(n,t,r))}}function ox(e){var t=e.alternate;return e===De||t!==null&&t===De}function lx(e,t){ro=Pc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kf(e,n)}}var Tc={readContext:nn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Mj={readContext:nn,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:nn,useEffect:Sg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rc(4194308,4,tx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return rc(4,2,e,t)},useMemo:function(e,t){var n=kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ij.bind(null,De,e),[r.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:_g,useDebugValue:pm,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=_g(!1),t=e[0];return e=Oj.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=De,s=kn();if(Re){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),st===null)throw Error(M(349));Zs&30||Hw(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Sg(Yw.bind(null,r,i,e),[e]),r.flags|=2048,Ro(9,Gw.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=kn(),t=st.identifierPrefix;if(Re){var n=Qn,r=Yn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=To++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dj={readContext:nn,useCallback:rx,useContext:nn,useEffect:mm,useImperativeHandle:nx,useInsertionEffect:Zw,useLayoutEffect:ex,useMemo:sx,useReducer:ud,useRef:Xw,useState:function(){return ud(Ao)},useDebugValue:pm,useDeferredValue:function(e){var t=rn();return ix(t,Xe.memoizedState,e)},useTransition:function(){var e=ud(Ao)[0],t=rn().memoizedState;return[e,t]},useMutableSource:Ww,useSyncExternalStore:Kw,useId:ax,unstable_isNewReconciler:!1},Lj={readContext:nn,useCallback:rx,useContext:nn,useEffect:mm,useImperativeHandle:nx,useInsertionEffect:Zw,useLayoutEffect:ex,useMemo:sx,useReducer:dd,useRef:Xw,useState:function(){return dd(Ao)},useDebugValue:pm,useDeferredValue:function(e){var t=rn();return Xe===null?t.memoizedState=e:ix(t,Xe.memoizedState,e)},useTransition:function(){var e=dd(Ao)[0],t=rn().memoizedState;return[e,t]},useMutableSource:Ww,useSyncExternalStore:Kw,useId:ax,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uu={isMounted:function(e){return(e=e._reactInternals)?oi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),s=Qr(e),i=Xn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Gr(e,i,s),t!==null&&(xn(t,e,s,r),tc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),s=Qr(e),i=Xn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Gr(e,i,s),t!==null&&(xn(t,e,s,r),tc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=Qr(e),s=Xn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Gr(e,s,r),t!==null&&(xn(t,e,r,n),tc(t,e,r))}};function jg(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!jo(n,r)||!jo(s,i):!0}function ux(e,t,n){var r=!1,s=is,i=t.contextType;return typeof i=="object"&&i!==null?i=nn(i):(s=Ot(t)?Js:gt.current,r=t.contextTypes,i=(r=r!=null)?ha(e,s):is),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=uu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function kg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function _h(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},om(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nn(i):(i=Ot(t)?Js:gt.current,s.context=ha(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bh(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&uu.enqueueReplaceState(s,s.state,null),Nc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ga(e,t){try{var n="",r=t;do n+=hS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uj=typeof WeakMap=="function"?WeakMap:Map;function dx(e,t,n){n=Xn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rc||(Rc=!0,Oh=r),Sh(e,t)},n}function hx(e,t,n){n=Xn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Sh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sh(e,t),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Cg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Uj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Zj.bind(null,e,t,n),t.then(e,e))}function Ng(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xn(-1,1),t.tag=2,Gr(n,t,1))),n.lanes|=1),e)}var Fj=dr.ReactCurrentOwner,At=!1;function bt(e,t,n,r){t.child=e===null?$w(t,null,n,r):ma(t,e.child,n,r)}function Pg(e,t,n,r,s){n=n.render;var i=t.ref;return Yi(t,s),r=hm(e,t,n,r,i,s),n=fm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(Re&&n&&em(t),t.flags|=1,bt(e,t,r,s),t.child)}function Tg(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Sm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fx(e,t,i,r,s)):(e=oc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(a,r)&&e.ref===t.ref)return ar(e,t,s)}return t.flags|=1,e=Jr(i,r),e.ref=t.ref,e.return=t,t.child=e}function fx(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(jo(i,r)&&e.ref===t.ref)if(At=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,ar(e,t,s)}return jh(e,t,n,r,s)}function mx(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Li,Lt),Lt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Li,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(Li,Lt),Lt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,je(Li,Lt),Lt|=r;return bt(e,t,s,n),t.child}function px(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jh(e,t,n,r,s){var i=Ot(n)?Js:gt.current;return i=ha(t,i),Yi(t,s),n=hm(e,t,n,r,i,s),r=fm(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(Re&&r&&em(t),t.flags|=1,bt(e,t,n,s),t.child)}function Ag(e,t,n,r,s){if(Ot(n)){var i=!0;_c(t)}else i=!1;if(Yi(t,s),t.stateNode===null)sc(e,t),ux(t,n,r),_h(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=nn(u):(u=Ot(n)?Js:gt.current,u=ha(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&kg(t,a,r,u),jr=!1;var m=t.memoizedState;a.state=m,Nc(t,r,a,s),c=t.memoizedState,l!==r||m!==c||Rt.current||jr?(typeof d=="function"&&(bh(t,n,d,r),c=t.memoizedState),(l=jr||jg(t,n,l,r,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Vw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:hn(t.type,l),a.props=u,h=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=nn(c):(c=Ot(n)?Js:gt.current,c=ha(t,c));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&kg(t,a,r,c),jr=!1,m=t.memoizedState,a.state=m,Nc(t,r,a,s);var v=t.memoizedState;l!==h||m!==v||Rt.current||jr?(typeof f=="function"&&(bh(t,n,f,r),v=t.memoizedState),(u=jr||jg(t,n,u,r,m,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return kh(e,t,n,r,i,s)}function kh(e,t,n,r,s,i){px(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&gg(t,n,!1),ar(e,t,i);r=t.stateNode,Fj.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ma(t,e.child,null,i),t.child=ma(t,null,l,i)):bt(e,t,l,i),t.memoizedState=r.state,s&&gg(t,n,!0),t.child}function gx(e){var t=e.stateNode;t.pendingContext?pg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pg(e,t.context,!1),lm(e,t.containerInfo)}function Rg(e,t,n,r,s){return fa(),nm(s),t.flags|=256,bt(e,t,n,r),t.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function yx(e,t,n){var r=t.pendingProps,s=Ie.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Ie,s&1),e===null)return wh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=fu(a,r,0,null),e=Hs(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Nh(n),t.memoizedState=Ch,e):gm(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $j(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Jr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jr(l,i):(i=Hs(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Nh(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ch,r}return i=e.child,e=i.sibling,r=Jr(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gm(e,t){return t=fu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zl(e,t,n,r){return r!==null&&nm(r),ma(t,e.child,null,n),e=gm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $j(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=hd(Error(M(422))),zl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=fu({mode:"visible",children:r.children},s,0,null),i=Hs(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ma(t,e.child,null,a),t.child.memoizedState=Nh(a),t.memoizedState=Ch,i);if(!(t.mode&1))return zl(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(M(419)),r=hd(i,r,void 0),zl(e,t,a,r)}if(l=(a&e.childLanes)!==0,At||l){if(r=st,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ir(e,s),xn(r,e,s,-1))}return _m(),r=hd(Error(M(421))),zl(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ek.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,$t=Hr(s.nextSibling),Bt=t,Re=!0,vn=null,e!==null&&(Xt[Zt++]=Yn,Xt[Zt++]=Qn,Xt[Zt++]=Xs,Yn=e.id,Qn=e.overflow,Xs=t),t=gm(t,r.children),t.flags|=4096,t)}function Og(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xh(e.return,t,n)}function fd(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vx(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(bt(e,t,r.children,n),r=Ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Og(e,n,t);else if(e.tag===19)Og(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(Ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ec(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fd(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ec(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fd(t,!0,n,null,i);break;case"together":fd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ei|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bj(e,t,n){switch(t.tag){case 3:gx(t),fa();break;case 5:qw(t);break;case 1:Ot(t.type)&&_c(t);break;case 4:lm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;je(kc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(Ie,Ie.current&1),t.flags|=128,null):n&t.child.childLanes?yx(e,t,n):(je(Ie,Ie.current&1),e=ar(e,t,n),e!==null?e.sibling:null);je(Ie,Ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ie,Ie.current),r)break;return null;case 22:case 23:return t.lanes=0,mx(e,t,n)}return ar(e,t,n)}var wx,Eh,xx,bx;wx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eh=function(){};xx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Os(An.current);var i=null;switch(n){case"input":s=Qd(e,s),r=Qd(e,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=Zd(e,s),r=Zd(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xc)}th(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ee("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ma(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vj(e,t,n){var r=t.pendingProps;switch(tm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Ot(t.type)&&bc(),ht(t),null;case 3:return r=t.stateNode,pa(),Pe(Rt),Pe(gt),um(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(Mh(vn),vn=null))),Eh(e,t),ht(t),null;case 5:cm(t);var s=Os(Po.current);if(n=t.type,e!==null&&t.stateNode!=null)xx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return ht(t),null}if(e=Os(An.current),Ol(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Pn]=t,r[No]=i,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<Ha.length;s++)Ee(Ha[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Bp(r,i),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",r);break;case"textarea":qp(r,i),Ee("invalid",r)}th(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Rl(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Rl(r.textContent,l,e),s=["children",""+l]):yo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ee("scroll",r)}switch(n){case"input":jl(r),Vp(r,i,!0);break;case"textarea":jl(r),Wp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Pn]=t,e[No]=r,wx(e,t,!1,!1),t.stateNode=e;e:{switch(a=nh(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),s=r;break;case"iframe":case"object":case"embed":Ee("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ha.length;s++)Ee(Ha[s],e);s=r;break;case"source":Ee("error",e),s=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),s=r;break;case"details":Ee("toggle",e),s=r;break;case"input":Bp(e,r),s=Qd(e,r),Ee("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":qp(e,r),s=Zd(e,r),Ee("invalid",e);break;default:s=r}th(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Xv(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qv(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vo(e,c):typeof c=="number"&&vo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",e):c!=null&&Ff(e,i,c,a))}switch(n){case"input":jl(e),Vp(e,r,!1);break;case"textarea":jl(e),Wp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ss(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Wi(e,!!r.multiple,i,!1):r.defaultValue!=null&&Wi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)bx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Os(Po.current),Os(An.current),Ol(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pn]=t,(i=r.nodeValue!==n)&&(e=Bt,e!==null))switch(e.tag){case 3:Rl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=t,t.stateNode=r}return ht(t),null;case 13:if(Pe(Ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&$t!==null&&t.mode&1&&!(t.flags&128))Uw(),fa(),t.flags|=98560,i=!1;else if(i=Ol(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Pn]=t}else fa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),i=!1}else vn!==null&&(Mh(vn),vn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?tt===0&&(tt=3):_m())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return pa(),Eh(e,t),e===null&&ko(t.stateNode.containerInfo),ht(t),null;case 10:return im(t.type._context),ht(t),null;case 17:return Ot(t.type)&&bc(),ht(t),null;case 19:if(Pe(Ie),i=t.memoizedState,i===null)return ht(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Ma(i,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ec(e),a!==null){for(t.flags|=128,Ma(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Ie,Ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&qe()>ya&&(t.flags|=128,r=!0,Ma(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ec(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ma(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Re)return ht(t),null}else 2*qe()-i.renderingStartTime>ya&&n!==1073741824&&(t.flags|=128,r=!0,Ma(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qe(),t.sibling=null,n=Ie.current,je(Ie,r?n&1|2:n&1),t):(ht(t),null);case 22:case 23:return bm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Lt&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function qj(e,t){switch(tm(t),t.tag){case 1:return Ot(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pa(),Pe(Rt),Pe(gt),um(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cm(t),null;case 13:if(Pe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Ie),null;case 4:return pa(),null;case 10:return im(t.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Ml=!1,pt=!1,Wj=typeof WeakSet=="function"?WeakSet:Set,H=null;function Di(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function Ph(e,t,n){try{n()}catch(r){$e(e,t,r)}}var Ig=!1;function Kj(e,t){if(hh=yc,e=Cw(),Zf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(l=a+s),h!==i||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===s&&(l=a),m===i&&++d===r&&(c=a),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fh={focusedElem:e,selectionRange:n},yc=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:hn(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(x){$e(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return v=Ig,Ig=!1,v}function so(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ph(t,n,i)}s=s.next}while(s!==r)}}function du(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Th(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _x(e){var t=e.alternate;t!==null&&(e.alternate=null,_x(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pn],delete t[No],delete t[gh],delete t[Ej],delete t[Pj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sx(e){return e.tag===5||e.tag===3||e.tag===4}function zg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ah(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xc));else if(r!==4&&(e=e.child,e!==null))for(Ah(e,t,n),e=e.sibling;e!==null;)Ah(e,t,n),e=e.sibling}function Rh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rh(e,t,n),e=e.sibling;e!==null;)Rh(e,t,n),e=e.sibling}var ot=null,gn=!1;function yr(e,t,n){for(n=n.child;n!==null;)jx(e,t,n),n=n.sibling}function jx(e,t,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(ru,n)}catch{}switch(n.tag){case 5:pt||Di(n,t);case 6:var r=ot,s=gn;ot=null,yr(e,t,n),ot=r,gn=s,ot!==null&&(gn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(gn?(e=ot,n=n.stateNode,e.nodeType===8?ad(e.parentNode,n):e.nodeType===1&&ad(e,n),_o(e)):ad(ot,n.stateNode));break;case 4:r=ot,s=gn,ot=n.stateNode.containerInfo,gn=!0,yr(e,t,n),ot=r,gn=s;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ph(n,t,a),s=s.next}while(s!==r)}yr(e,t,n);break;case 1:if(!pt&&(Di(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){$e(n,t,l)}yr(e,t,n);break;case 21:yr(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,yr(e,t,n),pt=r):yr(e,t,n);break;default:yr(e,t,n)}}function Mg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wj),t.forEach(function(r){var s=tk.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,gn=!1;break e;case 3:ot=l.stateNode.containerInfo,gn=!0;break e;case 4:ot=l.stateNode.containerInfo,gn=!0;break e}l=l.return}if(ot===null)throw Error(M(160));jx(i,a,s),ot=null,gn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kx(t,e),t=t.sibling}function kx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),Sn(e),r&4){try{so(3,e,e.return),du(3,e)}catch(w){$e(e,e.return,w)}try{so(5,e,e.return)}catch(w){$e(e,e.return,w)}}break;case 1:cn(t,e),Sn(e),r&512&&n!==null&&Di(n,n.return);break;case 5:if(cn(t,e),Sn(e),r&512&&n!==null&&Di(n,n.return),e.flags&32){var s=e.stateNode;try{vo(s,"")}catch(w){$e(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Hv(s,i),nh(l,a);var u=nh(l,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?Xv(s,h):d==="dangerouslySetInnerHTML"?Qv(s,h):d==="children"?vo(s,h):Ff(s,d,h,u)}switch(l){case"input":Jd(s,i);break;case"textarea":Gv(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?Wi(s,!!i.multiple,f,!1):m!==!!i.multiple&&(i.defaultValue!=null?Wi(s,!!i.multiple,i.defaultValue,!0):Wi(s,!!i.multiple,i.multiple?[]:"",!1))}s[No]=i}catch(w){$e(e,e.return,w)}}break;case 6:if(cn(t,e),Sn(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){$e(e,e.return,w)}}break;case 3:if(cn(t,e),Sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(t.containerInfo)}catch(w){$e(e,e.return,w)}break;case 4:cn(t,e),Sn(e);break;case 13:cn(t,e),Sn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wm=qe())),r&4&&Mg(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(u=pt)||d,cn(t,e),pt=u):cn(t,e),Sn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(h=H=d;H!==null;){switch(m=H,f=m.child,m.tag){case 0:case 11:case 14:case 15:so(4,m,m.return);break;case 1:Di(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){$e(r,n,w)}}break;case 5:Di(m,m.return);break;case 22:if(m.memoizedState!==null){Lg(h);continue}}f!==null?(f.return=m,H=f):Lg(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Jv("display",a))}catch(w){$e(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){$e(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cn(t,e),Sn(e),r&4&&Mg(e);break;case 21:break;default:cn(t,e),Sn(e)}}function Sn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sx(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vo(s,""),r.flags&=-33);var i=zg(e);Rh(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=zg(e);Ah(e,l,a);break;default:throw Error(M(161))}}catch(c){$e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hj(e,t,n){H=e,Cx(e)}function Cx(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Ml;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pt;l=Ml;var u=pt;if(Ml=a,(pt=c)&&!u)for(H=s;H!==null;)a=H,c=a.child,a.tag===22&&a.memoizedState!==null?Ug(s):c!==null?(c.return=a,H=c):Ug(s);for(;i!==null;)H=i,Cx(i),i=i.sibling;H=s,Ml=l,pt=u}Dg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):Dg(e)}}function Dg(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||du(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:hn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&bg(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bg(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&_o(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}pt||t.flags&512&&Th(t)}catch(m){$e(t,t.return,m)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Lg(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Ug(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{du(4,t)}catch(c){$e(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){$e(t,s,c)}}var i=t.return;try{Th(t)}catch(c){$e(t,i,c)}break;case 5:var a=t.return;try{Th(t)}catch(c){$e(t,a,c)}}}catch(c){$e(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var Gj=Math.ceil,Ac=dr.ReactCurrentDispatcher,ym=dr.ReactCurrentOwner,tn=dr.ReactCurrentBatchConfig,pe=0,st=null,Qe=null,lt=0,Lt=0,Li=us(0),tt=0,Oo=null,ei=0,hu=0,vm=0,io=null,Tt=null,wm=0,ya=1/0,$n=null,Rc=!1,Oh=null,Yr=null,Dl=!1,Br=null,Oc=0,ao=0,Ih=null,ic=-1,ac=0;function St(){return pe&6?qe():ic!==-1?ic:ic=qe()}function Qr(e){return e.mode&1?pe&2&&lt!==0?lt&-lt:Aj.transition!==null?(ac===0&&(ac=uw()),ac):(e=be,e!==0||(e=window.event,e=e===void 0?16:yw(e.type)),e):1}function xn(e,t,n,r){if(50<ao)throw ao=0,Ih=null,Error(M(185));rl(e,n,r),(!(pe&2)||e!==st)&&(e===st&&(!(pe&2)&&(hu|=n),tt===4&&Tr(e,lt)),It(e,r),n===1&&pe===0&&!(t.mode&1)&&(ya=qe()+500,lu&&ds()))}function It(e,t){var n=e.callbackNode;AS(e,t);var r=gc(e,e===st?lt:0);if(r===0)n!==null&&Gp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gp(n),t===1)e.tag===0?Tj(Fg.bind(null,e)):Mw(Fg.bind(null,e)),Cj(function(){!(pe&6)&&ds()}),n=null;else{switch(dw(r)){case 1:n=Wf;break;case 4:n=lw;break;case 16:n=pc;break;case 536870912:n=cw;break;default:n=pc}n=Ix(n,Nx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nx(e,t){if(ic=-1,ac=0,pe&6)throw Error(M(327));var n=e.callbackNode;if(Qi()&&e.callbackNode!==n)return null;var r=gc(e,e===st?lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ic(e,r);else{t=r;var s=pe;pe|=2;var i=Px();(st!==e||lt!==t)&&($n=null,ya=qe()+500,Ks(e,t));do try{Jj();break}catch(l){Ex(e,l)}while(!0);sm(),Ac.current=i,pe=s,Qe!==null?t=0:(st=null,lt=0,t=tt)}if(t!==0){if(t===2&&(s=oh(e),s!==0&&(r=s,t=zh(e,s))),t===1)throw n=Oo,Ks(e,0),Tr(e,r),It(e,qe()),n;if(t===6)Tr(e,r);else{if(s=e.current.alternate,!(r&30)&&!Yj(s)&&(t=Ic(e,r),t===2&&(i=oh(e),i!==0&&(r=i,t=zh(e,i))),t===1))throw n=Oo,Ks(e,0),Tr(e,r),It(e,qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:Ss(e,Tt,$n);break;case 3:if(Tr(e,r),(r&130023424)===r&&(t=wm+500-qe(),10<t)){if(gc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ph(Ss.bind(null,e,Tt,$n),t);break}Ss(e,Tt,$n);break;case 4:if(Tr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-wn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gj(r/1960))-r,10<r){e.timeoutHandle=ph(Ss.bind(null,e,Tt,$n),r);break}Ss(e,Tt,$n);break;case 5:Ss(e,Tt,$n);break;default:throw Error(M(329))}}}return It(e,qe()),e.callbackNode===n?Nx.bind(null,e):null}function zh(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Ks(e,t).flags|=256),e=Ic(e,t),e!==2&&(t=Tt,Tt=n,t!==null&&Mh(t)),e}function Mh(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function Yj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~vm,t&=~hu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function Fg(e){if(pe&6)throw Error(M(327));Qi();var t=gc(e,0);if(!(t&1))return It(e,qe()),null;var n=Ic(e,t);if(e.tag!==0&&n===2){var r=oh(e);r!==0&&(t=r,n=zh(e,r))}if(n===1)throw n=Oo,Ks(e,0),Tr(e,t),It(e,qe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e,Tt,$n),It(e,qe()),null}function xm(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(ya=qe()+500,lu&&ds())}}function ti(e){Br!==null&&Br.tag===0&&!(pe&6)&&Qi();var t=pe;pe|=1;var n=tn.transition,r=be;try{if(tn.transition=null,be=1,e)return e()}finally{be=r,tn.transition=n,pe=t,!(pe&6)&&ds()}}function bm(){Lt=Li.current,Pe(Li)}function Ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kj(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:pa(),Pe(Rt),Pe(gt),um();break;case 5:cm(r);break;case 4:pa();break;case 13:Pe(Ie);break;case 19:Pe(Ie);break;case 10:im(r.type._context);break;case 22:case 23:bm()}n=n.return}if(st=e,Qe=e=Jr(e.current,null),lt=Lt=t,tt=0,Oo=null,vm=hu=ei=0,Tt=io=null,Rs!==null){for(t=0;t<Rs.length;t++)if(n=Rs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Rs=null}return e}function Ex(e,t){do{var n=Qe;try{if(sm(),nc.current=Tc,Pc){for(var r=De.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pc=!1}if(Zs=0,rt=Xe=De=null,ro=!1,To=0,ym.current=null,n===null||n.return===null){tt=1,Oo=t,Qe=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=lt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Ng(a);if(f!==null){f.flags&=-257,Eg(f,a,l,i,t),f.mode&1&&Cg(i,u,t),t=f,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){Cg(i,u,t),_m();break e}c=Error(M(426))}}else if(Re&&l.mode&1){var _=Ng(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Eg(_,a,l,i,t),nm(ga(c,l));break e}}i=c=ga(c,l),tt!==4&&(tt=2),io===null?io=[i]:io.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=dx(i,c,t);xg(i,g);break e;case 1:l=c;var y=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yr===null||!Yr.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=hx(i,l,t);xg(i,x);break e}}i=i.return}while(i!==null)}Ax(n)}catch(S){t=S,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function Px(){var e=Ac.current;return Ac.current=Tc,e===null?Tc:e}function _m(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(ei&268435455)&&!(hu&268435455)||Tr(st,lt)}function Ic(e,t){var n=pe;pe|=2;var r=Px();(st!==e||lt!==t)&&($n=null,Ks(e,t));do try{Qj();break}catch(s){Ex(e,s)}while(!0);if(sm(),pe=n,Ac.current=r,Qe!==null)throw Error(M(261));return st=null,lt=0,tt}function Qj(){for(;Qe!==null;)Tx(Qe)}function Jj(){for(;Qe!==null&&!_S();)Tx(Qe)}function Tx(e){var t=Ox(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?Ax(e):Qe=t,ym.current=null}function Ax(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qj(n,t),n!==null){n.flags&=32767,Qe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Qe=null;return}}else if(n=Vj(n,t,Lt),n!==null){Qe=n;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);tt===0&&(tt=5)}function Ss(e,t,n){var r=be,s=tn.transition;try{tn.transition=null,be=1,Xj(e,t,n,r)}finally{tn.transition=s,be=r}return null}function Xj(e,t,n,r){do Qi();while(Br!==null);if(pe&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(RS(e,i),e===st&&(Qe=st=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dl||(Dl=!0,Ix(pc,function(){return Qi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tn.transition,tn.transition=null;var a=be;be=1;var l=pe;pe|=4,ym.current=null,Kj(e,n),kx(n,e),vj(fh),yc=!!hh,fh=hh=null,e.current=n,Hj(n),SS(),pe=l,be=a,tn.transition=i}else e.current=n;if(Dl&&(Dl=!1,Br=e,Oc=s),i=e.pendingLanes,i===0&&(Yr=null),CS(n.stateNode),It(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rc)throw Rc=!1,e=Oh,Oh=null,e;return Oc&1&&e.tag!==0&&Qi(),i=e.pendingLanes,i&1?e===Ih?ao++:(ao=0,Ih=e):ao=0,ds(),null}function Qi(){if(Br!==null){var e=dw(Oc),t=tn.transition,n=be;try{if(tn.transition=null,be=16>e?16:e,Br===null)var r=!1;else{if(e=Br,Br=null,Oc=0,pe&6)throw Error(M(331));var s=pe;for(pe|=4,H=e.current;H!==null;){var i=H,a=i.child;if(H.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:so(8,d,i)}var h=d.child;if(h!==null)h.return=d,H=h;else for(;H!==null;){d=H;var m=d.sibling,f=d.return;if(_x(d),d===u){H=null;break}if(m!==null){m.return=f,H=m;break}H=f}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}H=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,H=a;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:so(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,H=g;break e}H=i.return}}var y=e.current;for(H=y;H!==null;){a=H;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,H=p;else e:for(a=y;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:du(9,l)}}catch(S){$e(l,l.return,S)}if(l===a){H=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,H=x;break e}H=l.return}}if(pe=s,ds(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(ru,e)}catch{}r=!0}return r}finally{be=n,tn.transition=t}}return!1}function $g(e,t,n){t=ga(n,t),t=dx(e,t,1),e=Gr(e,t,1),t=St(),e!==null&&(rl(e,1,t),It(e,t))}function $e(e,t,n){if(e.tag===3)$g(e,e,n);else for(;t!==null;){if(t.tag===3){$g(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){e=ga(n,e),e=hx(t,e,1),t=Gr(t,e,1),e=St(),t!==null&&(rl(t,1,e),It(t,e));break}}t=t.return}}function Zj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(lt&n)===n&&(tt===4||tt===3&&(lt&130023424)===lt&&500>qe()-wm?Ks(e,0):vm|=n),It(e,t)}function Rx(e,t){t===0&&(e.mode&1?(t=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):t=1);var n=St();e=ir(e,t),e!==null&&(rl(e,t,n),It(e,n))}function ek(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rx(e,n)}function tk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Rx(e,n)}var Ox;Ox=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rt.current)At=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return At=!1,Bj(e,t,n);At=!!(e.flags&131072)}else At=!1,Re&&t.flags&1048576&&Dw(t,jc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sc(e,t),e=t.pendingProps;var s=ha(t,gt.current);Yi(t,n),s=hm(null,t,r,e,s,n);var i=fm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(r)?(i=!0,_c(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,om(t),s.updater=uu,t.stateNode=s,s._reactInternals=t,_h(t,r,e,n),t=kh(null,t,r,!0,i,n)):(t.tag=0,Re&&i&&em(t),bt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=rk(r),e=hn(r,e),s){case 0:t=jh(null,t,r,e,n);break e;case 1:t=Ag(null,t,r,e,n);break e;case 11:t=Pg(null,t,r,e,n);break e;case 14:t=Tg(null,t,r,hn(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),jh(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Ag(e,t,r,s,n);case 3:e:{if(gx(t),e===null)throw Error(M(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Vw(e,t),Nc(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ga(Error(M(423)),t),t=Rg(e,t,r,n,s);break e}else if(r!==s){s=ga(Error(M(424)),t),t=Rg(e,t,r,n,s);break e}else for($t=Hr(t.stateNode.containerInfo.firstChild),Bt=t,Re=!0,vn=null,n=$w(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fa(),r===s){t=ar(e,t,n);break e}bt(e,t,r,n)}t=t.child}return t;case 5:return qw(t),e===null&&wh(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,mh(r,s)?a=null:i!==null&&mh(r,i)&&(t.flags|=32),px(e,t),bt(e,t,a,n),t.child;case 6:return e===null&&wh(t),null;case 13:return yx(e,t,n);case 4:return lm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ma(t,null,r,n):bt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Pg(e,t,r,s,n);case 7:return bt(e,t,t.pendingProps,n),t.child;case 8:return bt(e,t,t.pendingProps.children,n),t.child;case 12:return bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,je(kc,r._currentValue),r._currentValue=a,i!==null)if(bn(i.value,a)){if(i.children===s.children&&!Rt.current){t=ar(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Xn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xh(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(M(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),xh(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}bt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Yi(t,n),s=nn(s),r=r(s),t.flags|=1,bt(e,t,r,n),t.child;case 14:return r=t.type,s=hn(r,t.pendingProps),s=hn(r.type,s),Tg(e,t,r,s,n);case 15:return fx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),sc(e,t),t.tag=1,Ot(r)?(e=!0,_c(t)):e=!1,Yi(t,n),ux(t,r,s),_h(t,r,s,n),kh(null,t,r,!0,e,n);case 19:return vx(e,t,n);case 22:return mx(e,t,n)}throw Error(M(156,t.tag))};function Ix(e,t){return ow(e,t)}function nk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function en(e,t,n,r){return new nk(e,t,n,r)}function Sm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rk(e){if(typeof e=="function")return Sm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bf)return 11;if(e===Vf)return 14}return 2}function Jr(e,t){var n=e.alternate;return n===null?(n=en(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oc(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Sm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ei:return Hs(n.children,s,i,t);case $f:a=8,s|=8;break;case Kd:return e=en(12,n,t,s|2),e.elementType=Kd,e.lanes=i,e;case Hd:return e=en(13,n,t,s),e.elementType=Hd,e.lanes=i,e;case Gd:return e=en(19,n,t,s),e.elementType=Gd,e.lanes=i,e;case qv:return fu(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bv:a=10;break e;case Vv:a=9;break e;case Bf:a=11;break e;case Vf:a=14;break e;case Sr:a=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=en(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Hs(e,t,n,r){return e=en(7,e,r,t),e.lanes=n,e}function fu(e,t,n,r){return e=en(22,e,r,t),e.elementType=qv,e.lanes=n,e.stateNode={isHidden:!1},e}function md(e,t,n){return e=en(6,e,null,t),e.lanes=n,e}function pd(e,t,n){return t=en(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sk(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jm(e,t,n,r,s,i,a,l,c){return e=new sk(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=en(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(i),e}function ik(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zx(e){if(!e)return is;e=e._reactInternals;e:{if(oi(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ot(n))return zw(e,n,t)}return t}function Mx(e,t,n,r,s,i,a,l,c){return e=jm(n,r,!0,e,s,i,a,l,c),e.context=zx(null),n=e.current,r=St(),s=Qr(n),i=Xn(r,s),i.callback=t??null,Gr(n,i,s),e.current.lanes=s,rl(e,s,r),It(e,r),e}function mu(e,t,n,r){var s=t.current,i=St(),a=Qr(s);return n=zx(n),t.context===null?t.context=n:t.pendingContext=n,t=Xn(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gr(s,t,a),e!==null&&(xn(e,s,a,i),tc(e,s,a)),a}function zc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function km(e,t){Bg(e,t),(e=e.alternate)&&Bg(e,t)}function ak(){return null}var Dx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cm(e){this._internalRoot=e}pu.prototype.render=Cm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));mu(e,t,null,null)};pu.prototype.unmount=Cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ti(function(){mu(null,e,null,null)}),t[sr]=null}};function pu(e){this._internalRoot=e}pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=mw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pr.length&&t!==0&&t<Pr[n].priority;n++);Pr.splice(n,0,e),n===0&&gw(e)}};function Nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vg(){}function ok(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=zc(a);i.call(u)}}var a=Mx(t,r,e,0,null,!1,!1,"",Vg);return e._reactRootContainer=a,e[sr]=a.current,ko(e.nodeType===8?e.parentNode:e),ti(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=zc(c);l.call(u)}}var c=jm(e,0,!1,null,null,!1,!1,"",Vg);return e._reactRootContainer=c,e[sr]=c.current,ko(e.nodeType===8?e.parentNode:e),ti(function(){mu(t,c,n,r)}),c}function yu(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=zc(a);l.call(c)}}mu(t,a,e,s)}else a=ok(n,t,e,s,r);return zc(a)}hw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ka(t.pendingLanes);n!==0&&(Kf(t,n|1),It(t,qe()),!(pe&6)&&(ya=qe()+500,ds()))}break;case 13:ti(function(){var r=ir(e,1);if(r!==null){var s=St();xn(r,e,1,s)}}),km(e,1)}};Hf=function(e){if(e.tag===13){var t=ir(e,134217728);if(t!==null){var n=St();xn(t,e,134217728,n)}km(e,134217728)}};fw=function(e){if(e.tag===13){var t=Qr(e),n=ir(e,t);if(n!==null){var r=St();xn(n,e,t,r)}km(e,t)}};mw=function(){return be};pw=function(e,t){var n=be;try{return be=e,t()}finally{be=n}};sh=function(e,t,n){switch(t){case"input":if(Jd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ou(r);if(!s)throw Error(M(90));Kv(r),Jd(r,s)}}}break;case"textarea":Gv(e,n);break;case"select":t=n.value,t!=null&&Wi(e,!!n.multiple,t,!1)}};tw=xm;nw=ti;var lk={usingClientEntryPoint:!1,Events:[il,Ri,ou,Zv,ew,xm]},Da={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ck={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iw(e),e===null?null:e.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{ru=Ll.inject(ck),Tn=Ll}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nm(t))throw Error(M(200));return ik(e,t,null,n)};Wt.createRoot=function(e,t){if(!Nm(e))throw Error(M(299));var n=!1,r="",s=Dx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=jm(e,1,!1,null,null,n,!1,r,s),e[sr]=t.current,ko(e.nodeType===8?e.parentNode:e),new Cm(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=iw(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return ti(e)};Wt.hydrate=function(e,t,n){if(!gu(t))throw Error(M(200));return yu(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!Nm(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Dx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mx(t,null,e,1,n??null,s,!1,i,a),e[sr]=t.current,ko(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new pu(t)};Wt.render=function(e,t,n){if(!gu(t))throw Error(M(200));return yu(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!gu(e))throw Error(M(40));return e._reactRootContainer?(ti(function(){yu(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};Wt.unstable_batchedUpdates=xm;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gu(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return yu(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function Lx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lx)}catch(e){console.error(e)}}Lx(),Lv.exports=Wt;var Ux=Lv.exports;const uk=Cv(Ux);var qg=Ux;qd.createRoot=qg.createRoot,qd.hydrateRoot=qg.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Io.apply(this,arguments)}var Vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vr||(Vr={}));const Wg="popstate";function dk(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return Dh("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Mc(s)}return fk(t,n,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Em(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hk(){return Math.random().toString(36).substr(2,8)}function Kg(e,t){return{usr:e.state,key:e.key,idx:t}}function Dh(e,t,n,r){return n===void 0&&(n=null),Io({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ja(t):t,{state:n,key:t&&t.key||r||hk()})}function Mc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ja(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fk(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Vr.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Io({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Vr.Pop;let _=d(),g=_==null?null:_-u;u=_,c&&c({action:l,location:w.location,delta:g})}function m(_,g){l=Vr.Push;let y=Dh(w.location,_,g);u=d()+1;let p=Kg(y,u),x=w.createHref(y);try{a.pushState(p,"",x)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(x)}i&&c&&c({action:l,location:w.location,delta:1})}function f(_,g){l=Vr.Replace;let y=Dh(w.location,_,g);u=d();let p=Kg(y,u),x=w.createHref(y);a.replaceState(p,"",x),i&&c&&c({action:l,location:w.location,delta:0})}function v(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:Mc(_);return y=y.replace(/ $/,"%20"),He(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let w={get action(){return l},get location(){return e(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Wg,h),c=_,()=>{s.removeEventListener(Wg,h),c=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:f,go(_){return a.go(_)}};return w}var Hg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hg||(Hg={}));function mk(e,t,n){return n===void 0&&(n="/"),pk(e,t,n)}function pk(e,t,n,r){let s=typeof t=="string"?ja(t):t,i=Pm(s.pathname||"/",n);if(i==null)return null;let a=Fx(e);gk(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Ek(i);l=kk(a[c],u)}return l}function Fx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Xr([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Fx(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Sk(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of $x(i.path))s(i,a,c)}),t}function $x(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=$x(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function gk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:jk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yk=/^:[\w-]+$/,vk=3,wk=2,xk=1,bk=10,_k=-2,Gg=e=>e==="*";function Sk(e,t){let n=e.split("/"),r=n.length;return n.some(Gg)&&(r+=_k),t&&(r+=wk),n.filter(s=>!Gg(s)).reduce((s,i)=>s+(yk.test(i)?vk:i===""?xk:bk),r)}function jk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function kk(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Ck({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Xr([i,h.pathname]),pathnameBase:Ok(Xr([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Xr([i,h.pathnameBase]))}return a}function Ck(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Nk(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:f}=d;if(m==="*"){let w=l[h]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return f&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Nk(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Em(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Ek(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Em(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tk=e=>Pk.test(e);function Ak(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ja(e):e,i;if(n)if(Tk(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Em(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Yg(n.substring(1),"/"):i=Yg(n,t)}else i=t;return{pathname:i,search:Ik(r),hash:zk(s)}}function Yg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function gd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rk(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tm(e,t){let n=Rk(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Am(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ja(e):(s=Io({},e),He(!s.pathname||!s.pathname.includes("?"),gd("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),gd("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),gd("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Ak(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Xr=e=>e.join("/").replace(/\/\/+/g,"/"),Ok=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ik=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bx=["post","put","patch","delete"];new Set(Bx);const Dk=["get",...Bx];new Set(Dk);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zo.apply(this,arguments)}const Rm=b.createContext(null),Lk=b.createContext(null),hs=b.createContext(null),vu=b.createContext(null),fs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Vx=b.createContext(null);function Uk(e,t){let{relative:n}=t===void 0?{}:t;ka()||He(!1);let{basename:r,navigator:s}=b.useContext(hs),{hash:i,pathname:a,search:l}=Wx(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Xr([r,a])),s.createHref({pathname:c,search:l,hash:i})}function ka(){return b.useContext(vu)!=null}function ms(){return ka()||He(!1),b.useContext(vu).location}function qx(e){b.useContext(hs).static||b.useLayoutEffect(e)}function hr(){let{isDataRoute:e}=b.useContext(fs);return e?Xk():Fk()}function Fk(){ka()||He(!1);let e=b.useContext(Rm),{basename:t,future:n,navigator:r}=b.useContext(hs),{matches:s}=b.useContext(fs),{pathname:i}=ms(),a=JSON.stringify(Tm(s,n.v7_relativeSplatPath)),l=b.useRef(!1);return qx(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Am(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Xr([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,a,i,e])}function Wx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=b.useContext(hs),{matches:s}=b.useContext(fs),{pathname:i}=ms(),a=JSON.stringify(Tm(s,r.v7_relativeSplatPath));return b.useMemo(()=>Am(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function $k(e,t){return Bk(e,t)}function Bk(e,t,n,r){ka()||He(!1);let{navigator:s}=b.useContext(hs),{matches:i}=b.useContext(fs),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ms(),d;if(t){var h;let _=typeof t=="string"?ja(t):t;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||He(!1),d=_}else d=u;let m=d.pathname||"/",f=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let v=mk(e,{pathname:f}),w=Hk(v&&v.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Xr([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Xr([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return t&&w?b.createElement(vu.Provider,{value:{location:zo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vr.Pop}},w):w}function Vk(){let e=Jk(),t=Mk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:s},n):null,null)}const qk=b.createElement(Vk,null);class Wk extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(fs.Provider,{value:this.props.routeContext},b.createElement(Vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kk(e){let{routeContext:t,match:n,children:r}=e,s=b.useContext(Rm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(fs.Provider,{value:t},r)}function Hk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||He(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:f}=n,v=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let f,v=!1,w=null,_=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||qk,c&&(u<0&&m===0?(Zk("route-fallback"),v=!0,_=null):u===m&&(v=!0,_=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,m+1)),y=()=>{let p;return f?p=w:v?p=_:h.route.Component?p=b.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,b.createElement(Kk,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(Wk,{location:n.location,revalidation:n.revalidation,component:w,error:f,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Kx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Kx||{}),Hx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Hx||{});function Gk(e){let t=b.useContext(Rm);return t||He(!1),t}function Yk(e){let t=b.useContext(Lk);return t||He(!1),t}function Qk(e){let t=b.useContext(fs);return t||He(!1),t}function Gx(e){let t=Qk(),n=t.matches[t.matches.length-1];return n.route.id||He(!1),n.route.id}function Jk(){var e;let t=b.useContext(Vx),n=Yk(),r=Gx();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Xk(){let{router:e}=Gk(Kx.UseNavigateStable),t=Gx(Hx.UseNavigateStable),n=b.useRef(!1);return qx(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,zo({fromRouteId:t},i)))},[e,t])}const Qg={};function Zk(e,t,n){Qg[e]||(Qg[e]=!0)}function eC(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tC(e){let{to:t,replace:n,state:r,relative:s}=e;ka()||He(!1);let{future:i,static:a}=b.useContext(hs),{matches:l}=b.useContext(fs),{pathname:c}=ms(),u=hr(),d=Am(t,Tm(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function ft(e){He(!1)}function nC(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Vr.Pop,navigator:i,static:a=!1,future:l}=e;ka()&&He(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:i,static:a,future:zo({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=ja(r));let{pathname:d="/",search:h="",hash:m="",state:f=null,key:v="default"}=r,w=b.useMemo(()=>{let _=Pm(d,c);return _==null?null:{location:{pathname:_,search:h,hash:m,state:f,key:v},navigationType:s}},[c,d,h,m,f,v,s]);return w==null?null:b.createElement(hs.Provider,{value:u},b.createElement(vu.Provider,{children:n,value:w}))}function Jg(e){let{children:t,location:n}=e;return $k(Lh(t),n)}new Promise(()=>{});function Lh(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(r,s)=>{if(!b.isValidElement(r))return;let i=[...t,s];if(r.type===b.Fragment){n.push.apply(n,Lh(r.props.children,i));return}r.type!==ft&&He(!1),!r.props.index||!r.props.children||He(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Lh(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(this,arguments)}function rC(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function sC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iC(e,t){return e.button===0&&(!t||t==="_self")&&!sC(e)}const aC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oC="6";try{window.__reactRouterVersion=oC}catch{}const lC="startTransition",Xg=Z_[lC];function cC(e){let{basename:t,children:n,future:r,window:s}=e,i=b.useRef();i.current==null&&(i.current=dk({window:s,v5Compat:!0}));let a=i.current,[l,c]=b.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&Xg?Xg(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>a.listen(d),[a,d]),b.useEffect(()=>eC(r),[r]),b.createElement(nC,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const uC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=b.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,m=rC(t,aC),{basename:f}=b.useContext(hs),v,w=!1;if(typeof u=="string"&&dC.test(u)&&(v=u,uC))try{let p=new URL(window.location.href),x=u.startsWith("//")?new URL(p.protocol+u):new URL(u),S=Pm(x.pathname,f);x.origin===p.origin&&S!=null?u=S+x.search+x.hash:w=!0}catch{}let _=Uk(u,{relative:s}),g=hC(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function y(p){r&&r(p),p.defaultPrevented||g(p)}return b.createElement("a",Uh({},m,{href:v||_,onClick:w||i?r:y,ref:n,target:c}))});var Zg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zg||(Zg={}));var ey;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ey||(ey={}));function hC(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=hr(),u=ms(),d=Wx(e,{relative:a});return b.useCallback(h=>{if(iC(h,n)){h.preventDefault();let m=r!==void 0?r:Mc(u)===Mc(d);c(e,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}var Ca=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fC={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Rr,Of,pv,mC=(pv=class{constructor(){X(this,Rr,fC);X(this,Of,!1)}setTimeoutProvider(e){K(this,Rr,e)}setTimeout(e,t){return C(this,Rr).setTimeout(e,t)}clearTimeout(e){C(this,Rr).clearTimeout(e)}setInterval(e,t){return C(this,Rr).setInterval(e,t)}clearInterval(e){C(this,Rr).clearInterval(e)}},Rr=new WeakMap,Of=new WeakMap,pv),Is=new mC;function pC(e){setTimeout(e,0)}var ni=typeof window>"u"||"Deno"in globalThis;function _t(){}function gC(e,t){return typeof e=="function"?e(t):e}function Fh(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zr(e,t){return typeof e=="function"?e(t):e}function Jt(e,t){return typeof e=="function"?e(t):e}function ty(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Om(a,t.options))return!1}else if(!Mo(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function ny(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ri(t.options.mutationKey)!==ri(i))return!1}else if(!Mo(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Om(e,t){return((t==null?void 0:t.queryKeyHashFn)||ri)(e)}function ri(e){return JSON.stringify(e,(t,n)=>$h(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Mo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Mo(e[n],t[n])):!1}var yC=Object.prototype.hasOwnProperty;function Qx(e,t){if(e===t)return e;const n=ry(e)&&ry(t);if(!n&&!($h(e)&&$h(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u],h=e[d],m=t[d];if(h===m){l[d]=h,(n?u<s:yC.call(e,d))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[d]=m;continue}const f=Qx(h,m);l[d]=f,f===h&&c++}return s===a&&c===s?e:l}function Dc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ry(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $h(e){if(!sy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!sy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function sy(e){return Object.prototype.toString.call(e)==="[object Object]"}function vC(e){return new Promise(t=>{Is.setTimeout(t,e)})}function Bh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Qx(e,t):t}function wC(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function xC(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Im=Symbol();function Jx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Im?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Xx(e,t){return typeof e=="function"?e(...t):!!e}var Ds,Or,Zi,gv,bC=(gv=class extends Ca{constructor(){super();X(this,Ds);X(this,Or);X(this,Zi);K(this,Zi,t=>{if(!ni&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){C(this,Or)||this.setEventListener(C(this,Zi))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Or))==null||t.call(this),K(this,Or,void 0))}setEventListener(t){var n;K(this,Zi,t),(n=C(this,Or))==null||n.call(this),K(this,Or,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){C(this,Ds)!==t&&(K(this,Ds,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof C(this,Ds)=="boolean"?C(this,Ds):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ds=new WeakMap,Or=new WeakMap,Zi=new WeakMap,gv),zm=new bC;function Vh(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var _C=pC;function SC(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=_C;const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ze=SC(),ea,Ir,ta,yv,jC=(yv=class extends Ca{constructor(){super();X(this,ea,!0);X(this,Ir);X(this,ta);K(this,ta,t=>{if(!ni&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){C(this,Ir)||this.setEventListener(C(this,ta))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ir))==null||t.call(this),K(this,Ir,void 0))}setEventListener(t){var n;K(this,ta,t),(n=C(this,Ir))==null||n.call(this),K(this,Ir,t(this.setOnline.bind(this)))}setOnline(t){C(this,ea)!==t&&(K(this,ea,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return C(this,ea)}},ea=new WeakMap,Ir=new WeakMap,ta=new WeakMap,yv),Lc=new jC;function kC(e){return Math.min(1e3*2**e,3e4)}function Zx(e){return(e??"online")==="online"?Lc.isOnline():!0}var qh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eb(e){let t=!1,n=0,r;const s=Vh(),i=()=>s.status!=="pending",a=w=>{var _;if(!i()){const g=new qh(w);m(g),(_=e.onCancel)==null||_.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>zm.isFocused()&&(e.networkMode==="always"||Lc.isOnline())&&e.canRun(),d=()=>Zx(e.networkMode)&&e.canRun(),h=w=>{i()||(r==null||r(),s.resolve(w))},m=w=>{i()||(r==null||r(),s.reject(w))},f=()=>new Promise(w=>{var _;r=g=>{(i()||u())&&w(g)},(_=e.onPause)==null||_.call(e)}).then(()=>{var w;r=void 0,i()||(w=e.onContinue)==null||w.call(e)}),v=()=>{if(i())return;let w;const _=n===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(g){w=Promise.reject(g)}Promise.resolve(w).then(h).catch(g=>{var j;if(i())return;const y=e.retry??(ni?0:3),p=e.retryDelay??kC,x=typeof p=="function"?p(n,g):p,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(t||!S){m(g);return}n++,(j=e.onFail)==null||j.call(e,n,g),vC(x).then(()=>u()?void 0:f()).then(()=>{t?m(g):v()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():f().then(v),s)}}var Ls,vv,tb=(vv=class{constructor(){X(this,Ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fh(this.gcTime)&&K(this,Ls,Is.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ni?1/0:5*60*1e3))}clearGcTimeout(){C(this,Ls)&&(Is.clearTimeout(C(this,Ls)),K(this,Ls,void 0))}},Ls=new WeakMap,vv),Us,na,Qt,Fs,nt,Jo,$s,mn,Fn,wv,CC=(wv=class extends tb{constructor(t){super();X(this,mn);X(this,Us);X(this,na);X(this,Qt);X(this,Fs);X(this,nt);X(this,Jo);X(this,$s);K(this,$s,!1),K(this,Jo,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,Fs,t.client),K(this,Qt,C(this,Fs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,Us,ay(this.options)),this.state=t.state??C(this,Us),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,nt))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,Jo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=ay(this.options);n.data!==void 0&&(this.setState(iy(n.data,n.dataUpdatedAt)),K(this,Us,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Qt).remove(this)}setData(t,n){const r=Bh(this.state.data,t,this.options);return ue(this,mn,Fn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ue(this,mn,Fn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=C(this,nt))==null?void 0:r.promise;return(s=C(this,nt))==null||s.cancel(t),n?n.then(_t).catch(_t):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Us))}isActive(){return this.observers.some(t=>Jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Im||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Yx(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,nt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=C(this,nt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Qt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(C(this,nt)&&(C(this,$s)?C(this,nt).cancel({revert:!0}):C(this,nt).cancelRetry()),this.scheduleGc()),C(this,Qt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,mn,Fn).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,h,m,f,v,w,_,g,y,p;if(this.state.fetchStatus!=="idle"&&((c=C(this,nt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(C(this,nt))return C(this,nt).continueRetry(),C(this,nt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const x=this.observers.find(S=>S.options.queryFn);x&&this.setOptions(x.options)}const r=new AbortController,s=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(K(this,$s,!0),r.signal)})},i=()=>{const x=Jx(this.options,n),j=(()=>{const P={client:C(this,Fs),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return K(this,$s,!1),this.options.persister?this.options.persister(x,j,this):x(j)},l=(()=>{const x={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:C(this,Fs),state:this.state,fetchFn:i};return s(x),x})();(u=this.options.behavior)==null||u.onFetch(l,this),K(this,na,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ue(this,mn,Fn).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),K(this,nt,eb({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:x=>{x instanceof qh&&x.revert&&this.setState({...C(this,na),fetchStatus:"idle"}),r.abort()},onFail:(x,S)=>{ue(this,mn,Fn).call(this,{type:"failed",failureCount:x,error:S})},onPause:()=>{ue(this,mn,Fn).call(this,{type:"pause"})},onContinue:()=>{ue(this,mn,Fn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const x=await C(this,nt).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(f=(m=C(this,Qt).config).onSuccess)==null||f.call(m,x,this),(w=(v=C(this,Qt).config).onSettled)==null||w.call(v,x,this.state.error,this),x}catch(x){if(x instanceof qh){if(x.silent)return C(this,nt).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw ue(this,mn,Fn).call(this,{type:"error",error:x}),(g=(_=C(this,Qt).config).onError)==null||g.call(_,x,this),(p=(y=C(this,Qt).config).onSettled)==null||p.call(y,this.state.data,x,this),x}finally{this.scheduleGc()}}},Us=new WeakMap,na=new WeakMap,Qt=new WeakMap,Fs=new WeakMap,nt=new WeakMap,Jo=new WeakMap,$s=new WeakMap,mn=new WeakSet,Fn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...nb(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...iy(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return K(this,na,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),C(this,Qt).notify({query:this,type:"updated",action:t})})},wv);function nb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function iy(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ay(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Nt,he,Xo,vt,Bs,ra,Wn,zr,Zo,sa,ia,Vs,qs,Mr,aa,ve,Ga,Wh,Kh,Hh,Gh,Yh,Qh,Jh,rb,xv,NC=(xv=class extends Ca{constructor(t,n){super();X(this,ve);X(this,Nt);X(this,he);X(this,Xo);X(this,vt);X(this,Bs);X(this,ra);X(this,Wn);X(this,zr);X(this,Zo);X(this,sa);X(this,ia);X(this,Vs);X(this,qs);X(this,Mr);X(this,aa,new Set);this.options=n,K(this,Nt,t),K(this,zr,null),K(this,Wn,Vh()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,he).addObserver(this),oy(C(this,he),this.options)?ue(this,ve,Ga).call(this):this.updateResult(),ue(this,ve,Gh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xh(C(this,he),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xh(C(this,he),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,ve,Yh).call(this),ue(this,ve,Qh).call(this),C(this,he).removeObserver(this)}setOptions(t){const n=this.options,r=C(this,he);if(this.options=C(this,Nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jt(this.options.enabled,C(this,he))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,ve,Jh).call(this),C(this,he).setOptions(this.options),n._defaulted&&!Dc(this.options,n)&&C(this,Nt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,he),observer:this});const s=this.hasListeners();s&&ly(C(this,he),r,this.options,n)&&ue(this,ve,Ga).call(this),this.updateResult(),s&&(C(this,he)!==r||Jt(this.options.enabled,C(this,he))!==Jt(n.enabled,C(this,he))||Zr(this.options.staleTime,C(this,he))!==Zr(n.staleTime,C(this,he)))&&ue(this,ve,Wh).call(this);const i=ue(this,ve,Kh).call(this);s&&(C(this,he)!==r||Jt(this.options.enabled,C(this,he))!==Jt(n.enabled,C(this,he))||i!==C(this,Mr))&&ue(this,ve,Hh).call(this,i)}getOptimisticResult(t){const n=C(this,Nt).getQueryCache().build(C(this,Nt),t),r=this.createResult(n,t);return PC(this,r)&&(K(this,vt,r),K(this,ra,this.options),K(this,Bs,C(this,he).state)),r}getCurrentResult(){return C(this,vt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,Wn).status==="pending"&&C(this,Wn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){C(this,aa).add(t)}getCurrentQuery(){return C(this,he)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=C(this,Nt).defaultQueryOptions(t),r=C(this,Nt).getQueryCache().build(C(this,Nt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ue(this,ve,Ga).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,vt)))}createResult(t,n){var k;const r=C(this,he),s=this.options,i=C(this,vt),a=C(this,Bs),l=C(this,ra),u=t!==r?t.state:C(this,Xo),{state:d}=t;let h={...d},m=!1,f;if(n._optimisticResults){const E=this.hasListeners(),z=!E&&oy(t,n),L=E&&ly(t,r,n,s);(z||L)&&(h={...h,...nb(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:_}=h;f=h.data;let g=!1;if(n.placeholderData!==void 0&&f===void 0&&_==="pending"){let E;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,g=!0):E=typeof n.placeholderData=="function"?n.placeholderData((k=C(this,ia))==null?void 0:k.state.data,C(this,ia)):n.placeholderData,E!==void 0&&(_="success",f=Bh(i==null?void 0:i.data,E,n),m=!0)}if(n.select&&f!==void 0&&!g)if(i&&f===(a==null?void 0:a.data)&&n.select===C(this,Zo))f=C(this,sa);else try{K(this,Zo,n.select),f=n.select(f),f=Bh(i==null?void 0:i.data,f,n),K(this,sa,f),K(this,zr,null)}catch(E){K(this,zr,E)}C(this,zr)&&(v=C(this,zr),f=C(this,sa),w=Date.now(),_="error");const y=h.fetchStatus==="fetching",p=_==="pending",x=_==="error",S=p&&y,j=f!==void 0,N={status:_,fetchStatus:h.fetchStatus,isPending:p,isSuccess:_==="success",isError:x,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!p,isLoadingError:x&&!j,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:x&&j,isStale:Mm(t,n),refetch:this.refetch,promise:C(this,Wn),isEnabled:Jt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=J=>{N.status==="error"?J.reject(N.error):N.data!==void 0&&J.resolve(N.data)},z=()=>{const J=K(this,Wn,N.promise=Vh());E(J)},L=C(this,Wn);switch(L.status){case"pending":t.queryHash===r.queryHash&&E(L);break;case"fulfilled":(N.status==="error"||N.data!==L.value)&&z();break;case"rejected":(N.status!=="error"||N.error!==L.reason)&&z();break}}return N}updateResult(){const t=C(this,vt),n=this.createResult(C(this,he),this.options);if(K(this,Bs,C(this,he).state),K(this,ra,this.options),C(this,Bs).data!==void 0&&K(this,ia,C(this,he)),Dc(n,t))return;K(this,vt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!C(this,aa).size)return!0;const a=new Set(i??C(this,aa));return this.options.throwOnError&&a.add("error"),Object.keys(C(this,vt)).some(l=>{const c=l;return C(this,vt)[c]!==t[c]&&a.has(c)})};ue(this,ve,rb).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,ve,Gh).call(this)}},Nt=new WeakMap,he=new WeakMap,Xo=new WeakMap,vt=new WeakMap,Bs=new WeakMap,ra=new WeakMap,Wn=new WeakMap,zr=new WeakMap,Zo=new WeakMap,sa=new WeakMap,ia=new WeakMap,Vs=new WeakMap,qs=new WeakMap,Mr=new WeakMap,aa=new WeakMap,ve=new WeakSet,Ga=function(t){ue(this,ve,Jh).call(this);let n=C(this,he).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(_t)),n},Wh=function(){ue(this,ve,Yh).call(this);const t=Zr(this.options.staleTime,C(this,he));if(ni||C(this,vt).isStale||!Fh(t))return;const r=Yx(C(this,vt).dataUpdatedAt,t)+1;K(this,Vs,Is.setTimeout(()=>{C(this,vt).isStale||this.updateResult()},r))},Kh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,he)):this.options.refetchInterval)??!1},Hh=function(t){ue(this,ve,Qh).call(this),K(this,Mr,t),!(ni||Jt(this.options.enabled,C(this,he))===!1||!Fh(C(this,Mr))||C(this,Mr)===0)&&K(this,qs,Is.setInterval(()=>{(this.options.refetchIntervalInBackground||zm.isFocused())&&ue(this,ve,Ga).call(this)},C(this,Mr)))},Gh=function(){ue(this,ve,Wh).call(this),ue(this,ve,Hh).call(this,ue(this,ve,Kh).call(this))},Yh=function(){C(this,Vs)&&(Is.clearTimeout(C(this,Vs)),K(this,Vs,void 0))},Qh=function(){C(this,qs)&&(Is.clearInterval(C(this,qs)),K(this,qs,void 0))},Jh=function(){const t=C(this,Nt).getQueryCache().build(C(this,Nt),this.options);if(t===C(this,he))return;const n=C(this,he);K(this,he,t),K(this,Xo,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},rb=function(t){Ze.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(C(this,vt))}),C(this,Nt).getQueryCache().notify({query:C(this,he),type:"observerResultsUpdated"})})},xv);function EC(e,t){return Jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function oy(e,t){return EC(e,t)||e.state.data!==void 0&&Xh(e,t,t.refetchOnMount)}function Xh(e,t,n){if(Jt(t.enabled,e)!==!1&&Zr(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Mm(e,t)}return!1}function ly(e,t,n,r){return(e!==t||Jt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Mm(e,n)}function Mm(e,t){return Jt(t.enabled,e)!==!1&&e.isStaleByTime(Zr(t.staleTime,e))}function PC(e,t){return!Dc(e.getCurrentResult(),t)}function cy(e){return{onFetch:(t,n)=>{var d,h,m,f,v;const r=t.options,s=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],a=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const _=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},g=Jx(t.options,t.fetchOptions),y=async(p,x,S)=>{if(w)return Promise.reject();if(x==null&&p.pages.length)return Promise.resolve(p);const P=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:x,direction:S?"backward":"forward",meta:t.options.meta};return _(z),z})(),N=await g(P),{maxPages:k}=t.options,E=S?xC:wC;return{pages:E(p.pages,N,k),pageParams:E(p.pageParams,x,k)}};if(s&&i.length){const p=s==="backward",x=p?TC:uy,S={pages:i,pageParams:a},j=x(r,S);l=await y(S,j,p)}else{const p=e??i.length;do{const x=c===0?a[0]??r.initialPageParam:uy(r,l);if(c>0&&x==null)break;l=await y(l,x),c++}while(c<p)}return l};t.options.persister?t.fetchFn=()=>{var w,_;return(_=(w=t.options).persister)==null?void 0:_.call(w,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function uy(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function TC(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var el,Cn,wt,Ws,Nn,br,bv,AC=(bv=class extends tb{constructor(t){super();X(this,Nn);X(this,el);X(this,Cn);X(this,wt);X(this,Ws);K(this,el,t.client),this.mutationId=t.mutationId,K(this,wt,t.mutationCache),K(this,Cn,[]),this.state=t.state||sb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Cn).includes(t)||(C(this,Cn).push(t),this.clearGcTimeout(),C(this,wt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,Cn,C(this,Cn).filter(n=>n!==t)),this.scheduleGc(),C(this,wt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Cn).length||(this.state.status==="pending"?this.scheduleGc():C(this,wt).remove(this))}continue(){var t;return((t=C(this,Ws))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,c,u,d,h,m,f,v,w,_,g,y,p,x,S,j,P,N,k;const n=()=>{ue(this,Nn,br).call(this,{type:"continue"})},r={client:C(this,el),meta:this.options.meta,mutationKey:this.options.mutationKey};K(this,Ws,eb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(E,z)=>{ue(this,Nn,br).call(this,{type:"failed",failureCount:E,error:z})},onPause:()=>{ue(this,Nn,br).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,wt).canRun(this)}));const s=this.state.status==="pending",i=!C(this,Ws).canStart();try{if(s)n();else{ue(this,Nn,br).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=C(this,wt).config).onMutate)==null?void 0:l.call(a,t,this,r));const z=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));z!==this.state.context&&ue(this,Nn,br).call(this,{type:"pending",context:z,variables:t,isPaused:i})}const E=await C(this,Ws).start();return await((h=(d=C(this,wt).config).onSuccess)==null?void 0:h.call(d,E,t,this.state.context,this,r)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,E,t,this.state.context,r)),await((w=(v=C(this,wt).config).onSettled)==null?void 0:w.call(v,E,null,this.state.variables,this.state.context,this,r)),await((g=(_=this.options).onSettled)==null?void 0:g.call(_,E,null,t,this.state.context,r)),ue(this,Nn,br).call(this,{type:"success",data:E}),E}catch(E){try{throw await((p=(y=C(this,wt).config).onError)==null?void 0:p.call(y,E,t,this.state.context,this,r)),await((S=(x=this.options).onError)==null?void 0:S.call(x,E,t,this.state.context,r)),await((P=(j=C(this,wt).config).onSettled)==null?void 0:P.call(j,void 0,E,this.state.variables,this.state.context,this,r)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,void 0,E,t,this.state.context,r)),E}finally{ue(this,Nn,br).call(this,{type:"error",error:E})}}finally{C(this,wt).runNext(this)}}},el=new WeakMap,Cn=new WeakMap,wt=new WeakMap,Ws=new WeakMap,Nn=new WeakSet,br=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ze.batch(()=>{C(this,Cn).forEach(r=>{r.onMutationUpdate(t)}),C(this,wt).notify({mutation:this,type:"updated",action:t})})},bv);function sb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kn,pn,tl,_v,RC=(_v=class extends Ca{constructor(t={}){super();X(this,Kn);X(this,pn);X(this,tl);this.config=t,K(this,Kn,new Set),K(this,pn,new Map),K(this,tl,0)}build(t,n,r){const s=new AC({client:t,mutationCache:this,mutationId:++bl(this,tl)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){C(this,Kn).add(t);const n=Ul(t);if(typeof n=="string"){const r=C(this,pn).get(n);r?r.push(t):C(this,pn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,Kn).delete(t)){const n=Ul(t);if(typeof n=="string"){const r=C(this,pn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&C(this,pn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Ul(t);if(typeof n=="string"){const r=C(this,pn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Ul(t);if(typeof n=="string"){const s=(r=C(this,pn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ze.batch(()=>{C(this,Kn).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,Kn).clear(),C(this,pn).clear()})}getAll(){return Array.from(C(this,Kn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ny(n,r))}findAll(t={}){return this.getAll().filter(n=>ny(t,n))}notify(t){Ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ze.batch(()=>Promise.all(t.map(n=>n.continue().catch(_t))))}},Kn=new WeakMap,pn=new WeakMap,tl=new WeakMap,_v);function Ul(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Hn,Dr,Et,Gn,nr,lc,Zh,Sv,OC=(Sv=class extends Ca{constructor(n,r){super();X(this,nr);X(this,Hn);X(this,Dr);X(this,Et);X(this,Gn);K(this,Hn,n),this.setOptions(r),this.bindMethods(),ue(this,nr,lc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=C(this,Hn).defaultMutationOptions(n),Dc(this.options,r)||C(this,Hn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,Et),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ri(r.mutationKey)!==ri(this.options.mutationKey)?this.reset():((s=C(this,Et))==null?void 0:s.state.status)==="pending"&&C(this,Et).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=C(this,Et))==null||n.removeObserver(this)}onMutationUpdate(n){ue(this,nr,lc).call(this),ue(this,nr,Zh).call(this,n)}getCurrentResult(){return C(this,Dr)}reset(){var n;(n=C(this,Et))==null||n.removeObserver(this),K(this,Et,void 0),ue(this,nr,lc).call(this),ue(this,nr,Zh).call(this)}mutate(n,r){var s;return K(this,Gn,r),(s=C(this,Et))==null||s.removeObserver(this),K(this,Et,C(this,Hn).getMutationCache().build(C(this,Hn),this.options)),C(this,Et).addObserver(this),C(this,Et).execute(n)}},Hn=new WeakMap,Dr=new WeakMap,Et=new WeakMap,Gn=new WeakMap,nr=new WeakSet,lc=function(){var r;const n=((r=C(this,Et))==null?void 0:r.state)??sb();K(this,Dr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Zh=function(n){Ze.batch(()=>{var r,s,i,a,l,c,u,d;if(C(this,Gn)&&this.hasListeners()){const h=C(this,Dr).variables,m=C(this,Dr).context,f={client:C(this,Hn),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=C(this,Gn)).onSuccess)==null||s.call(r,n.data,h,m,f),(a=(i=C(this,Gn)).onSettled)==null||a.call(i,n.data,null,h,m,f)):(n==null?void 0:n.type)==="error"&&((c=(l=C(this,Gn)).onError)==null||c.call(l,n.error,h,m,f),(d=(u=C(this,Gn)).onSettled)==null||d.call(u,void 0,n.error,h,m,f))}this.listeners.forEach(h=>{h(C(this,Dr))})})},Sv),En,jv,IC=(jv=class extends Ca{constructor(t={}){super();X(this,En);this.config=t,K(this,En,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Om(s,n);let a=this.get(i);return a||(a=new CC({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){C(this,En).has(t.queryHash)||(C(this,En).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=C(this,En).get(t.queryHash);n&&(t.destroy(),n===t&&C(this,En).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ze.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,En).get(t)}getAll(){return[...C(this,En).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ty(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ty(t,r)):n}notify(t){Ze.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ze.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ze.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},En=new WeakMap,jv),Ue,Lr,Ur,oa,la,Fr,ca,ua,kv,zC=(kv=class{constructor(e={}){X(this,Ue);X(this,Lr);X(this,Ur);X(this,oa);X(this,la);X(this,Fr);X(this,ca);X(this,ua);K(this,Ue,e.queryCache||new IC),K(this,Lr,e.mutationCache||new RC),K(this,Ur,e.defaultOptions||{}),K(this,oa,new Map),K(this,la,new Map),K(this,Fr,0)}mount(){bl(this,Fr)._++,C(this,Fr)===1&&(K(this,ca,zm.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ue).onFocus())})),K(this,ua,Lc.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ue).onOnline())})))}unmount(){var e,t;bl(this,Fr)._--,C(this,Fr)===0&&((e=C(this,ca))==null||e.call(this),K(this,ca,void 0),(t=C(this,ua))==null||t.call(this),K(this,ua,void 0))}isFetching(e){return C(this,Ue).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,Lr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,Ue).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=C(this,Ue).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Zr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return C(this,Ue).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=C(this,Ue).get(r.queryHash),i=s==null?void 0:s.state.data,a=gC(t,i);if(a!==void 0)return C(this,Ue).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ze.batch(()=>C(this,Ue).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=C(this,Ue).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=C(this,Ue);Ze.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=C(this,Ue);return Ze.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ze.batch(()=>C(this,Ue).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(_t).catch(_t)}invalidateQueries(e,t={}){return Ze.batch(()=>(C(this,Ue).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ze.batch(()=>C(this,Ue).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(_t)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(_t)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=C(this,Ue).build(this,t);return n.isStaleByTime(Zr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_t).catch(_t)}fetchInfiniteQuery(e){return e.behavior=cy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_t).catch(_t)}ensureInfiniteQueryData(e){return e.behavior=cy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lc.isOnline()?C(this,Lr).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Ue)}getMutationCache(){return C(this,Lr)}getDefaultOptions(){return C(this,Ur)}setDefaultOptions(e){K(this,Ur,e)}setQueryDefaults(e,t){C(this,oa).set(ri(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,oa).values()],n={};return t.forEach(r=>{Mo(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){C(this,la).set(ri(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,la).values()],n={};return t.forEach(r=>{Mo(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Ur).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Om(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Im&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Ur).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Ue).clear(),C(this,Lr).clear()}},Ue=new WeakMap,Lr=new WeakMap,Ur=new WeakMap,oa=new WeakMap,la=new WeakMap,Fr=new WeakMap,ca=new WeakMap,ua=new WeakMap,kv),ib=b.createContext(void 0),ps=e=>{const t=b.useContext(ib);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},MC=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(ib.Provider,{value:e,children:t})),ab=b.createContext(!1),DC=()=>b.useContext(ab);ab.Provider;function LC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var UC=b.createContext(LC()),FC=()=>b.useContext(UC),$C=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},BC=e=>{b.useEffect(()=>{e.clearReset()},[e])},VC=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||Xx(n,[e.error,r])),qC=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},WC=(e,t)=>e.isLoading&&e.isFetching&&!t,KC=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,dy=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function HC(e,t,n){var h,m,f,v,w;const r=DC(),s=FC(),i=ps(),a=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,a),a._optimisticResults=r?"isRestoring":"optimistic",qC(a),$C(a,s),BC(s);const l=!i.getQueryCache().get(a.queryHash),[c]=b.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(_=>{const g=d?c.subscribe(Ze.batchCalls(_)):_t;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(a)},[a,c]),KC(a,u))throw dy(a,c,s);if(VC({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((v=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,a,u),a.experimental_prefetchInRender&&!ni&&WC(u,r)){const _=l?dy(a,c,s):(w=i.getQueryCache().get(a.queryHash))==null?void 0:w.promise;_==null||_.catch(_t).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function Ae(e,t){return HC(e,NC)}function Do(e,t){const n=ps(),[r]=b.useState(()=>new OC(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const s=b.useSyncExternalStore(b.useCallback(a=>r.subscribe(Ze.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((a,l)=>{r.mutate(a,l).catch(_t)},[r]);if(s.error&&Xx(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var GC=e=>{switch(e){case"success":return JC;case"info":return ZC;case"warning":return XC;case"error":return eN;default:return null}},YC=Array(12).fill(0),QC=({visible:e,className:t})=>I.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},I.createElement("div",{className:"sonner-spinner"},YC.map((n,r)=>I.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),JC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZC=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eN=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},I.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tN=I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},I.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),I.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nN=()=>{let[e,t]=I.useState(document.hidden);return I.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},ef=1,rN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ef++,i=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,a=r.then(async c=>{if(i=["resolve",c],I.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(iN(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>a.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||ef++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Pt=new rN,sN=(e,t)=>{let n=(t==null?void 0:t.id)||ef++;return Pt.addToast({title:e,...t,id:n}),n},iN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",aN=sN,oN=()=>Pt.toasts,lN=()=>Pt.getActiveToasts(),D=Object.assign(aN,{success:Pt.success,info:Pt.info,warning:Pt.warning,error:Pt.error,custom:Pt.custom,message:Pt.message,promise:Pt.promise,dismiss:Pt.dismiss,loading:Pt.loading},{getHistory:oN,getToasts:lN});function cN(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}cN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fl(e){return e.label!==void 0}var uN=3,dN="32px",hN="16px",hy=4e3,fN=356,mN=14,pN=20,gN=200;function un(...e){return e.filter(Boolean).join(" ")}function yN(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var vN=e=>{var t,n,r,s,i,a,l,c,u,d,h;let{invert:m,toast:f,unstyled:v,interacting:w,setHeights:_,visibleToasts:g,heights:y,index:p,toasts:x,expanded:S,removeToast:j,defaultRichColors:P,closeButton:N,style:k,cancelButtonStyle:E,actionButtonStyle:z,className:L="",descriptionClassName:J="",duration:F,position:le,gap:A,loadingIcon:Y,expandByDefault:O,classNames:R,icons:U,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:T}=e,[W,Z]=I.useState(null),[V,ie]=I.useState(null),[se,yt]=I.useState(!1),[Ct,Dn]=I.useState(!1),[Mt,wl]=I.useState(!1),[Np,j_]=I.useState(!1),[k_,Ep]=I.useState(!1),[C_,Fu]=I.useState(0),[N_,Pp]=I.useState(0),Pa=I.useRef(f.duration||F||hy),Tp=I.useRef(null),ys=I.useRef(null),E_=p===0,P_=p+1<=g,Ht=f.type,ui=f.dismissible!==!1,T_=f.className||"",A_=f.descriptionClassName||"",xl=I.useMemo(()=>y.findIndex(ae=>ae.toastId===f.id)||0,[y,f.id]),R_=I.useMemo(()=>{var ae;return(ae=f.closeButton)!=null?ae:N},[f.closeButton,N]),Ap=I.useMemo(()=>f.duration||F||hy,[f.duration,F]),$u=I.useRef(0),di=I.useRef(0),Rp=I.useRef(0),hi=I.useRef(null),[O_,I_]=le.split("-"),Op=I.useMemo(()=>y.reduce((ae,_e,Te)=>Te>=xl?ae:ae+_e.height,0),[y,xl]),Ip=nN(),z_=f.invert||m,Bu=Ht==="loading";di.current=I.useMemo(()=>xl*A+Op,[xl,Op]),I.useEffect(()=>{Pa.current=Ap},[Ap]),I.useEffect(()=>{yt(!0)},[]),I.useEffect(()=>{let ae=ys.current;if(ae){let _e=ae.getBoundingClientRect().height;return Pp(_e),_(Te=>[{toastId:f.id,height:_e,position:f.position},...Te]),()=>_(Te=>Te.filter(an=>an.toastId!==f.id))}},[_,f.id]),I.useLayoutEffect(()=>{if(!se)return;let ae=ys.current,_e=ae.style.height;ae.style.height="auto";let Te=ae.getBoundingClientRect().height;ae.style.height=_e,Pp(Te),_(an=>an.find(on=>on.toastId===f.id)?an.map(on=>on.toastId===f.id?{...on,height:Te}:on):[{toastId:f.id,height:Te,position:f.position},...an])},[se,f.title,f.description,_,f.id]);let mr=I.useCallback(()=>{Dn(!0),Fu(di.current),_(ae=>ae.filter(_e=>_e.toastId!==f.id)),setTimeout(()=>{j(f)},gN)},[f,j,_,di]);I.useEffect(()=>{if(f.promise&&Ht==="loading"||f.duration===1/0||f.type==="loading")return;let ae;return S||w||T&&Ip?(()=>{if(Rp.current<$u.current){let _e=new Date().getTime()-$u.current;Pa.current=Pa.current-_e}Rp.current=new Date().getTime()})():Pa.current!==1/0&&($u.current=new Date().getTime(),ae=setTimeout(()=>{var _e;(_e=f.onAutoClose)==null||_e.call(f,f),mr()},Pa.current)),()=>clearTimeout(ae)},[S,w,f,Ht,T,Ip,mr]),I.useEffect(()=>{f.delete&&mr()},[mr,f.delete]);function M_(){var ae,_e,Te;return U!=null&&U.loading?I.createElement("div",{className:un(R==null?void 0:R.loader,(ae=f==null?void 0:f.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":Ht==="loading"},U.loading):Y?I.createElement("div",{className:un(R==null?void 0:R.loader,(_e=f==null?void 0:f.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":Ht==="loading"},Y):I.createElement(QC,{className:un(R==null?void 0:R.loader,(Te=f==null?void 0:f.classNames)==null?void 0:Te.loader),visible:Ht==="loading"})}return I.createElement("li",{tabIndex:0,ref:ys,className:un(L,T_,R==null?void 0:R.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[Ht],(n=f==null?void 0:f.classNames)==null?void 0:n[Ht]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:P,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":se,"data-promise":!!f.promise,"data-swiped":k_,"data-removed":Ct,"data-visible":P_,"data-y-position":O_,"data-x-position":I_,"data-index":p,"data-front":E_,"data-swiping":Mt,"data-dismissible":ui,"data-type":Ht,"data-invert":z_,"data-swipe-out":Np,"data-swipe-direction":V,"data-expanded":!!(S||O&&se),style:{"--index":p,"--toasts-before":p,"--z-index":x.length-p,"--offset":`${Ct?C_:di.current}px`,"--initial-height":O?"auto":`${N_}px`,...k,...f.style},onDragEnd:()=>{wl(!1),Z(null),hi.current=null},onPointerDown:ae=>{Bu||!ui||(Tp.current=new Date,Fu(di.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(wl(!0),hi.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,_e,Te,an;if(Np||!ui)return;hi.current=null;let on=Number(((ae=ys.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pr=Number(((_e=ys.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),vs=new Date().getTime()-((Te=Tp.current)==null?void 0:Te.getTime()),ln=W==="x"?on:pr,gr=Math.abs(ln)/vs;if(Math.abs(ln)>=pN||gr>.11){Fu(di.current),(an=f.onDismiss)==null||an.call(f,f),ie(W==="x"?on>0?"right":"left":pr>0?"down":"up"),mr(),j_(!0),Ep(!1);return}wl(!1),Z(null)},onPointerMove:ae=>{var _e,Te,an,on;if(!hi.current||!ui||((_e=window.getSelection())==null?void 0:_e.toString().length)>0)return;let pr=ae.clientY-hi.current.y,vs=ae.clientX-hi.current.x,ln=(Te=e.swipeDirections)!=null?Te:yN(le);!W&&(Math.abs(vs)>1||Math.abs(pr)>1)&&Z(Math.abs(vs)>Math.abs(pr)?"x":"y");let gr={x:0,y:0};W==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&pr<0||ln.includes("bottom")&&pr>0)&&(gr.y=pr):W==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&vs<0||ln.includes("right")&&vs>0)&&(gr.x=vs),(Math.abs(gr.x)>0||Math.abs(gr.y)>0)&&Ep(!0),(an=ys.current)==null||an.style.setProperty("--swipe-amount-x",`${gr.x}px`),(on=ys.current)==null||on.style.setProperty("--swipe-amount-y",`${gr.y}px`)}},R_&&!f.jsx?I.createElement("button",{"aria-label":$,"data-disabled":Bu,"data-close-button":!0,onClick:Bu||!ui?()=>{}:()=>{var ae;mr(),(ae=f.onDismiss)==null||ae.call(f,f)},className:un(R==null?void 0:R.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=U==null?void 0:U.close)!=null?i:tN):null,f.jsx||b.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:I.createElement(I.Fragment,null,Ht||f.icon||f.promise?I.createElement("div",{"data-icon":"",className:un(R==null?void 0:R.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||M_():null,f.type!=="loading"?f.icon||(U==null?void 0:U[Ht])||GC(Ht):null):null,I.createElement("div",{"data-content":"",className:un(R==null?void 0:R.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},I.createElement("div",{"data-title":"",className:un(R==null?void 0:R.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?I.createElement("div",{"data-description":"",className:un(J,A_,R==null?void 0:R.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),b.isValidElement(f.cancel)?f.cancel:f.cancel&&Fl(f.cancel)?I.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||E,onClick:ae=>{var _e,Te;Fl(f.cancel)&&ui&&((Te=(_e=f.cancel).onClick)==null||Te.call(_e,ae),mr())},className:un(R==null?void 0:R.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,b.isValidElement(f.action)?f.action:f.action&&Fl(f.action)?I.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||z,onClick:ae=>{var _e,Te;Fl(f.action)&&((Te=(_e=f.action).onClick)==null||Te.call(_e,ae),!ae.defaultPrevented&&mr())},className:un(R==null?void 0:R.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function fy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function wN(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",l=i?hN:dN;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var xN=b.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:f,visibleToasts:v=uN,toastOptions:w,dir:_=fy(),gap:g=mN,loadingIcon:y,icons:p,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:S}=e,[j,P]=I.useState([]),N=I.useMemo(()=>Array.from(new Set([r].concat(j.filter(T=>T.position).map(T=>T.position)))),[j,r]),[k,E]=I.useState([]),[z,L]=I.useState(!1),[J,F]=I.useState(!1),[le,A]=I.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=I.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=I.useRef(null),U=I.useRef(!1),$=I.useCallback(T=>{P(W=>{var Z;return(Z=W.find(V=>V.id===T.id))!=null&&Z.delete||Pt.dismiss(T.id),W.filter(({id:V})=>V!==T.id)})},[]);return I.useEffect(()=>Pt.subscribe(T=>{if(T.dismiss){P(W=>W.map(Z=>Z.id===T.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{uk.flushSync(()=>{P(W=>{let Z=W.findIndex(V=>V.id===T.id);return Z!==-1?[...W.slice(0,Z),{...W[Z],...T},...W.slice(Z+1)]:[T,...W]})})})}),[]),I.useEffect(()=>{if(d!=="system"){A(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:W})=>{A(W?"dark":"light")})}catch{T.addListener(({matches:Z})=>{try{A(Z?"dark":"light")}catch(V){console.error(V)}})}},[d]),I.useEffect(()=>{j.length<=1&&L(!1)},[j]),I.useEffect(()=>{let T=W=>{var Z,V;s.every(ie=>W[ie]||W.code===ie)&&(L(!0),(Z=Y.current)==null||Z.focus()),W.code==="Escape"&&(document.activeElement===Y.current||(V=Y.current)!=null&&V.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[s]),I.useEffect(()=>{if(Y.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,U.current=!1)}},[Y.current]),I.createElement("section",{ref:t,"aria-label":`${x} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((T,W)=>{var Z;let[V,ie]=T.split("-");return j.length?I.createElement("ol",{key:T,dir:_==="auto"?fy():_,tabIndex:-1,ref:Y,className:l,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":V,"data-lifted":z&&j.length>1&&!i,"data-x-position":ie,style:{"--front-toast-height":`${((Z=k[0])==null?void 0:Z.height)||0}px`,"--width":`${fN}px`,"--gap":`${g}px`,...f,...wN(c,u)},onBlur:se=>{U.current&&!se.currentTarget.contains(se.relatedTarget)&&(U.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||U.current||(U.current=!0,R.current=se.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{J||L(!1)},onDragEnd:()=>L(!1),onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},j.filter(se=>!se.position&&W===0||se.position===T).map((se,yt)=>{var Ct,Dn;return I.createElement(vN,{key:se.id,icons:p,index:yt,toast:se,defaultRichColors:h,duration:(Ct=w==null?void 0:w.duration)!=null?Ct:m,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:v,closeButton:(Dn=w==null?void 0:w.closeButton)!=null?Dn:a,interacting:J,position:T,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:$,toasts:j.filter(Mt=>Mt.position==se.position),heights:k.filter(Mt=>Mt.position==se.position),setHeights:E,expandByDefault:i,gap:g,loadingIcon:y,expanded:z,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});function wu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function bN(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function l(d){try{u(r.next(d))}catch(h){a(h)}}function c(d){try{u(r.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}const _N=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Dm extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class SN extends Dm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class my extends Dm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class py extends Dm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tf||(tf={}));class jN{constructor(t,{headers:n={},customFetch:r,region:s=tf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=_N(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return bN(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=r;let m={},{region:f}=r;f||(f=this.region);const v=new URL(`${this.url}/${n}`);f&&f!=="any"&&(m["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let w;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(m["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(m["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let _=d;h&&(a=new AbortController,i=setTimeout(()=>a.abort(),h),d?(_=a.signal,d.addEventListener("abort",()=>a.abort())):_=a.signal);const g=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:w,signal:_}).catch(S=>{throw new SN(S)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new my(g);if(!g.ok)throw new py(g);let p=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return p==="application/json"?x=yield g.json():p==="application/octet-stream"||p==="application/pdf"?x=yield g.blob():p==="text/event-stream"?x=g:p==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof py||l instanceof my?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var kN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},CN=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,m;if(n.method!=="HEAD"){var f;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const w=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),_=(m=i.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");w&&_&&_.length>1&&(c=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(l=[],a=null,u=200,d="OK")}catch{i.status===404&&w===""?(u=204,d="No Content"):a={message:w}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,d="OK"),a&&n.shouldThrowOnError)throw new kN(a)}return{error:a,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,m;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",w=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${v}`,w&&(l+=` (${w})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},NN=class extends CN{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const gy=new RegExp("[,()]");var _i=class extends NN{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&gy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&gy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},EN=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new _i({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(i.length>0){const a=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new _i({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new _i({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new _i({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new _i({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},PN=class ob{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new EN(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ob(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{c.searchParams.append(h,m)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new _i({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class TN{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AN="2.89.0",RN=`realtime-js/${AN}`,lb="1.0.0",ON="2.0.0",yy=lb,nf=1e4,IN=1e3,zN=100;var kr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(kr||(kr={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yn||(yn={}));var rf;(function(e){e.websocket="websocket"})(rf||(rf={}));var Ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ps||(Ps={}));class MN{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+a.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+m);let v=new DataView(f),w=0;v.setUint8(w++,this.KINDS.userBroadcastPush),v.setUint8(w++,c.length),v.setUint8(w++,l.length),v.setUint8(w++,a.length),v.setUint8(w++,u.length),v.setUint8(w++,h.length),v.setUint8(w++,n),Array.from(c,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(l,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(w++,g.charCodeAt(0))),Array.from(h,g=>v.setUint8(w++,g.charCodeAt(0)));var _=new Uint8Array(f.byteLength+r.byteLength);return _.set(new Uint8Array(f),0),_.set(new Uint8Array(r),f.byteLength),_.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,l,c]=r;return n({join_ref:s,ref:i,topic:a,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const h=r.decode(t.slice(c,c+a));c=c+a;const m=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,v={type:this.BROADCAST_EVENT,event:d,payload:f};return a>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class cb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const vy=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=DN(a,e,t,s),i),{}):{}},DN=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?ub(i,a):sf(a)},ub=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return $N(t,n)}switch(e){case Se.bool:return LN(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return UN(t);case Se.json:case Se.jsonb:return FN(t);case Se.timestamp:return BN(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return sf(t);default:return sf(t)}},sf=e=>e,LN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},$N=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ub(t,l))}return e},BN=e=>typeof e=="string"?e.replace(" ","T"):e,db=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class yd{constructor(t,n,r={},s=nf){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(wy||(wy={}));class oo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oo.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=oo.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=oo.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const m=d.map(_=>_.presence_ref),f=h.map(_=>_.presence_ref),v=d.filter(_=>f.indexOf(_.presence_ref)<0),w=h.filter(_=>m.indexOf(_.presence_ref)<0);v.length>0&&(l[u]=v),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xy||(xy={}));var lo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lo||(lo={}));var Bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bn||(Bn={}));class Ui{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yd(this,yn.join,this.params,this.timeout),this.rejoinTimer=new cb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yn.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new oo(this),this.broadcastEndpointURL=db(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[lo.PRESENCE]&&this.bindings[lo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Bn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Bn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Bn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let y=0;y<_;y++){const p=w[y],{filter:{event:x,schema:S,table:j,filter:P}}=p,N=f&&f[y];if(N&&N.event===x&&Ui.isFilterValueEqual(N.schema,S)&&Ui.isFilterValueEqual(N.table,j)&&Ui.isFilterValueEqual(N.filter,P))g.push(Object.assign(Object.assign({},p),{id:N.id}));else{this.unsubscribe(),this.state=Je.errored,t==null||t(Bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Bn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Je.errored,t==null||t(Bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Je.joined&&t===lo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new yd(this,yn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yd(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>zN){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=yn;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,w,_;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(w=f.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(f=>f.callback(m,r)):(i=this.bindings[a])===null||i===void 0||i.filter(f=>{var v,w,_,g,y,p;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const x=f.id,S=(v=f.filter)===null||v===void 0?void 0:v.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(y=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return x==="*"||x===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:w,table:_,commit_timestamp:g,type:y,errors:p}=v;m=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:y,new:{},old:{},errors:p}),this._getPayloadRecords(v))}f.callback(m,r)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ui.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yn.close,{},t)}_onError(t){this._on(yn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=vy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=vy(t.columns,t.old_record)),n}}const vd=()=>{},$l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},VN=[1e3,2e3,5e3,1e4],qN=1e4,WN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KN{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nf,this.transport=null,this.heartbeatIntervalMs=$l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vd,this.ref=0,this.reconnectTimer=null,this.vsn=yy,this.logger=vd,this.conn=null,this.sendBuffer=[],this.serializer=new MN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${rf.websocket}`,this.httpEndpoint=db(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return Ps.Connecting;case kr.open:return Ps.Open;case kr.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Ui(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},$l.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:a}=n,l=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===kr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===kr.open||this.conn.readyState===kr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(yn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([WN],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:RN};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(yn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new cb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,l,c,u,d,h,m,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:nf,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:$l.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:vd,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:yy,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>VN[v-1]||qN,this.vsn){case lb:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,w)=>w(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,w)=>w(JSON.parse(v));break;case ON:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Lo=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function HN(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function GN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function YN(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const l=HN(e.baseUrl,r,s),c=await GN(e.auth),u=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...a},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?m:void 0,v=f==null?void 0:f.error;throw new Lo((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:m}}}}function Bl(e){return e.join("")}var QN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Bl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bl(e.namespace)}`}),!0}catch(t){if(t instanceof Lo&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Lo&&n.status===409)return;throw n}}};function mi(e){return e.join("")}var JN=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mi(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mi(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Lo&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Lo&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},XN=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=YN({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new QN(this.client,t),this.tableOps=new JN(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},xu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ZN=class extends xu{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},af=class extends xu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Lm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eE=()=>Response,of=e=>{if(Array.isArray(e))return e.map(n=>of(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=of(r)}),t},tE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nE=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function rE(e,t){if(Uo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sE(e){var t=rE(e,"string");return Uo(t)=="symbol"?t:t+""}function iE(e,t,n){return(t=sE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function by(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?by(Object(n),!0).forEach(function(r){iE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const wd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aE=async(e,t,n)=>{e instanceof await eE()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,i=(r==null?void 0:r.statusCode)||s+"";t(new ZN(wd(r),s,i))}).catch(r=>{t(new af(wd(r),r))}):t(new af(wd(e),e))},oE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(tE(r)?(s.headers=te({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),te(te({},s),n))};async function ol(e,t,n,r,s,i){return new Promise((a,l)=>{e(n,oE(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>aE(c,l,r))})}async function Fo(e,t,n,r){return ol(e,"GET",t,n,r)}async function fn(e,t,n,r,s){return ol(e,"POST",t,r,s,n)}async function lf(e,t,n,r,s){return ol(e,"PUT",t,r,s,n)}async function lE(e,t,n,r){return ol(e,"HEAD",t,te(te({},n),{},{noResolveJson:!0}),r)}async function Um(e,t,n,r,s){return ol(e,"DELETE",t,r,s,n)}var cE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}}};let hb;hb=Symbol.toStringTag;var uE=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hb]="BlobDownloadBuilder",this.promise=null}asStream(){return new cE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}}};const dE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_y={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var hE=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Lm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let i;const a=te(te({},_y),r);let l=te(te({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(l=te(te({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?lf:fn)(s.fetch,`${s.url}/object/${d}`,i,te({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let c;const u=te({upsert:_y.upsert},r),d=te(te({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await lf(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(Oe(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=te({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await fn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),l=a.searchParams.get("token");if(!l)throw new xu("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await fn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await fn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),i=await fn(r.fetch,`${r.url}/object/sign/${s}`,te({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await fn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>te(te({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>Fo(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new uE(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:of(await Fo(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await lE(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Oe(r)&&r instanceof af){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await Um(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=te(te(te({},dE),t),{},{prefix:e||""});return{data:await fn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=te({},e);return{data:await fn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const fb="2.89.0",mb={"X-Client-Info":`storage-js/${fb}`};var fE=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=te(te({},mb),t),this.fetch=Lm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Fo(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Fo(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await fn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await lf(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await fn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Um(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=te(te({},mb),t),this.fetch=Lm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await fn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Fo(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Um(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!nE(e))throw new xu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new XN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const Fm={"X-Client-Info":`storage-js/${fb}`,"Content-Type":"application/json"};var pb=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ut(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var xd=class extends pb{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pE=class extends pb{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const $m=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yE=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||r+"";t(new xd(Sy(i),r,a))}).catch(()=>{const i=r+"";t(new xd(s.statusText||`HTTP ${r} error`,r,i))});else{const i=r+"";t(new xd(s.statusText||`HTTP ${r} error`,r,i))}}else t(new pE(Sy(e),e))},vE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(gE(r)?(s.headers=te({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,te(te({},s),n)):s};async function wE(e,t,n,r,s,i){return new Promise((a,l)=>{e(n,vE(t,r,s,i)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>yE(c,l,r))})}async function Ft(e,t,n,r,s){return wE(e,"POST",t,r,s,n)}var xE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=te(te({},Fm),t),this.fetch=$m(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Ft(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Ft(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},bE=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=te(te({},Fm),t),this.fetch=$m(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ft(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ft(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ft(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}},_E=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=te(te({},Fm),t),this.fetch=$m(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Ft(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ut(n))return{data:null,error:n};throw n}}},SE=class extends _E{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new jE(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},jE=class extends xE{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new kE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},kE=class extends bE{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,te(te({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},CE=class extends fE{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new hE(this.url,this.headers,e,this.fetch)}get vectors(){return new SE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mE(this.url+"/iceberg",this.headers,this.fetch)}};const gb="2.89.0",Si=30*1e3,cf=3,bd=cf*Si,NE="http://localhost:9999",EE="supabase.auth.token",PE={"X-Client-Info":`gotrue-js/${gb}`},uf="X-Supabase-Api-Version",yb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AE=10*60*1e3;class $o extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class RE extends $o{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function OE(e){return Q(e)&&e.name==="AuthApiError"}class Ts extends $o{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class fr extends $o{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Dt extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IE(e){return Q(e)&&e.name==="AuthSessionMissingError"}class pi extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vl extends fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ql extends fr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zE(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class jy extends fr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ME extends fr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class df extends fr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function _d(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class ky extends fr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class hf extends fr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cy=` 	
\r=`.split(""),DE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cy.length;t+=1)e[Cy[t].charCodeAt(0)]=-2;for(let t=0;t<Uc.length;t+=1)e[Uc[t].charCodeAt(0)]=t;return e})();function Ny(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Uc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Uc[r]),t.queuedBits-=6}}function vb(e,t,n){const r=DE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ey(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{FE(a,r,n)};for(let a=0;a<e.length;a+=1)vb(e.charCodeAt(a),s,i);return t.join("")}function LE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function UE(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}LE(r,t)}}function FE(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ji(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)vb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function $E(e){const t=[];return UE(e,n=>t.push(n)),new Uint8Array(t)}function zs(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ny(s,n,r)),Ny(null,n,r),t.join("")}function BE(e){return Math.round(Date.now()/1e3)+e}function VE(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",ws={tested:!1,writable:!1},wb=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ws.tested)return ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ws.tested=!0,ws.writable=!0}catch{ws.tested=!0,ws.writable=!1}return ws.writable};function qE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const xb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),WE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ji=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},xs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},it=async(e,t)=>{await e.removeItem(t)};class bu{constructor(){this.promise=new bu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}bu.promiseConstructor=Promise;function Sd(e){const t=e.split(".");if(t.length!==3)throw new hf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!TE.test(t[r]))throw new hf("JWT not in base64url format");return{header:JSON.parse(Ey(t[0])),payload:JSON.parse(Ey(t[1])),signature:Ji(t[2]),raw:{header:t[0],payload:t[1]}}}async function KE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HE(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function GE(e){return("0"+e.toString(16)).substr(-2)}function YE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,GE).join("")}async function QE(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function JE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await QE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(e,t,n=!1){const r=YE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ji(e,`${t}-code-verifier`,s);const i=await JE(r);return[i,r===i?"plain":"s256"]}const XE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZE(e){const t=e.headers.get(uf);if(!t||!t.match(XE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function e2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function t2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const n2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(e){if(!n2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jd(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function r2(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Py(e){return JSON.parse(JSON.stringify(e))}const js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),s2=[502,503,504];async function Ty(e){var t;if(!WE(e))throw new df(js(e),0);if(s2.includes(e.status))throw new df(js(e),e.status);let n;try{n=await e.json()}catch(i){throw new Ts(js(i),i)}let r;const s=ZE(e);if(s&&s.getTime()>=yb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ky(js(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Dt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new ky(js(n),e.status,n.weak_password.reasons);throw new RE(js(n),e.status||500,r)}const i2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ee(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[uf]||(i[uf]=yb["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await a2(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function a2(e,t,n,r,s,i){const a=i2(t,r,s,i);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new df(js(c),0)}if(l.ok||await Ty(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Ty(c)}}function dn(e){var t;let n=null;c2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=BE(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Ay(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function o2(e){return{data:e,error:null}}function l2(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=wu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Ry(e){return e}function c2(e){return e.access_token&&e.refresh_token&&e.expires_in}const kd=["global","local","others"];class u2{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=xb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=kd[0]){if(kd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kd.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ar})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=wu(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:l2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ar})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ry});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){yi(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ar})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yi(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ar})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){yi(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ar})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){yi(t.userId);try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yi(t.userId),yi(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ry});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Oy(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const vi={debug:!!(globalThis&&wb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class d2 extends bb{}async function h2(e,t,n){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new d2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function f2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _b(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function m2(e){return parseInt(e,16)}function p2(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function g2(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=_b(e.address),v=d?`${d}://${r}`:r,w=e.statement?`${e.statement}
`:"",_=`${v} wants you to sign in with your Ethereum account:
${f}

${w}`;let g=`URI: ${h}
Version: ${m}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const p of u){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);y+=`
- ${p}`}g+=y}return`${_}
${g}`}class Ye extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Fc extends Ye{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function y2({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ye({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ye({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ye({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ye({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ye({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ye({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ye({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Sb(a)){if(i.rp.id!==a)return new Ye({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ye({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function v2({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ye({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ye({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Sb(r)){if(n.rpId!==r)return new Ye({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ye({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ye({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ye({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class w2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const x2=new w2;function b2(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=wu(e,["challenge","user","excludeCredentials"]),i=Ji(t).buffer,a=Object.assign(Object.assign({},n),{id:Ji(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ji(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function _2(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=wu(e,["challenge","allowCredentials"]),s=Ji(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const l=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Ji(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function S2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zs(new Uint8Array(e.response.attestationObject)),clientDataJSON:zs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function j2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zs(new Uint8Array(s.authenticatorData)),clientDataJSON:zs(new Uint8Array(s.clientDataJSON)),signature:zs(new Uint8Array(s.signature)),userHandle:s.userHandle?zs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Sb(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Iy(){var e,t;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function k2(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fc("Browser returned unexpected credential type",t)}:{data:null,error:new Fc("Empty credential response",t)}}catch(t){return{data:null,error:y2({error:t,options:e})}}}async function C2(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fc("Browser returned unexpected credential type",t)}:{data:null,error:new Fc("Empty credential response",t)}}catch(t){return{data:null,error:v2({error:t,options:e})}}}const N2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},E2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $c(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const l=r[i];t(l)?r[i]=$c(l,a):r[i]=$c(a)}else r[i]=a}return r}function P2(e,t){return $c(N2,e,t||{})}function T2(e,t){return $c(E2,e,t||{})}class A2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:l};const c=s??x2.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=P2(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await k2({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=T2(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await C2(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Ts("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new $o("rpId is required for WebAuthn authentication")};try{if(!Iy())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Ts("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new $o("rpId is required for WebAuthn registration")};try{if(!Iy())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Ts("Unexpected error in register",a)}}}}f2();const R2={url:NE,storageKey:EE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zy(e,t,n){return await n()}const wi={};class Bo{get jwks(){var t,n;return(n=(t=wi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=wi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},R2),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Bo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Bo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&at()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new u2({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xb(i.fetch),this.lock=i.lock||zy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&at()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=h2:this.lock=zy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:wb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Oy(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Oy(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gb}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(at()&&(n=qE(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),at()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zE(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Ts("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:dn}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await gi(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:v},xform:dn})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:dn})}else throw new Vl("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await it(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:l}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ay})}else if("phone"in t){const{phone:i,password:a,options:l}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ay})}else throw new Vl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new pi;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,l,c,u,d,h,m;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:w,wallet:_,statement:g,options:y}=t;let p;if(at())if(typeof _=="object")p=_;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")p=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=_}const x=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),S=await p.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=_b(S[0]);let P=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const k=await p.request({method:"eth_chainId"});P=m2(k)}const N={domain:x.host,address:j,statement:g,uri:x.href,version:"1",chainId:P,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=g2(N),v=await p.request({method:"personal_sign",params:[p2(f),j]})}try{const{data:w,error:_}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:dn});if(_)throw _;if(!w||!w.session||!w.user){const g=new pi;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(Q(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,i,a,l,c,u,d,h,m,f;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:_,wallet:g,statement:y,options:p}=t;let x;if(at())if(typeof g=="object")x=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))x=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const j=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let P;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")P=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)P=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)v=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),w=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const j=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:_,error:g}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:zs(w)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:dn});if(g)throw g;if(!_||!_.session||!_.user){const y=new pi;return this._returnResult({data:{user:null,session:null},error:y})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(Q(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const n=await xs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new ME;const{data:i,error:a}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:dn});if(await it(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new pi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,l=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:dn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new pi;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await gi(this.storage,this.storageKey));const{error:h}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Vl("You must provide either an email or phone number.")}catch(l){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await gi(this.storage,this.storageKey));const u=await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:o2});return!((i=u.data)===null||i===void 0)&&i.url&&at()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Dt;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Q(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:l}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Vl("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<bd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await xs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=jd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=r2(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ar}):await this._useSession(async n=>{var r,s,i;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ar})})}catch(n){if(Q(n))return IE(n)&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Dt;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await gi(this.storage,this.storageKey));const{data:u,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ar});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Sd(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Dt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!at())throw new ql("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ql(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new jy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ql("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jy("No code detected.");const{data:y,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new ql("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const f=m-d;f*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=m-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(Q(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(OE(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await it(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=VE(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await gi(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return at()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Q(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:l,token:c,access_token:u,nonce:d}=t,h=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dn}),{data:m,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new pi}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(s){if(await it(this.storage,`${this.storageKey}-code-verifier`),Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await HE(async s=>(s>0&&await KE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&_d(i)&&Date.now()+a-r<Si})}catch(r){if(this._debug(n,"error",r),Q(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),at()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await xs(this.storage,this.storageKey);if(s&&this.userStorage){let a=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await ji(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:jd()}else if(s&&!s.user&&!s.user){const a=await xs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await it(this.storage,this.storageKey+"-user"),await ji(this.storage,this.storageKey,s)):s.user=jd()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bd;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${bd}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),_d(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bu;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Q(i)){const a={data:null,error:i};return _d(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await it(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ji(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Py(s);await ji(this.storage,this.storageKey,i)}else{const s=Py(n);await ji(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await it(this.storage,this.storageKey),await it(this.storage,this.storageKey+"-code-verifier"),await it(this.storage,this.storageKey+"-user"),this.userStorage&&await it(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Si}ms, refresh threshold is ${cf} ticks`),s<=cf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await gi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?S2(t.webauthn.credential_response):j2(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:b2(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_2(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Sd(r.access_token);let a=null;i.aal&&(a=i.aal);let l=a;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Dt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Dt});const a=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&at()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Dt});const a=await ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&at()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Dt})})}catch(t){if(Q(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Dt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+AE>s)return r;const{data:i,error:a}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});r=f.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=Sd(r);n!=null&&n.allowExpired||e2(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:s,signature:a},error:null}}const d=t2(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,$E(`${l}.${c}`)))throw new hf("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}}Bo.nextInstanceID={};const O2=Bo,I2="2.89.0";let Ya="";typeof Deno<"u"?Ya="deno":typeof document<"u"?Ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ya="react-native":Ya="node";const z2={"X-Client-Info":`supabase-js-${Ya}/${I2}`},M2={headers:z2},D2={schema:"public"},L2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U2={};function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function F2(e,t){if(Vo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $2(e){var t=F2(e,"string");return Vo(t)=="symbol"?t:t+""}function B2(e,t,n){return(t=$2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function My(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?My(Object(n),!0).forEach(function(r){B2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const V2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),q2=()=>Headers,W2=(e,t,n)=>{const r=V2(n),s=q2();return async(i,a)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Fe(Fe({},a),{},{headers:u}))}};function K2(e){return e.endsWith("/")?e:e+"/"}function H2(e,t){var n,r;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,m={db:Fe(Fe({},c),s),auth:Fe(Fe({},u),i),realtime:Fe(Fe({},d),a),storage:{},global:Fe(Fe(Fe({},h),l),{},{headers:Fe(Fe({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function G2(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(K2(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Y2=class extends O2{constructor(e){super(e)}},Q2=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=G2(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:D2,realtime:U2,auth:Fe(Fe({},L2),{},{storageKey:a}),global:M2},c=H2(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=W2(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new PN(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new CE(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new jN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:l,debug:c,throwOnError:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y2({url:this.authUrl.href,headers:Fe(Fe({},m),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new KN(this.realtimeUrl.href,Fe(Fe({},e),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const J2=(e,t,n)=>new Q2(e,t,n);function X2(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}X2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Z2="https://oklvibwcnmockkmoloxt.supabase.co",eP="sb_publishable_2TCUtnxjadhY4iFpm2s9Zw_ho7K9Nqo",oe=J2(Z2,eP);async function jb(){var e,t,n,r,s,i,a,l;try{const{data:{user:c},error:u}=await oe.auth.getUser();if(u||!c)return null;const{data:d}=await oe.from("users").select("*").eq("email",c.email).single();return d?{id:c.id,email:c.email,full_name:d.full_name||((e=c.user_metadata)==null?void 0:e.full_name)||c.email.split("@")[0],username:d.username||((t=c.user_metadata)==null?void 0:t.preferred_username)||c.email.split("@")[0],avatar_url:d.avatar_url||((n=c.user_metadata)==null?void 0:n.avatar_url)||((r=c.user_metadata)==null?void 0:r.picture),bio:d.bio||"",website:d.website||""}:{id:c.id,email:c.email,full_name:((s=c.user_metadata)==null?void 0:s.full_name)||c.email.split("@")[0],username:((i=c.user_metadata)==null?void 0:i.preferred_username)||c.email.split("@")[0],avatar_url:((a=c.user_metadata)==null?void 0:a.avatar_url)||((l=c.user_metadata)==null?void 0:l.picture),bio:"",website:""}}catch(c){return console.error("Error getting current user:",c),null}}async function cc(e){var i,a,l,c;const{data:{user:t}}=await oe.auth.getUser();if(!t)return null;const n={email:t.email,full_name:e.full_name||((i=t.user_metadata)==null?void 0:i.full_name)||t.email.split("@")[0],username:e.username||((a=t.user_metadata)==null?void 0:a.preferred_username)||t.email.split("@")[0],avatar_url:e.avatar_url||((l=t.user_metadata)==null?void 0:l.avatar_url)||((c=t.user_metadata)==null?void 0:c.picture),bio:e.bio||"",website:e.website||"",updated_at:new Date().toISOString()},{data:r,error:s}=await oe.from("users").upsert({email:t.email,...n},{onConflict:"email"}).select().single();return s?(console.error("Error upserting user profile:",s),null):r}const va=Object.freeze(Object.defineProperty({__proto__:null,getCurrentUser:jb,supabase:oe,upsertUserProfile:cc},Symbol.toStringTag,{value:"Module"})),kb=b.createContext(null);function tP({children:e}){const[t,n]=b.useState(!0),r=ps(),{data:s,isLoading:i}=Ae({queryKey:["auth_user"],queryFn:jb,staleTime:5*60*1e3});b.useEffect(()=>{n(i);const{data:{subscription:l}}=oe.auth.onAuthStateChange(async(c,u)=>{var d,h,m,f;c==="SIGNED_IN"||c==="TOKEN_REFRESHED"?(r.invalidateQueries(["auth_user"]),u!=null&&u.user&&await cc({email:u.user.email,full_name:(d=u.user.user_metadata)==null?void 0:d.full_name,username:(h=u.user.user_metadata)==null?void 0:h.preferred_username,avatar_url:((m=u.user.user_metadata)==null?void 0:m.avatar_url)||((f=u.user.user_metadata)==null?void 0:f.picture)})):c==="SIGNED_OUT"&&r.setQueryData(["auth_user"],null)});return()=>{l.unsubscribe()}},[i,r]);const a={user:s,loading:t,signIn:async(l,c)=>{const{data:u,error:d}=await oe.auth.signInWithPassword({email:l,password:c});if(d)throw d;return u},signUp:async(l,c,u,d)=>{const{data:h,error:m}=await oe.auth.signUp({email:l,password:c,options:{data:{full_name:u,preferred_username:d}}});if(m)throw m;return h.user&&await cc({email:h.user.email,full_name:u,username:d}),h},signInWithGoogle:async()=>{const{data:l,error:c}=await oe.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(c)throw c;return l},signInWithFacebook:async()=>{const{data:l,error:c}=await oe.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:`${window.location.origin}/`}});if(c)throw c;return l},signInWithGitHub:async()=>{const{data:l,error:c}=await oe.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}/`}});if(c)throw c;return l},signInWithDiscord:async()=>{const{data:l,error:c}=await oe.auth.signInWithOAuth({provider:"discord",options:{redirectTo:`${window.location.origin}/`}});if(c)throw c;return l},signOut:async()=>{const{error:l}=await oe.auth.signOut();if(l)throw l;r.setQueryData(["auth_user"],null),window.location.href="/"},updateProfile:async l=>{const c=await cc(l);return c&&r.invalidateQueries(["auth_user"]),c}};return o.jsx(kb.Provider,{value:a,children:e})}function ll(){const e=b.useContext(kb);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Cb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Cb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nP(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Cb(e))&&(r&&(r+=" "),r+=t);return r}const Bm="-",rP=e=>{const t=iP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Bm);return l[0]===""&&l.length!==1&&l.shift(),Nb(l,t)||sP(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},Nb=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Nb(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Bm);return(a=t.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},Dy=/^\[(.+)\]$/,sP=e=>{if(Dy.test(e)){const t=Dy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},iP=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return oP(Object.entries(e.classGroups),n).forEach(([i,a])=>{ff(a,r,i,t)}),r},ff=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ly(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(aP(s)){ff(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{ff(a,Ly(t,i),n,r)})})},Ly=(e,t)=>{let n=e;return t.split(Bm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aP=e=>e.isThemeGetter,oP=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[t+a,l])):i);return[n,s]}):e,lP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},Eb="!",cP=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,a=l=>{const c=[];let u=0,d=0,h;for(let _=0;_<l.length;_++){let g=l[_];if(u===0){if(g===s&&(r||l.slice(_,_+i)===t)){c.push(l.slice(d,_)),d=_+i;continue}if(g==="/"){h=_;continue}}g==="["?u++:g==="]"&&u--}const m=c.length===0?l:l.substring(d),f=m.startsWith(Eb),v=f?m.substring(1):m,w=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:a}):a},uP=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dP=e=>({cache:lP(e.cacheSize),parseClassName:cP(e),...rP(e)}),hP=/\s+/,fP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(hP);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=n(u);let v=!!f,w=r(v?m.substring(0,f):m);if(!w){if(!v){l=u+(l.length>0?" "+l:l);continue}if(w=r(m),!w){l=u+(l.length>0?" "+l:l);continue}v=!1}const _=uP(d).join(":"),g=h?_+Eb:_,y=g+w;if(i.includes(y))continue;i.push(y);const p=s(w,v);for(let x=0;x<p.length;++x){const S=p[x];i.push(g+S)}l=u+(l.length>0?" "+l:l)}return l};function mP(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Pb(t))&&(r&&(r+=" "),r+=n);return r}const Pb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Pb(e[r]))&&(n&&(n+=" "),n+=t);return n};function pP(e,...t){let n,r,s,i=a;function a(c){const u=t.reduce((d,h)=>h(d),e());return n=dP(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=fP(c,n);return s(c,d),d}return function(){return i(mP.apply(null,arguments))}}const Ne=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Tb=/^\[(?:([a-z-]+):)?(.+)\]$/i,gP=/^\d+\/\d+$/,yP=new Set(["px","full","screen"]),vP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_P=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ln=e=>Xi(e)||yP.has(e)||gP.test(e),vr=e=>Na(e,"length",TP),Xi=e=>!!e&&!Number.isNaN(Number(e)),Cd=e=>Na(e,"number",Xi),La=e=>!!e&&Number.isInteger(Number(e)),SP=e=>e.endsWith("%")&&Xi(e.slice(0,-1)),ce=e=>Tb.test(e),wr=e=>vP.test(e),jP=new Set(["length","size","percentage"]),kP=e=>Na(e,jP,Ab),CP=e=>Na(e,"position",Ab),NP=new Set(["image","url"]),EP=e=>Na(e,NP,RP),PP=e=>Na(e,"",AP),Ua=()=>!0,Na=(e,t,n)=>{const r=Tb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},TP=e=>wP.test(e)&&!xP.test(e),Ab=()=>!1,AP=e=>bP.test(e),RP=e=>_P.test(e),OP=()=>{const e=Ne("colors"),t=Ne("spacing"),n=Ne("blur"),r=Ne("brightness"),s=Ne("borderColor"),i=Ne("borderRadius"),a=Ne("borderSpacing"),l=Ne("borderWidth"),c=Ne("contrast"),u=Ne("grayscale"),d=Ne("hueRotate"),h=Ne("invert"),m=Ne("gap"),f=Ne("gradientColorStops"),v=Ne("gradientColorStopPositions"),w=Ne("inset"),_=Ne("margin"),g=Ne("opacity"),y=Ne("padding"),p=Ne("saturate"),x=Ne("scale"),S=Ne("sepia"),j=Ne("skew"),P=Ne("space"),N=Ne("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ce,t],L=()=>[ce,t],J=()=>["",Ln,vr],F=()=>["auto",Xi,ce],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ce],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Xi,ce];return{cacheSize:500,separator:":",theme:{colors:[Ua],spacing:[Ln,vr],blur:["none","",wr,ce],brightness:$(),borderColor:[e],borderRadius:["none","","full",wr,ce],borderSpacing:L(),borderWidth:J(),contrast:$(),grayscale:R(),hueRotate:$(),invert:R(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[SP,vr],inset:z(),margin:z(),opacity:$(),padding:L(),saturate:$(),scale:$(),sepia:R(),skew:$(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[wr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),ce]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",La,ce]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",La,ce]}],"grid-cols":[{"grid-cols":[Ua]}],"col-start-end":[{col:["auto",{span:["full",La,ce]},ce]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Ua]}],"row-start-end":[{row:["auto",{span:[La,ce]},ce]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,t]}],"min-w":[{"min-w":[ce,t,"min","max","fit"]}],"max-w":[{"max-w":[ce,t,"none","full","min","max","fit","prose",{screen:[wr]},wr]}],h:[{h:[ce,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wr,vr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cd]}],"font-family":[{font:[Ua]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Xi,Cd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ln,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln,vr]}],"underline-offset":[{"underline-offset":["auto",Ln,ce]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),CP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",kP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Ln,ce]}],"outline-w":[{outline:[Ln,vr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Ln,vr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wr,PP]}],"shadow-color":[{shadow:[Ua]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[p]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[p]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[La,ce]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ln,vr,Cd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},IP=pP(OP);function We(e){const t="/";return e.includes("?")?`${t}${e}`:`${t}${e.toLowerCase()}`}function ye(...e){return IP(nP(e))}const B=b.forwardRef(({className:e,variant:t="default",size:n="default",...r},s)=>{const i={default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},a={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return o.jsx("button",{className:ye("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i[t],a[n],e),ref:s,...r})});B.displayName="Button";const Vm=b.createContext(),zP=({children:e,open:t,onOpenChange:n})=>{const[r,s]=b.useState(t||!1),i=t!==void 0?t:r,a=n||s;return b.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),o.jsx(Vm.Provider,{value:{open:i,onOpenChange:a},children:e})},Rb=b.forwardRef(({asChild:e,children:t,...n},r)=>{const{onOpenChange:s}=b.useContext(Vm);return e?b.cloneElement(t,{...n,onClick:()=>s(!0)}):o.jsx("button",{ref:r,onClick:()=>s(!0),...n,children:t})});Rb.displayName="SheetTrigger";const Ob=b.forwardRef(({className:e,children:t,side:n="right",...r},s)=>{const{open:i,onOpenChange:a}=b.useContext(Vm);if(!i)return null;const l={right:"inset-y-0 right-0 border-l",left:"inset-y-0 left-0 border-r",top:"inset-x-0 top-0 border-b",bottom:"inset-x-0 bottom-0 border-t"};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40 bg-black/50",onClick:()=>a(!1)}),o.jsx("div",{ref:s,className:ye("fixed z-50 bg-background p-6 shadow-lg transition-transform",l[n],e),...r,children:t})]})});Ob.displayName="SheetContent";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...MP,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${DP(e)}`,l].join(" "),...u},[...t.map(([h,m])=>b.createElement(h,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=G("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=G("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=G("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=G("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=G("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=G("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=G("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=G("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=G("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=G("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=G("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=G("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=G("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=G("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=G("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=G("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=G("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=G("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=G("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=G("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=G("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=G("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=G("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=G("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=G("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=G("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),_u=b.createContext(),mT=({children:e})=>{const[t,n]=b.useState(!1);return o.jsx(_u.Provider,{value:{open:t,setOpen:n},children:o.jsx("div",{className:"relative",children:e})})},$b=b.forwardRef(({asChild:e,children:t,...n},r)=>{const{setOpen:s}=b.useContext(_u);return e?b.cloneElement(t,{...n,onClick:()=>s(!0)}):o.jsx("button",{ref:r,onClick:()=>s(!0),...n,children:t})});$b.displayName="DropdownMenuTrigger";const Bb=b.forwardRef(({className:e,align:t="start",children:n,...r},s)=>{const{open:i,setOpen:a}=b.useContext(_u);if(!i)return null;const l={start:"left-0",end:"right-0",center:"left-1/2 -translate-x-1/2"};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),o.jsx("div",{ref:s,className:ye("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",l[t],e),...r,children:n})]})});Bb.displayName="DropdownMenuContent";const Qa=b.forwardRef(({className:e,...t},n)=>{const{setOpen:r}=b.useContext(_u);return o.jsx("div",{ref:n,onClick:s=>{var i;t.onClick||r(!1),(i=t.onClick)==null||i.call(t,s)},className:ye("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t})});Qa.displayName="DropdownMenuItem";const yf=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));yf.displayName="DropdownMenuSeparator";function pT({children:e,currentPageName:t}){var u,d,h,m;const[n,r]=b.useState(!1),{user:s,signOut:i}=ll(),a=hr(),l=[{name:"Create",icon:Bc,label:"Create"},{name:"Blenderstorm",icon:ts,label:"Blenderstorm"},{name:"Explore",icon:KP,label:"Explore"},{name:"MyAddons",icon:es,label:"My Addons"},{name:"Debug",icon:Gs,label:"Debug"}],c=async()=>{await i()};return o.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[o.jsx("nav",{className:"sticky top-0 z-50 bg-zinc-950/80 backdrop-blur-xl border-b border-zinc-800",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs(Be,{to:We("Home"),className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:o.jsx(ts,{className:"w-4 h-4 text-white"})}),o.jsx("span",{className:"text-lg font-bold text-white",children:"BlenderAI"})]}),o.jsx("div",{className:"hidden md:flex items-center gap-1",children:l.map(f=>o.jsx(Be,{to:We(f.name),children:o.jsxs(B,{variant:"ghost",className:`text-zinc-400 hover:text-white hover:bg-zinc-800 ${t===f.name?"text-white bg-zinc-800":""}`,children:[o.jsx(f.icon,{className:"w-4 h-4 mr-2"}),f.label]})},f.name))}),o.jsxs("div",{className:"flex items-center gap-3",children:[s?o.jsxs(mT,{children:[o.jsx($b,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:"text-zinc-300 hover:text-white hover:bg-zinc-800",children:[o.jsx("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white text-sm font-medium mr-2",children:((d=(u=s.full_name)==null?void 0:u[0])==null?void 0:d.toUpperCase())||((m=(h=s.email)==null?void 0:h[0])==null?void 0:m.toUpperCase())||"U"}),o.jsx("span",{className:"hidden sm:inline",children:s.full_name||"User"}),o.jsx(qm,{className:"w-4 h-4 ml-1 text-zinc-500"})]})}),o.jsxs(Bb,{align:"end",className:"bg-zinc-900 border-zinc-800 w-48",children:[o.jsxs(Qa,{className:"text-zinc-400 focus:text-white focus:bg-zinc-800",children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),(s==null?void 0:s.email)||"User"]}),o.jsx(yf,{className:"bg-zinc-800"}),(s==null?void 0:s.username)&&o.jsx(Be,{to:We(`Profile?username=${s.username}`),children:o.jsxs(Qa,{className:"text-zinc-400 focus:text-white focus:bg-zinc-800 cursor-pointer",children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"My Profile"]})}),o.jsx(Be,{to:We("Settings"),children:o.jsxs(Qa,{className:"text-zinc-400 focus:text-white focus:bg-zinc-800 cursor-pointer",children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Settings"]})}),o.jsx(yf,{className:"bg-zinc-800"}),o.jsxs(Qa,{onClick:c,className:"text-red-400 focus:text-red-300 focus:bg-zinc-800",children:[o.jsx(eT,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}):o.jsx(B,{onClick:()=>a("/login"),className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Sign In"}),o.jsxs(zP,{open:n,onOpenChange:r,children:[o.jsx(Rb,{asChild:!0,className:"md:hidden",children:o.jsx(B,{variant:"ghost",size:"icon",className:"text-zinc-400",children:o.jsx(tT,{className:"w-5 h-5"})})}),o.jsx(Ob,{side:"right",className:"bg-zinc-900 border-zinc-800 w-64",children:o.jsx("div",{className:"flex flex-col gap-2 mt-8",children:l.map(f=>o.jsx(Be,{to:We(f.name),onClick:()=>r(!1),children:o.jsxs(B,{variant:"ghost",className:`w-full justify-start text-zinc-400 hover:text-white hover:bg-zinc-800 ${t===f.name?"text-white bg-zinc-800":""}`,children:[o.jsx(f.icon,{className:"w-4 h-4 mr-2"}),f.label]})},f.name))})})]})]})]})})}),o.jsx("main",{children:e}),o.jsx("footer",{className:"border-t border-zinc-800 bg-zinc-950",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:o.jsx(ts,{className:"w-3 h-3 text-white"})}),o.jsx("span",{className:"text-zinc-400 text-sm",children:"BlenderAI Addon Creator"})]}),o.jsx("div",{className:"text-zinc-500 text-sm",children:"Create amazing Blender addons with AI"})]})})})]})}function xi({children:e}){const{user:t,loading:n}=ll(),r=ms();return n?o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})}):t?e:o.jsx(tC,{to:"/login",state:{from:r},replace:!0})}const gT="modulepreload",yT=function(e){return"/"+e},Wy={},sn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=yT(c),c in Wy)return;Wy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":gT,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function jn({data:e,error:t}){var n;if(t){if(t.code==="PGRST116"||(n=t.message)!=null&&n.includes("does not exist"))return console.warn("Supabase table not found, returning empty array. Make sure you ran the SQL schema."),[];throw console.error("Supabase error:",t),t}return e||[]}function Un(e,t,n,r){let s=oe.from(e).select("*");if(t&&Object.keys(t).forEach(i=>{t[i]!==void 0&&(i==="is_published"||i==="is_free"||i==="is_default"||i==="is_current"?s=s.eq(i,t[i]):i==="id"?s=s.eq("id",t[i]):s=s.eq(i,t[i]))}),n){const i=n.startsWith("-"),a=i?n.substring(1):n;s=s.order(a,{ascending:!i})}else s=s.order("created_at",{ascending:!1});return r&&(s=s.limit(r)),s}const fe={Addon:{create:async e=>{const{data:t,error:n}=await oe.from("addons").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("addons").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n},delete:async e=>{const{error:t}=await oe.from("addons").delete().eq("id",e);if(t)throw t;return{id:e}},list:async()=>{const{data:e,error:t}=await oe.from("addons").select("*").order("created_at",{ascending:!1});return jn({data:e,error:t})},filter:async(e,t,n)=>{const r=Un("addons",e,t,n),{data:s,error:i}=await r;return jn({data:s,error:i})}},AddonVersion:{create:async e=>{const{data:t,error:n}=await oe.from("addon_versions").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("addon_versions").update(t).eq("id",e).select().single();if(r)throw r;return n},filter:async(e,t,n)=>{const r=Un("addon_versions",e,t,n),{data:s,error:i}=await r;return jn({data:s,error:i})}},Rating:{create:async e=>{const{data:t}=await oe.from("ratings").select("id").eq("addon_id",e.addon_id).eq("user_email",e.user_email).single();if(t){const{data:n,error:r}=await oe.from("ratings").update({rating:e.rating,comment:e.comment||null,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();if(r)throw r;return n}else{const{data:n,error:r}=await oe.from("ratings").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return n}},update:async(e,t)=>{const{data:n,error:r}=await oe.from("ratings").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n},delete:async e=>{const{error:t}=await oe.from("ratings").delete().eq("id",e);if(t)throw t;return{id:e}},filter:async e=>{const t=Un("ratings",e),{data:n,error:r}=await t;return jn({data:n,error:r})},getAverageRating:async e=>{const{data:t,error:n}=await oe.from("ratings").select("rating").eq("addon_id",e);if(n||!t||t.length===0)return 0;const r=t.reduce((s,i)=>s+i.rating,0);return parseFloat((r/t.length).toFixed(1))},getRatingCount:async e=>{const{count:t,error:n}=await oe.from("ratings").select("*",{count:"exact",head:!0}).eq("addon_id",e);return n?0:t||0}},Purchase:{create:async e=>{const{data:t,error:n}=await oe.from("purchases").insert([{...e,purchased_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},filter:async e=>{const t=Un("purchases",e),{data:n,error:r}=await t;return jn({data:n,error:r})}},PaymentMethod:{create:async e=>{const{data:t,error:n}=await oe.from("payment_methods").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("payment_methods").update(t).eq("id",e).select().single();if(r)throw r;return n},delete:async e=>{const{error:t}=await oe.from("payment_methods").delete().eq("id",e);if(t)throw t;return{id:e}},filter:async e=>{const t=Un("payment_methods",e),{data:n,error:r}=await t;return jn({data:n,error:r})}},Transaction:{create:async e=>{const{data:t,error:n}=await oe.from("transactions").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},filter:async(e,t,n)=>{const r=Un("transactions",e,t,n),{data:s,error:i}=await r;return jn({data:s,error:i})}},Payout:{create:async e=>{const{data:t,error:n}=await oe.from("payouts").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("payouts").update(t).eq("id",e).select().single();if(r)throw r;return n},filter:async(e,t,n)=>{const r=Un("payouts",e,t,n),{data:s,error:i}=await r;return jn({data:s,error:i})}},ApiKey:{get:async(e,t)=>{const{data:n,error:r}=await oe.from("api_keys").select("*").eq("user_email",e).eq("key_type",t).single();if(r&&r.code!=="PGRST116")throw r;return(n==null?void 0:n.key_value)||null},set:async(e,t,n)=>{const{data:r,error:s}=await oe.from("api_keys").upsert({user_email:e,key_type:t,key_value:n,updated_at:new Date().toISOString()},{onConflict:"user_email,key_type"}).select().single();if(s)throw s;return r},delete:async(e,t)=>{const{error:n}=await oe.from("api_keys").delete().eq("user_email",e).eq("key_type",t);if(n)throw n;return{success:!0}}},Idea:{create:async e=>{const{data:t,error:n}=await oe.from("ideas").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},update:async(e,t)=>{const{data:n,error:r}=await oe.from("ideas").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(r)throw r;return n},delete:async e=>{const{error:t}=await oe.from("ideas").delete().eq("id",e);if(t)throw t;return{id:e}},filter:async e=>{const t=Un("ideas",e),{data:n,error:r}=await t;return jn({data:n,error:r})}},Follow:{create:async e=>{const{data:t,error:n}=await oe.from("follows").insert([{...e,created_at:new Date().toISOString()}]).select().single();if(n)throw n;return t},delete:async e=>{const{error:t}=await oe.from("follows").delete().eq("id",e);if(t)throw t;return{id:e}},filter:async e=>{const t=Un("follows",e),{data:n,error:r}=await t;return jn({data:n,error:r})}}},Su=Object.freeze(Object.defineProperty({__proto__:null,supabaseAdapter:fe},Symbol.toStringTag,{value:"Module"})),Ve={ADDONS:"blender_addons",USERS:"blender_users",VERSIONS:"blender_versions",FOLLOWS:"blender_follows",IDEAS:"blender_ideas",PAYMENT_METHODS:"blender_payment_methods",TRANSACTIONS:"blender_transactions",PURCHASES:"blender_purchases",PAYOUTS:"blender_payouts",RATINGS:"blender_ratings"};function Ky(){typeof window>"u"||(localStorage.getItem(Ve.ADDONS)||localStorage.setItem(Ve.ADDONS,JSON.stringify([])),localStorage.getItem(Ve.USERS)||localStorage.setItem(Ve.USERS,JSON.stringify([])),localStorage.getItem(Ve.VERSIONS)||localStorage.setItem(Ve.VERSIONS,JSON.stringify([])),localStorage.getItem(Ve.FOLLOWS)||localStorage.setItem(Ve.FOLLOWS,JSON.stringify([])),localStorage.getItem(Ve.IDEAS)||localStorage.setItem(Ve.IDEAS,JSON.stringify([])),localStorage.getItem(Ve.PAYMENT_METHODS)||localStorage.setItem(Ve.PAYMENT_METHODS,JSON.stringify([])),localStorage.getItem(Ve.TRANSACTIONS)||localStorage.setItem(Ve.TRANSACTIONS,JSON.stringify([])),localStorage.getItem(Ve.PURCHASES)||localStorage.setItem(Ve.PURCHASES,JSON.stringify([])),localStorage.getItem(Ve.PAYOUTS)||localStorage.setItem(Ve.PAYOUTS,JSON.stringify([])),localStorage.getItem(Ve.RATINGS)||localStorage.setItem(Ve.RATINGS,JSON.stringify([])))}const Vb={getAll:()=>{Ky();const e=localStorage.getItem(Ve.USERS);return JSON.parse(e||"[]")},filter:e=>{Ky();let t=Vb.getAll();return Object.keys(e).forEach(n=>{e[n]!==void 0&&(t=t.filter(r=>r[n]===e[n]))}),t}};function Hy(){if(typeof window>"u")return null;const e=localStorage.getItem("current_user");if(e)return JSON.parse(e);const t={email:"user@example.com",full_name:"Test User",username:"testuser",avatar_url:null,bio:"",website:""};return localStorage.setItem("current_user",JSON.stringify(t)),t}const q={auth:{me:async()=>Hy(),updateMe:async e=>{const{upsertUserProfile:t}=await sn(async()=>{const{upsertUserProfile:r}=await Promise.resolve().then(()=>va);return{upsertUserProfile:r}},void 0);return await t(e)||Hy()},logout:async()=>{const{supabase:e}=await sn(async()=>{const{supabase:t}=await Promise.resolve().then(()=>va);return{supabase:t}},void 0);await e.auth.signOut(),localStorage.removeItem("current_user"),window.location.href="/"},redirectToLogin:()=>{window.location.href="/login"}},entities:{Addon:{create:async e=>fe.Addon.create(e),update:async(e,t)=>fe.Addon.update(e,t),delete:async e=>fe.Addon.delete(e),list:async()=>fe.Addon.list(),filter:async(e,t,n)=>fe.Addon.filter(e,t,n)},AddonVersion:{create:async e=>fe.AddonVersion.create(e),update:async(e,t)=>fe.AddonVersion.update(e,t),filter:async(e,t,n)=>fe.AddonVersion.filter(e,t,n)},User:{filter:async e=>Vb.filter(e)},Follow:{create:async e=>fe.Follow.create(e),delete:async e=>fe.Follow.delete(e),filter:async e=>fe.Follow.filter(e)},Idea:{create:async e=>fe.Idea.create(e),update:async(e,t)=>fe.Idea.update(e,t),delete:async e=>fe.Idea.delete(e),filter:async e=>fe.Idea.filter(e)},PaymentMethod:{create:async e=>fe.PaymentMethod.create(e),update:async(e,t)=>fe.PaymentMethod.update(e,t),delete:async e=>fe.PaymentMethod.delete(e),filter:async e=>fe.PaymentMethod.filter(e)},Transaction:{create:async e=>fe.Transaction.create(e),filter:async(e,t,n)=>fe.Transaction.filter(e,t,n)},Purchase:{create:async e=>fe.Purchase.create(e),filter:async e=>fe.Purchase.filter(e)},Payout:{create:async e=>fe.Payout.create(e),update:async(e,t)=>fe.Payout.update(e,t),filter:async(e,t,n)=>fe.Payout.filter(e,t,n)},Rating:{create:async e=>fe.Rating.create(e),update:async(e,t)=>fe.Rating.update(e,t),delete:async e=>fe.Rating.delete(e),filter:async e=>fe.Rating.filter(e),getAverageRating:async e=>fe.Rating.getAverageRating(e),getRatingCount:async e=>fe.Rating.getRatingCount(e)}},integrations:{Core:{UploadFile:async({file:e})=>new Promise(t=>{const n=new FileReader;n.onload=r=>{t({file_url:r.target.result})},n.readAsDataURL(e)})}}},qb=Object.freeze(Object.defineProperty({__proto__:null,base44:q},Symbol.toStringTag,{value:"Module"})),ne=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const Cr=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("flex flex-col space-y-1.5 p-6",e),...t}));Cr.displayName="CardHeader";const Nr=b.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));Nr.displayName="CardTitle";const vT=b.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));vT.displayName="CardDescription";const qn=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("p-6 pt-0",e),...t}));qn.displayName="CardContent";const wT=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("flex items-center p-6 pt-0",e),...t}));wT.displayName="CardFooter";const Wb=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ju=b.createContext({}),ku=b.createContext(null),Cu=typeof document<"u",Hm=Cu?b.useLayoutEffect:b.useEffect,Kb=b.createContext({strict:!1}),Gm=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),xT="framerAppearId",Hb="data-"+Gm(xT);function bT(e,t,n,r){const{visualElement:s}=b.useContext(ju),i=b.useContext(Kb),a=b.useContext(ku),l=b.useContext(Wb).reducedMotion,c=b.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(n,a)});const d=b.useRef(!!(n[Hb]&&!window.HandoffComplete));return Hm(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function $i(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _T(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):$i(n)&&(n.current=r))},[t])}function Ko(e){return typeof e=="string"||Array.isArray(e)}function Nu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Ym=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qm=["initial",...Ym];function Eu(e){return Nu(e.animate)||Qm.some(t=>Ko(e[t]))}function Gb(e){return!!(Eu(e)||e.variants)}function ST(e,t){if(Eu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ko(n)?n:void 0,animate:Ko(r)?r:void 0}}return e.inherit!==!1?t:{}}function jT(e){const{initial:t,animate:n}=ST(e,b.useContext(ju));return b.useMemo(()=>({initial:t,animate:n}),[Gy(t),Gy(n)])}function Gy(e){return Array.isArray(e)?e.join(" "):e}const Yy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ho={};for(const e in Yy)Ho[e]={isEnabled:t=>Yy[e].some(n=>!!t[n])};function kT(e){for(const t in e)Ho[t]={...Ho[t],...e[t]}}const Jm=b.createContext({}),Yb=b.createContext({}),CT=Symbol.for("motionComponentSymbol");function NT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&kT(e);function i(l,c){let u;const d={...b.useContext(Wb),...l,layoutId:ET(l)},{isStatic:h}=d,m=jT(l),f=r(l,h);if(!h&&Cu){m.visualElement=bT(s,f,d,t);const v=b.useContext(Yb),w=b.useContext(Kb).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,w,e,v))}return b.createElement(ju.Provider,{value:m},u&&m.visualElement?b.createElement(u,{visualElement:m.visualElement,...d}):null,n(s,l,_T(f,m.visualElement,c),f,h,m.visualElement))}const a=b.forwardRef(i);return a[CT]=s,a}function ET({layoutId:e}){const t=b.useContext(Jm).id;return t&&e!==void 0?t+"-"+e:e}function PT(e){function t(r,s={}){return NT(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const TT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xm(e){return typeof e!="string"||e.includes("-")?!1:!!(TT.indexOf(e)>-1||/[A-Z]/.test(e))}const Vc={};function AT(e){Object.assign(Vc,e)}const ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],li=new Set(ul);function Qb(e,{layout:t,layoutId:n}){return li.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Vc[e]||e==="opacity")}const zt=e=>!!(e&&e.getVelocity),RT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OT=ul.length;function IT(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<OT;a++){const l=ul[a];if(e[l]!==void 0){const c=RT[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const Jb=e=>t=>typeof t=="string"&&t.startsWith(e),Xb=Jb("--"),vf=Jb("var(--"),zT=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,MT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,os=(e,t,n)=>Math.min(Math.max(n,e),t),ci={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ho={...ci,transform:e=>os(0,1,e)},Kl={...ci,default:1},fo=e=>Math.round(e*1e5)/1e5,Pu=/(-)?([\d]*\.?[\d])+/g,Zb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,DT=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function dl(e){return typeof e=="string"}const hl=e=>({test:t=>dl(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_r=hl("deg"),On=hl("%"),re=hl("px"),LT=hl("vh"),UT=hl("vw"),Qy={...On,parse:e=>On.parse(e)/100,transform:e=>On.transform(e*100)},Jy={...ci,transform:Math.round},e1={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,size:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,rotate:_r,rotateX:_r,rotateY:_r,rotateZ:_r,scale:Kl,scaleX:Kl,scaleY:Kl,scaleZ:Kl,skew:_r,skewX:_r,skewY:_r,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:ho,originX:Qy,originY:Qy,originZ:re,zIndex:Jy,fillOpacity:ho,strokeOpacity:ho,numOctaves:Jy};function Zm(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const h in t){const m=t[h];if(Xb(h)){i[h]=m;continue}const f=e1[h],v=MT(m,f);if(li.has(h)){if(c=!0,a[h]=v,!d)continue;m!==(f.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,l[h]=v):s[h]=v}if(t.transform||(c||r?s.transform=IT(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:f=0}=l;s.transformOrigin=`${h} ${m} ${f}`}}const ep=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t1(e,t,n){for(const r in t)!zt(t[r])&&!Qb(r,n)&&(e[r]=t[r])}function FT({transformTemplate:e},t,n){return b.useMemo(()=>{const r=ep();return Zm(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function $T(e,t,n){const r=e.style||{},s={};return t1(s,r,e),Object.assign(s,FT(e,t,n)),e.transformValues?e.transformValues(s):s}function BT(e,t,n){const r={},s=$T(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const VT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||VT.has(e)}let n1=e=>!qc(e);function qT(e){e&&(n1=t=>t.startsWith("on")?!qc(t):e(t))}try{qT(require("@emotion/is-prop-valid").default)}catch{}function WT(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(n1(s)||n===!0&&qc(s)||!t&&!qc(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Xy(e,t,n){return typeof e=="string"?e:re.transform(t+n*e)}function KT(e,t,n){const r=Xy(t,e.x,e.width),s=Xy(n,e.y,e.height);return`${r} ${s}`}const HT={offset:"stroke-dashoffset",array:"stroke-dasharray"},GT={offset:"strokeDashoffset",array:"strokeDasharray"};function YT(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?HT:GT;e[i.offset]=re.transform(-r);const a=re.transform(t),l=re.transform(n);e[i.array]=`${a} ${l}`}function tp(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h,m){if(Zm(e,u,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:v,dimensions:w}=e;f.transform&&(w&&(v.transform=f.transform),delete f.transform),w&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=KT(w,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&YT(f,a,l,c,!1)}const r1=()=>({...ep(),attrs:{}}),np=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QT(e,t,n,r){const s=b.useMemo(()=>{const i=r1();return tp(i,t,{enableHardwareAcceleration:!1},np(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};t1(i,e.style,e),s.style={...i,...s.style}}return s}function JT(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(Xm(n)?QT:BT)(r,i,a,n),d={...WT(r,typeof n=="string",e),...c,ref:s},{children:h}=r,m=b.useMemo(()=>zt(h)?h.get():h,[h]);return b.createElement(n,{...d,children:m})}}function s1(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const i1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a1(e,t,n,r){s1(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(i1.has(s)?s:Gm(s),t.attrs[s])}function rp(e,t){const{style:n}=e,r={};for(const s in n)(zt(n[s])||t.style&&zt(t.style[s])||Qb(s,e))&&(r[s]=n[s]);return r}function o1(e,t){const n=rp(e,t);for(const r in e)if(zt(e[r])||zt(t[r])){const s=ul.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function sp(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function l1(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wc=e=>Array.isArray(e),XT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ZT=e=>Wc(e)?e[e.length-1]||0:e;function uc(e){const t=zt(e)?e.get():e;return XT(t)?t.toValue():t}function eA({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const a={latestValues:tA(r,s,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const c1=e=>(t,n)=>{const r=b.useContext(ju),s=b.useContext(ku),i=()=>eA(e,t,r,s);return n?i():l1(i)};function tA(e,t,n,r){const s={},i=r(e,{});for(const m in i)s[m]=uc(i[m]);let{initial:a,animate:l}=e;const c=Eu(e),u=Gb(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;return h&&typeof h!="boolean"&&!Nu(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const v=sp(e,f);if(!v)return;const{transitionEnd:w,transition:_,...g}=v;for(const y in g){let p=g[y];if(Array.isArray(p)){const x=d?p.length-1:0;p=p[x]}p!==null&&(s[y]=p)}for(const y in w)s[y]=w[y]}),s}const Ke=e=>e;class Zy{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function nA(e){let t=new Zy,n=new Zy,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const h=d&&s,m=h?t:n;return u&&a.add(c),m.add(c)&&h&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const Hl=["prepare","read","update","preRender","render","postRender"],rA=40;function sA(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Hl.reduce((h,m)=>(h[m]=nA(()=>n=!0),h),{}),a=h=>i[h].process(s),l=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,rA),1),s.timestamp=h,s.isProcessing=!0,Hl.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:Hl.reduce((h,m)=>{const f=i[m];return h[m]=(v,w=!1,_=!1)=>(n||c(),f.schedule(v,w,_)),h},{}),cancel:h=>Hl.forEach(m=>i[m].cancel(h)),state:s,steps:i}}const{schedule:Ce,cancel:or,state:mt,steps:Ed}=sA(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ke,!0),iA={useVisualState:c1({scrapeMotionValuesFromProps:o1,createRenderState:r1,onMount:(e,t,{renderState:n,latestValues:r})=>{Ce.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ce.render(()=>{tp(n,r,{enableHardwareAcceleration:!1},np(t.tagName),e.transformTemplate),a1(t,n)})}})},aA={useVisualState:c1({scrapeMotionValuesFromProps:rp,createRenderState:ep})};function oA(e,{forwardMotionProps:t=!1},n,r){return{...Xm(e)?iA:aA,preloadedFeatures:n,useRender:JT(t),createVisualElement:r,Component:e}}function Jn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const u1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Tu(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const lA=e=>t=>u1(t)&&e(t,Tu(t));function er(e,t,n,r){return Jn(e,t,lA(n),r)}const cA=(e,t)=>n=>t(e(n)),ns=(...e)=>e.reduce(cA);function d1(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const e0=d1("dragHorizontal"),t0=d1("dragVertical");function h1(e){let t=!1;if(e==="y")t=t0();else if(e==="x")t=e0();else{const n=e0(),r=t0();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function f1(){const e=h1(!0);return e?(e(),!1):!0}class gs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function n0(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||f1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Ce.update(()=>l[r](i,a))};return er(e.current,n,s,{passive:!e.getProps()[r]})}class uA extends gs{mount(){this.unmount=ns(n0(this.node,!0),n0(this.node,!1))}unmount(){}}class dA extends gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ns(Jn(this.node.current,"focus",()=>this.onFocus()),Jn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const m1=(e,t)=>t?e===t?!0:m1(e,t.parentElement):!1;function Pd(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Tu(n))}class hA extends gs{constructor(){super(...arguments),this.removeStartListeners=Ke,this.removeEndListeners=Ke,this.removeAccessibleListeners=Ke,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=er(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();Ce.update(()=>{!h&&!m1(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=er(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ns(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Pd("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Ce.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Jn(this.node.current,"keyup",a),Pd("down",(l,c)=>{this.startPress(l,c)})},n=Jn(this.node.current,"keydown",t),r=()=>{this.isPressing&&Pd("cancel",(i,a)=>this.cancelPress(i,a))},s=Jn(this.node.current,"blur",r);this.removeAccessibleListeners=ns(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ce.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!f1()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ce.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=er(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Jn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ns(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wf=new WeakMap,Td=new WeakMap,fA=e=>{const t=wf.get(e.target);t&&t(e)},mA=e=>{e.forEach(fA)};function pA({root:e,...t}){const n=e||document;Td.has(n)||Td.set(n,{});const r=Td.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(mA,{root:e,...t})),r[s]}function gA(e,t,n){const r=pA(t);return wf.set(e,n),r.observe(e),()=>{wf.delete(e),r.unobserve(e)}}const yA={some:0,all:1};class vA extends gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:yA[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return gA(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wA(t,n))&&this.startObserver()}unmount(){}}function wA({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const xA={inView:{Feature:vA},tap:{Feature:hA},focus:{Feature:dA},hover:{Feature:uA}};function p1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function bA(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function _A(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Au(e,t,n){const r=e.getProps();return sp(r,t,n!==void 0?n:r.custom,bA(e),_A(e))}let ip=Ke;const Ys=e=>e*1e3,tr=e=>e/1e3,SA={current:!1},g1=e=>Array.isArray(e)&&typeof e[0]=="number";function y1(e){return!!(!e||typeof e=="string"&&v1[e]||g1(e)||Array.isArray(e)&&e.every(y1))}const Ja=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,v1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ja([0,.65,.55,1]),circOut:Ja([.55,0,1,.45]),backIn:Ja([.31,.01,.66,-.59]),backOut:Ja([.33,1.53,.69,.99])};function w1(e){if(e)return g1(e)?Ja(e):Array.isArray(e)?e.map(w1):v1[e]}function jA(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=w1(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function kA(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const x1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,CA=1e-7,NA=12;function EA(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=x1(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>CA&&++l<NA);return a}function fl(e,t,n,r){if(e===t&&n===r)return Ke;const s=i=>EA(i,0,1,e,n);return i=>i===0||i===1?i:x1(s(i),t,r)}const PA=fl(.42,0,1,1),TA=fl(0,0,.58,1),b1=fl(.42,0,.58,1),AA=e=>Array.isArray(e)&&typeof e[0]!="number",_1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,S1=e=>t=>1-e(1-t),ap=e=>1-Math.sin(Math.acos(e)),j1=S1(ap),RA=_1(ap),k1=fl(.33,1.53,.69,.99),op=S1(k1),OA=_1(op),IA=e=>(e*=2)<1?.5*op(e):.5*(2-Math.pow(2,-10*(e-1))),zA={linear:Ke,easeIn:PA,easeInOut:b1,easeOut:TA,circIn:ap,circInOut:RA,circOut:j1,backIn:op,backInOut:OA,backOut:k1,anticipate:IA},r0=e=>{if(Array.isArray(e)){ip(e.length===4);const[t,n,r,s]=e;return fl(t,n,r,s)}else if(typeof e=="string")return zA[e];return e},lp=(e,t)=>n=>!!(dl(n)&&DT.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),C1=(e,t,n)=>r=>{if(!dl(r))return r;const[s,i,a,l]=r.match(Pu);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},MA=e=>os(0,255,e),Ad={...ci,transform:e=>Math.round(MA(e))},Ms={test:lp("rgb","red"),parse:C1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ad.transform(e)+", "+Ad.transform(t)+", "+Ad.transform(n)+", "+fo(ho.transform(r))+")"};function DA(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const xf={test:lp("#"),parse:DA,transform:Ms.transform},Bi={test:lp("hsl","hue"),parse:C1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+On.transform(fo(t))+", "+On.transform(fo(n))+", "+fo(ho.transform(r))+")"},xt={test:e=>Ms.test(e)||xf.test(e)||Bi.test(e),parse:e=>Ms.test(e)?Ms.parse(e):Bi.test(e)?Bi.parse(e):xf.parse(e),transform:e=>dl(e)?e:e.hasOwnProperty("red")?Ms.transform(e):Bi.transform(e)},Me=(e,t,n)=>-n*e+n*t+e;function Rd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LA({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Rd(c,l,e+1/3),i=Rd(c,l,e),a=Rd(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Od=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},UA=[xf,Ms,Bi],FA=e=>UA.find(t=>t.test(e));function s0(e){const t=FA(e);let n=t.parse(e);return t===Bi&&(n=LA(n)),n}const N1=(e,t)=>{const n=s0(e),r=s0(t),s={...n};return i=>(s.red=Od(n.red,r.red,i),s.green=Od(n.green,r.green,i),s.blue=Od(n.blue,r.blue,i),s.alpha=Me(n.alpha,r.alpha,i),Ms.transform(s))};function $A(e){var t,n;return isNaN(e)&&dl(e)&&(((t=e.match(Pu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Zb))===null||n===void 0?void 0:n.length)||0)>0}const E1={regex:zT,countKey:"Vars",token:"${v}",parse:Ke},P1={regex:Zb,countKey:"Colors",token:"${c}",parse:xt.parse},T1={regex:Pu,countKey:"Numbers",token:"${n}",parse:ci.parse};function Id(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Kc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Id(n,E1),Id(n,P1),Id(n,T1),n}function A1(e){return Kc(e).values}function R1(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Kc(e),i=t.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(E1.token,a[c]):c<r+n?l=l.replace(P1.token,xt.transform(a[c])):l=l.replace(T1.token,fo(a[c]));return l}}const BA=e=>typeof e=="number"?0:e;function VA(e){const t=A1(e);return R1(e)(t.map(BA))}const ls={test:$A,parse:A1,createTransformer:R1,getAnimatableNone:VA},O1=(e,t)=>n=>`${n>0?t:e}`;function I1(e,t){return typeof e=="number"?n=>Me(e,t,n):xt.test(e)?N1(e,t):e.startsWith("var(")?O1(e,t):M1(e,t)}const z1=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,a)=>I1(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},qA=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=I1(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},M1=(e,t)=>{const n=ls.createTransformer(t),r=Kc(e),s=Kc(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?ns(z1(r.values,s.values),n):O1(e,t)},Go=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},i0=(e,t)=>n=>Me(e,t,n);function WA(e){return typeof e=="number"?i0:typeof e=="string"?xt.test(e)?N1:M1:Array.isArray(e)?z1:typeof e=="object"?qA:i0}function KA(e,t,n){const r=[],s=n||WA(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Ke:t;l=ns(c,l)}r.push(l)}return r}function D1(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(ip(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=KA(t,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Go(e[d],e[d+1],u);return a[d](h)};return n?u=>c(os(e[0],e[i-1],u)):c}function HA(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Go(0,t,r);e.push(Me(n,1,s))}}function GA(e){const t=[0];return HA(t,e.length-1),t}function YA(e,t){return e.map(n=>n*t)}function QA(e,t){return e.map(()=>t||b1).splice(0,e.length-1)}function Hc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=AA(r)?r.map(r0):r0(r),i={done:!1,value:t[0]},a=YA(n&&n.length===t.length?n:GA(t),e),l=D1(a,t,{ease:Array.isArray(s)?s:QA(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function L1(e,t){return t?e*(1e3/t):0}const JA=5;function U1(e,t,n){const r=Math.max(t-JA,0);return L1(n-e(r),t-r)}const zd=.001,XA=.01,ZA=10,eR=.05,tR=1;function nR({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,a=1-t;a=os(eR,tR,a),e=os(XA,ZA,tr(e)),a<1?(s=u=>{const d=u*a,h=d*e,m=d-n,f=bf(u,a),v=Math.exp(-h);return zd-m/f*v},i=u=>{const h=u*a*e,m=h*n+n,f=Math.pow(a,2)*Math.pow(u,2)*e,v=Math.exp(-h),w=bf(Math.pow(u,2),a);return(-s(u)+zd>0?-1:1)*((m-f)*v)/w}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-zd+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=sR(s,i,l);if(e=Ys(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const rR=12;function sR(e,t,n){let r=n;for(let s=1;s<rR;s++)r=r-e(r)/t(r);return r}function bf(e,t){return e*Math.sqrt(1-t*t)}const iR=["duration","bounce"],aR=["stiffness","damping","mass"];function a0(e,t){return t.some(n=>e[n]!==void 0)}function oR(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!a0(e,aR)&&a0(e,iR)){const n=nR(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function F1({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=oR({...r,velocity:-tr(r.velocity||0)}),f=h||0,v=c/(2*Math.sqrt(l*u)),w=i-s,_=tr(Math.sqrt(l/u)),g=Math.abs(w)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let y;if(v<1){const p=bf(_,v);y=x=>{const S=Math.exp(-v*_*x);return i-S*((f+v*_*w)/p*Math.sin(p*x)+w*Math.cos(p*x))}}else if(v===1)y=p=>i-Math.exp(-_*p)*(w+(f+_*w)*p);else{const p=_*Math.sqrt(v*v-1);y=x=>{const S=Math.exp(-v*_*x),j=Math.min(p*x,300);return i-S*((f+v*_*w)*Math.sinh(j)+p*w*Math.cosh(j))/p}}return{calculatedDuration:m&&d||null,next:p=>{const x=y(p);if(m)a.done=p>=d;else{let S=f;p!==0&&(v<1?S=U1(y,p,x):S=0);const j=Math.abs(S)<=n,P=Math.abs(i-x)<=t;a.done=j&&P}return a.value=a.done?i:x,a}}}function o0({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},f=N=>l!==void 0&&N<l||c!==void 0&&N>c,v=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let w=n*t;const _=h+w,g=a===void 0?_:a(_);g!==_&&(w=g-h);const y=N=>-w*Math.exp(-N/r),p=N=>g+y(N),x=N=>{const k=y(N),E=p(N);m.done=Math.abs(k)<=u,m.value=m.done?g:E};let S,j;const P=N=>{f(m.value)&&(S=N,j=F1({keyframes:[m.value,v(m.value)],velocity:U1(p,N,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:N=>{let k=!1;return!j&&S===void 0&&(k=!0,x(N),P(N)),S!==void 0&&N>S?j.next(N-S):(!k&&x(N),m)}}}const lR=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ce.update(t,!0),stop:()=>or(t),now:()=>mt.isProcessing?mt.timestamp:performance.now()}},l0=2e4;function c0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<l0;)t+=n,r=e.next(t);return t>=l0?1/0:t}const cR={decay:o0,inertia:o0,tween:Hc,keyframes:Hc,spring:F1};function Gc({autoplay:e=!0,delay:t=0,driver:n=lR,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...m}){let f=1,v=!1,w,_;const g=()=>{_=new Promise($=>{w=$})};g();let y;const p=cR[s]||Hc;let x;p!==Hc&&typeof r[0]!="number"&&(x=D1([0,100],r,{clamp:!1}),r=[0,100]);const S=p({...m,keyframes:r});let j;l==="mirror"&&(j=p({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let P="idle",N=null,k=null,E=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=c0(S));const{calculatedDuration:z}=S;let L=1/0,J=1/0;z!==null&&(L=z+a,J=L*(i+1)-a);let F=0;const le=$=>{if(k===null)return;f>0&&(k=Math.min(k,$)),f<0&&(k=Math.min($-J/f,k)),N!==null?F=N:F=Math.round($-k)*f;const T=F-t*(f>=0?1:-1),W=f>=0?T<0:T>J;F=Math.max(T,0),P==="finished"&&N===null&&(F=J);let Z=F,V=S;if(i){const Ct=Math.min(F,J)/L;let Dn=Math.floor(Ct),Mt=Ct%1;!Mt&&Ct>=1&&(Mt=1),Mt===1&&Dn--,Dn=Math.min(Dn,i+1),!!(Dn%2)&&(l==="reverse"?(Mt=1-Mt,a&&(Mt-=a/L)):l==="mirror"&&(V=j)),Z=os(0,1,Mt)*L}const ie=W?{done:!1,value:r[0]}:V.next(Z);x&&(ie.value=x(ie.value));let{done:se}=ie;!W&&z!==null&&(se=f>=0?F>=J:F<=0);const yt=N===null&&(P==="finished"||P==="running"&&se);return h&&h(ie.value),yt&&O(),ie},A=()=>{y&&y.stop(),y=void 0},Y=()=>{P="idle",A(),w(),g(),k=E=null},O=()=>{P="finished",d&&d(),A(),w()},R=()=>{if(v)return;y||(y=n(le));const $=y.now();c&&c(),N!==null?k=$-N:(!k||P==="finished")&&(k=$),P==="finished"&&g(),E=k,N=null,P="running",y.start()};e&&R();const U={then($,T){return _.then($,T)},get time(){return tr(F)},set time($){$=Ys($),F=$,N!==null||!y||f===0?N=$:k=y.now()-$/f},get duration(){const $=S.calculatedDuration===null?c0(S):S.calculatedDuration;return tr($)},get speed(){return f},set speed($){$===f||!y||(f=$,U.time=tr(F))},get state(){return P},play:R,pause:()=>{P="paused",N=F},stop:()=>{v=!0,P!=="idle"&&(P="idle",u&&u(),Y())},cancel:()=>{E!==null&&le(E),Y()},complete:()=>{P="finished"},sample:$=>(k=0,le($))};return U}function uR(e){let t;return()=>(t===void 0&&(t=e()),t)}const dR=uR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Gl=10,fR=2e4,mR=(e,t)=>t.type==="spring"||e==="backgroundColor"||!y1(t.ease);function pR(e,t,{onUpdate:n,onComplete:r,...s}){if(!(dR()&&hR.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(p=>{l=p})};d();let{keyframes:h,duration:m=300,ease:f,times:v}=s;if(mR(t,s)){const p=Gc({...s,repeat:0,delay:0});let x={done:!1,value:h[0]};const S=[];let j=0;for(;!x.done&&j<fR;)x=p.sample(j),S.push(x.value),j+=Gl;v=void 0,h=S,m=j-Gl,f="linear"}const w=jA(e.owner.current,t,h,{...s,duration:m,ease:f,times:v}),_=()=>{u=!1,w.cancel()},g=()=>{u=!0,Ce.update(_),l(),d()};return w.onfinish=()=>{u||(e.set(kA(h,s)),r&&r(),g())},{then(p,x){return c.then(p,x)},attachTimeline(p){return w.timeline=p,w.onfinish=null,Ke},get time(){return tr(w.currentTime||0)},set time(p){w.currentTime=Ys(p)},get speed(){return w.playbackRate},set speed(p){w.playbackRate=p},get duration(){return tr(m)},play:()=>{a||(w.play(),or(_))},pause:()=>w.pause(),stop:()=>{if(a=!0,w.playState==="idle")return;const{currentTime:p}=w;if(p){const x=Gc({...s,autoplay:!1});e.setWithVelocity(x.sample(p-Gl).value,x.sample(p).value,Gl)}g()},complete:()=>{u||w.finish()},cancel:g}}function gR({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ke,pause:Ke,stop:Ke,then:i=>(i(),Promise.resolve()),cancel:Ke,complete:Ke});return t?Gc({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const yR={type:"spring",stiffness:500,damping:25,restSpeed:10},vR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wR={type:"keyframes",duration:.8},xR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bR=(e,{keyframes:t})=>t.length>2?wR:li.has(e)?e.startsWith("scale")?vR(t[1]):yR:xR,_f=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ls.test(t)||t==="0")&&!t.startsWith("url(")),_R=new Set(["brightness","contrast","saturate","opacity"]);function SR(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Pu)||[];if(!r)return e;const s=n.replace(r,"");let i=_R.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const jR=/([a-z-]*)\(.*?\)/g,Sf={...ls,getAnimatableNone:e=>{const t=e.match(jR);return t?t.map(SR).join(" "):e}},kR={...e1,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:Sf,WebkitFilter:Sf},cp=e=>kR[e];function $1(e,t){let n=cp(e);return n!==Sf&&(n=ls),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const B1=e=>/^0[^.\s]+$/.test(e);function CR(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||B1(e)}function NR(e,t,n,r){const s=_f(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),CR(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=$1(t,l)}return i}function ER({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function up(e,t){return e[t]||e.default||e}const PR={skipAnimations:!1},dp=(e,t,n,r={})=>s=>{const i=up(r,e)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ys(a);const c=NR(t,e,n,i),u=c[0],d=c[c.length-1],h=_f(e,u),m=_f(e,d);let f={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(ER(i)||(f={...f,...bR(e,f)}),f.duration&&(f.duration=Ys(f.duration)),f.repeatDelay&&(f.repeatDelay=Ys(f.repeatDelay)),!h||!m||SA.current||i.type===!1||PR.skipAnimations)return gR(f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=pR(t,e,f);if(v)return v}return Gc(f)};function Yc(e){return!!(zt(e)&&e.add)}const V1=e=>/^\-?\d*\.?\d+$/.test(e);function hp(e,t){e.indexOf(t)===-1&&e.push(t)}function fp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class mp{constructor(){this.subscriptions=[]}add(t){return hp(this.subscriptions,t),()=>fp(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TR=e=>!isNaN(parseFloat(e));class AR{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=mt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,Ce.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ce.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=TR(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mp);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?L1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wa(e,t){return new AR(e,t)}const q1=e=>t=>t.test(e),RR={test:e=>e==="auto",parse:e=>e},W1=[ci,re,On,_r,UT,LT,RR],Fa=e=>W1.find(q1(e)),OR=[...W1,xt,ls],IR=e=>OR.find(q1(e));function zR(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wa(n))}function MR(e,t){const n=Au(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=ZT(i[a]);zR(e,a,l)}}function DR(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(V1(d)||B1(d))?d=parseFloat(d):!IR(d)&&ls.test(u)&&(d=$1(c,u)),e.addValue(c,wa(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function LR(e,t){return t?(t[e]||t.default||t).from:void 0}function UR(e,t,n){const r={};for(const s in e){const i=LR(s,t);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function FR({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function $R(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function K1(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const m=e.getValue(h),f=l[h];if(!m||f===void 0||d&&FR(d,h))continue;const v={delay:n,elapsed:0,...up(i||{},h)};if(window.HandoffAppearAnimations){const g=e.getProps()[Hb];if(g){const y=window.HandoffAppearAnimations(g,h,m,Ce);y!==null&&(v.elapsed=y,v.isHandoff=!0)}}let w=!v.isHandoff&&!$R(m,f);if(v.type==="spring"&&(m.getVelocity()||v.velocity)&&(w=!1),m.animation&&(w=!1),w)continue;m.start(dp(h,m,f,e.shouldReduceMotion&&li.has(h)?{type:!1}:v));const _=m.animation;Yc(c)&&(c.add(h),_.then(()=>c.remove(h))),u.push(_)}return a&&Promise.all(u).then(()=>{a&&MR(e,a)}),u}function jf(e,t,n={}){const r=Au(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(K1(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return BR(e,t,u+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function BR(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(VR).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(jf(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function VR(e,t){return e.sortNodePosition(t)}function qR(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>jf(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=jf(e,t,n);else{const s=typeof t=="function"?Au(e,t,n.custom):t;r=Promise.all(K1(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const WR=[...Ym].reverse(),KR=Ym.length;function HR(e){return t=>Promise.all(t.map(({animation:n,options:r})=>qR(e,n,r)))}function GR(e){let t=HR(e);const n=QR();let r=!0;const s=(c,u)=>{const d=Au(e,u);if(d){const{transition:h,transitionEnd:m,...f}=d;c={...c,...f,...m}}return c};function i(c){t=c(e)}function a(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},m=[],f=new Set;let v={},w=1/0;for(let g=0;g<KR;g++){const y=WR[g],p=n[y],x=d[y]!==void 0?d[y]:h[y],S=Ko(x),j=y===u?p.isActive:null;j===!1&&(w=g);let P=x===h[y]&&x!==d[y]&&S;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),p.protectedKeys={...v},!p.isActive&&j===null||!x&&!p.prevProp||Nu(x)||typeof x=="boolean")continue;let k=YR(p.prevProp,x)||y===u&&p.isActive&&!P&&S||g>w&&S,E=!1;const z=Array.isArray(x)?x:[x];let L=z.reduce(s,{});j===!1&&(L={});const{prevResolvedValues:J={}}=p,F={...J,...L},le=A=>{k=!0,f.has(A)&&(E=!0,f.delete(A)),p.needsAnimating[A]=!0};for(const A in F){const Y=L[A],O=J[A];if(v.hasOwnProperty(A))continue;let R=!1;Wc(Y)&&Wc(O)?R=!p1(Y,O):R=Y!==O,R?Y!==void 0?le(A):f.add(A):Y!==void 0&&f.has(A)?le(A):p.protectedKeys[A]=!0}p.prevProp=x,p.prevResolvedValues=L,p.isActive&&(v={...v,...L}),r&&e.blockInitialAnimation&&(k=!1),k&&(!P||E)&&m.push(...z.map(A=>({animation:A,options:{type:y,...c}})))}if(f.size){const g={};f.forEach(y=>{const p=e.getBaseTarget(y);p!==void 0&&(g[y]=p)}),m.push({animation:g})}let _=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(m):Promise.resolve()}function l(c,u,d){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var v;return(v=f.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const m=a(d,c);for(const f in n)n[f].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function YR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!p1(t,e):!1}function bs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QR(){return{animate:bs(!0),whileInView:bs(),whileHover:bs(),whileTap:bs(),whileDrag:bs(),whileFocus:bs(),exit:bs()}}class JR extends gs{constructor(t){super(t),t.animationState||(t.animationState=GR(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Nu(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let XR=0;class ZR extends gs{constructor(){super(...arguments),this.id=XR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eO={animation:{Feature:JR},exit:{Feature:ZR}},u0=(e,t)=>Math.abs(e-t);function tO(e,t){const n=u0(e.x,t.x),r=u0(e.y,t.y);return Math.sqrt(n**2+r**2)}class H1{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Dd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=tO(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:v}=h,{timestamp:w}=mt;this.history.push({...v,timestamp:w});const{onStart:_,onMove:g}=this.handlers;m||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Md(m,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Dd(h.type==="pointercancel"?this.lastMoveEventInfo:Md(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,_),v&&v(h,_)},!u1(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Tu(t),l=Md(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=mt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Dd(l,this.history)),this.removeListeners=ns(er(this.contextWindow,"pointermove",this.handlePointerMove),er(this.contextWindow,"pointerup",this.handlePointerUp),er(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),or(this.updatePoint)}}function Md(e,t){return t?{point:t(e.point)}:e}function d0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dd({point:e},t){return{point:e,delta:d0(e,G1(t)),offset:d0(e,nO(t)),velocity:rO(t,.1)}}function nO(e){return e[0]}function G1(e){return e[e.length-1]}function rO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=G1(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ys(t)));)n--;if(!r)return{x:0,y:0};const i=tr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function qt(e){return e.max-e.min}function kf(e,t=0,n=.01){return Math.abs(e-t)<=n}function h0(e,t,n,r=.5){e.origin=r,e.originPoint=Me(t.min,t.max,e.origin),e.scale=qt(n)/qt(t),(kf(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Me(n.min,n.max,e.origin)-e.originPoint,(kf(e.translate)||isNaN(e.translate))&&(e.translate=0)}function mo(e,t,n,r){h0(e.x,t.x,n.x,r?r.originX:void 0),h0(e.y,t.y,n.y,r?r.originY:void 0)}function f0(e,t,n){e.min=n.min+t.min,e.max=e.min+qt(t)}function sO(e,t,n){f0(e.x,t.x,n.x),f0(e.y,t.y,n.y)}function m0(e,t,n){e.min=t.min-n.min,e.max=e.min+qt(t)}function po(e,t,n){m0(e.x,t.x,n.x),m0(e.y,t.y,n.y)}function iO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Me(n,e,r.max):Math.min(e,n)),e}function p0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function aO(e,{top:t,left:n,bottom:r,right:s}){return{x:p0(e.x,n,s),y:p0(e.y,t,r)}}function g0(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function oO(e,t){return{x:g0(e.x,t.x),y:g0(e.y,t.y)}}function lO(e,t){let n=.5;const r=qt(e),s=qt(t);return s>r?n=Go(t.min,t.max-r,e.min):r>s&&(n=Go(e.min,e.max-s,t.min)),os(0,1,n)}function cO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Cf=.35;function uO(e=Cf){return e===!1?e=0:e===!0&&(e=Cf),{x:y0(e,"left","right"),y:y0(e,"top","bottom")}}function y0(e,t,n){return{min:v0(e,t),max:v0(e,n)}}function v0(e,t){return typeof e=="number"?e:e[t]||0}const w0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:w0(),y:w0()}),x0=()=>({min:0,max:0}),Ge=()=>({x:x0(),y:x0()});function Yt(e){return[e("x"),e("y")]}function Y1({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function dO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function hO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ld(e){return e===void 0||e===1}function Nf({scale:e,scaleX:t,scaleY:n}){return!Ld(e)||!Ld(t)||!Ld(n)}function ks(e){return Nf(e)||Q1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Q1(e){return b0(e.x)||b0(e.y)}function b0(e){return e&&e!=="0%"}function Qc(e,t,n){const r=e-n,s=t*r;return n+s}function _0(e,t,n,r,s){return s!==void 0&&(e=Qc(e,s,r)),Qc(e,n,r)+t}function Ef(e,t=0,n=1,r,s){e.min=_0(e.min,t,n,r,s),e.max=_0(e.max,t,n,r,s)}function J1(e,{x:t,y:n}){Ef(e.x,t.translate,t.scale,t.originPoint),Ef(e.y,n.translate,n.scale,n.originPoint)}function fO(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,J1(e,a)),r&&ks(i.latestValues)&&qi(e,i.latestValues))}t.x=S0(t.x),t.y=S0(t.y)}function S0(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Er(e,t){e.min=e.min+t,e.max=e.max+t}function j0(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,a=Me(e.min,e.max,i);Ef(e,t[n],t[r],a,t.scale)}const mO=["x","scaleX","originX"],pO=["y","scaleY","originY"];function qi(e,t){j0(e.x,t,mO),j0(e.y,t,pO)}function X1(e,t){return Y1(hO(e.getBoundingClientRect(),t))}function gO(e,t,n){const r=X1(e,n),{scroll:s}=t;return s&&(Er(r.x,s.offset.x),Er(r.y,s.offset.y)),r}const Z1=({current:e})=>e?e.ownerDocument.defaultView:null,yO=new WeakMap;class vO{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tu(d,"page").point)},i=(d,h)=>{const{drag:m,dragPropagation:f,onDragStart:v}=this.getProps();if(m&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=h1(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yt(_=>{let g=this.getAxisMotionValue(_).get()||0;if(On.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const p=y.layout.layoutBox[_];p&&(g=qt(p)*(parseFloat(g)/100))}}this.originPoint[_]=g}),v&&Ce.update(()=>v(d,h),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:v,onDrag:w}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:_}=h;if(f&&this.currentDirection===null){this.currentDirection=wO(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),w&&w(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Yt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new H1(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Z1(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Ce.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Yl(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=iO(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&$i(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=aO(s.layoutBox,n):this.constraints=!1,this.elastic=uO(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yt(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=cO(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!$i(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gO(r,s.root,this.visualElement.getTransformPagePoint());let a=oO(s.layout.layoutBox,i);if(n){const l=n(dO(a));this.hasMutatedConstraints=!!l,l&&(a=Y1(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Yt(d=>{if(!Yl(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const m=s?200:1e6,f=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(dp(t,r,0,n))}stopAnimation(){Yt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Yt(n=>{const{drag:r}=this.getProps();if(!Yl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-Me(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$i(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Yt(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=lO({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yt(a=>{if(!Yl(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Me(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;yO.set(this.visualElement,this);const t=this.visualElement.current,n=er(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();$i(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Jn(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Yt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Cf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function Yl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function wO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class xO extends gs{constructor(t){super(t),this.removeGroupControls=Ke,this.removeListeners=Ke,this.controls=new vO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const k0=e=>(t,n)=>{e&&Ce.update(()=>e(t,n))};class bO extends gs{constructor(){super(...arguments),this.removePointerDownListener=Ke}onPointerDown(t){this.session=new H1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:k0(t),onStart:k0(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Ce.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=er(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _O(){const e=b.useContext(ku);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=b.useId();return b.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function C0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $a={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=C0(e,t.target.x),r=C0(e,t.target.y);return`${n}% ${r}%`}},SO={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=ls.parse(e);if(s.length>5)return r;const i=ls.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Me(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class jO extends I.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;AT(kO),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Ce.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function e_(e){const[t,n]=_O(),r=b.useContext(Jm);return I.createElement(jO,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(Yb),isPresent:t,safeToRemove:n})}const kO={borderRadius:{...$a,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$a,borderTopRightRadius:$a,borderBottomLeftRadius:$a,borderBottomRightRadius:$a,boxShadow:SO},t_=["TopLeft","TopRight","BottomLeft","BottomRight"],CO=t_.length,N0=e=>typeof e=="string"?parseFloat(e):e,E0=e=>typeof e=="number"||re.test(e);function NO(e,t,n,r,s,i){s?(e.opacity=Me(0,n.opacity!==void 0?n.opacity:1,EO(r)),e.opacityExit=Me(t.opacity!==void 0?t.opacity:1,0,PO(r))):i&&(e.opacity=Me(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<CO;a++){const l=`border${t_[a]}Radius`;let c=P0(t,l),u=P0(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||E0(c)===E0(u)?(e[l]=Math.max(Me(N0(c),N0(u),r),0),(On.test(u)||On.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Me(t.rotate||0,n.rotate||0,r))}function P0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const EO=n_(0,.5,j1),PO=n_(.5,.95,Ke);function n_(e,t,n){return r=>r<e?0:r>t?1:n(Go(e,t,r))}function T0(e,t){e.min=t.min,e.max=t.max}function Gt(e,t){T0(e.x,t.x),T0(e.y,t.y)}function A0(e,t,n,r,s){return e-=t,e=Qc(e,1/n,r),s!==void 0&&(e=Qc(e,1/s,r)),e}function TO(e,t=0,n=1,r=.5,s,i=e,a=e){if(On.test(t)&&(t=parseFloat(t),t=Me(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Me(i.min,i.max,r);e===i&&(l-=t),e.min=A0(e.min,t,n,l,s),e.max=A0(e.max,t,n,l,s)}function R0(e,t,[n,r,s],i,a){TO(e,t[n],t[r],t[s],t.scale,i,a)}const AO=["x","scaleX","originX"],RO=["y","scaleY","originY"];function O0(e,t,n,r){R0(e.x,t,AO,n?n.x:void 0,r?r.x:void 0),R0(e.y,t,RO,n?n.y:void 0,r?r.y:void 0)}function I0(e){return e.translate===0&&e.scale===1}function r_(e){return I0(e.x)&&I0(e.y)}function OO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function s_(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function z0(e){return qt(e.x)/qt(e.y)}class IO{constructor(){this.members=[]}add(t){hp(this.members,t),t.scheduleRender()}remove(t){if(fp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M0(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zO=(e,t)=>e.depth-t.depth;class MO{constructor(){this.children=[],this.isDirty=!1}add(t){hp(this.children,t),this.isDirty=!0}remove(t){fp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(zO),this.isDirty=!1,this.children.forEach(t)}}function DO(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(or(r),e(i-t))};return Ce.read(r,!0),()=>or(r)}function LO(e){window.MotionDebug&&window.MotionDebug.record(e)}function UO(e){return e instanceof SVGElement&&e.tagName!=="svg"}function FO(e,t,n){const r=zt(e)?e:wa(e);return r.start(dp("",r,t,n)),r.animation}const D0=["","X","Y","Z"],$O={visibility:"hidden"},L0=1e3;let BO=0;const Cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function i_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=BO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cs.totalNodes=Cs.resolvedTargetDeltas=Cs.recalculatedProjection=0,this.nodes.forEach(WO),this.nodes.forEach(QO),this.nodes.forEach(JO),this.nodes.forEach(KO),LO(Cs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new MO)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new mp),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UO(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=DO(m,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(F0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:f,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||nI,{onLayoutAnimationStart:_,onLayoutAnimationComplete:g}=d.getProps(),y=!this.targetLayout||!s_(this.targetLayout,v)||f,p=!m&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||p||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,p);const x={...up(w,"layout"),onPlay:_,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else m||F0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XO),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(U0);return}this.isUpdating||this.nodes.forEach(GO),this.isUpdating=!1,this.nodes.forEach(YO),this.nodes.forEach(VO),this.nodes.forEach(qO),this.clearAllSnapshots();const l=performance.now();mt.delta=os(0,1e3/60,l-mt.timestamp),mt.timestamp=l,mt.isProcessing=!0,Ed.update.process(mt),Ed.preRender.process(mt),Ed.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(HO),this.sharedNodes.forEach(ZO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!r_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||ks(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),rI(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ge();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Er(l.x,c.offset.x),Er(l.y,c.offset.y)),l}removeElementScroll(a){const l=Ge();Gt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Gt(l,a);const{scroll:m}=this.root;m&&(Er(l.x,-m.offset.x),Er(l.y,-m.offset.y))}Er(l.x,d.offset.x),Er(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=Ge();Gt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qi(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ks(d.latestValues)&&qi(c,d.latestValues)}return ks(this.latestValues)&&qi(c,this.latestValues),c}removeTransform(a){const l=Ge();Gt(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ks(u.latestValues))continue;Nf(u.latestValues)&&u.updateSnapshot();const d=Ge(),h=u.measurePageBox();Gt(d,h),O0(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ks(this.latestValues)&&O0(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),po(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gt(this.target,this.layout.layoutBox),J1(this.target,this.targetDelta)):Gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),po(this.relativeTargetOrigin,this.target,f.target),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nf(this.parent.latestValues)||Q1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Gt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;fO(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=Vi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi());const w=this.projectionTransform;mo(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=M0(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==m||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ge(),f=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=f!==v,_=this.getStack(),g=!_||_.members.length<=1,y=!!(w&&!g&&this.options.crossfade===!0&&!this.path.some(tI));this.animationProgress=0;let p;this.mixTargetDelta=x=>{const S=x/1e3;$0(h.x,a.x,S),$0(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(po(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eI(this.relativeTarget,this.relativeTargetOrigin,m,S),p&&OO(this.relativeTarget,p)&&(this.isProjectionDirty=!1),p||(p=Ge()),Gt(p,this.relativeTarget)),w&&(this.animationValues=d,NO(d,u,this.latestValues,S,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{dc.hasAnimatedSinceResize=!0,this.currentAnimation=FO(0,L0,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&a_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ge();const h=qt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=qt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Gt(l,c),qi(l,d),mo(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new IO),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<D0.length;d++){const h="rotate"+D0[d];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $O;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=uc(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=uc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ks(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=M0(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:f,y:v}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in Vc){if(m[w]===void 0)continue;const{correct:_,applyTo:g}=Vc[w],y=u.transform==="none"?m[w]:_(m[w],h);if(g){const p=g.length;for(let x=0;x<p;x++)u[g[x]]=y}else u[w]=y}return this.options.layoutId&&(u.pointerEvents=h===this?uc(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(U0),this.root.sharedNodes.clear()}}}function VO(e){e.updateLayout()}function qO(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?Yt(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],f=qt(m);m.min=r[h].min,m.max=m.min+f}):a_(i,n.layoutBox,r)&&Yt(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],f=qt(r[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const l=Vi();mo(l,r,n.layoutBox);const c=Vi();a?mo(c,e.applyTransform(s,!0),n.measuredBox):mo(c,r,n.layoutBox);const u=!r_(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const v=Ge();po(v,n.layoutBox,m.layoutBox);const w=Ge();po(w,r,f.layoutBox),s_(v,w)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function WO(e){Cs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function HO(e){e.clearSnapshot()}function U0(e){e.clearMeasurements()}function GO(e){e.isLayoutDirty=!1}function YO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function F0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function QO(e){e.resolveTargetDelta()}function JO(e){e.calcProjection()}function XO(e){e.resetRotation()}function ZO(e){e.removeLeadSnapshot()}function $0(e,t,n){e.translate=Me(t.translate,0,n),e.scale=Me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function B0(e,t,n,r){e.min=Me(t.min,n.min,r),e.max=Me(t.max,n.max,r)}function eI(e,t,n,r){B0(e.x,t.x,n.x,r),B0(e.y,t.y,n.y,r)}function tI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nI={duration:.45,ease:[.4,0,.1,1]},V0=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),q0=V0("applewebkit/")&&!V0("chrome/")?Math.round:Ke;function W0(e){e.min=q0(e.min),e.max=q0(e.max)}function rI(e){W0(e.x),W0(e.y)}function a_(e,t,n){return e==="position"||e==="preserve-aspect"&&!kf(z0(t),z0(n),.2)}const sI=i_({attachResizeListener:(e,t)=>Jn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ud={current:void 0},o_=i_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ud.current){const e=new sI({});e.mount(window),e.setOptions({layoutScroll:!0}),Ud.current=e}return Ud.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),iI={pan:{Feature:bO},drag:{Feature:xO,ProjectionNode:o_,MeasureLayout:e_}},aI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oI(e){const t=aI.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Pf(e,t,n=1){const[r,s]=oI(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return V1(a)?parseFloat(a):a}else return vf(s)?Pf(s,t,n+1):s}function lI(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!vf(i))return;const a=Pf(i,r);a&&s.set(a)});for(const s in t){const i=t[s];if(!vf(i))continue;const a=Pf(i,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const cI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),l_=e=>cI.has(e),uI=e=>Object.keys(e).some(l_),K0=e=>e===ci||e===re,H0=(e,t)=>parseFloat(e.split(", ")[t]),G0=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return H0(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?H0(i[1],e):0}},dI=new Set(["x","y","z"]),hI=ul.filter(e=>!dI.has(e));function fI(e){const t=[];return hI.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const xa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:G0(4,13),y:G0(5,14)};xa.translateX=xa.x;xa.translateY=xa.y;const mI=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=xa[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=xa[u](c,i)}),e},pI=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(l_);let i=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],h=Fa(d);const m=t[c];let f;if(Wc(m)){const v=m.length,w=m[0]===null?1:0;d=m[w],h=Fa(d);for(let _=w;_<v&&m[_]!==null;_++)f?ip(Fa(m[_])===f):f=Fa(m[_])}else f=Fa(m);if(h!==f)if(K0(h)&&K0(f)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&f===re&&(t[c]=m.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(d===0||m===0)?d===0?u.set(f.transform(d)):t[c]=h.transform(m):(a||(i=fI(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=mI(t,e,l);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),Cu&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function gI(e,t,n,r){return uI(t)?pI(e,t,n,r):{target:t,transitionEnd:r}}const yI=(e,t,n,r)=>{const s=lI(e,t,r);return t=s.target,r=s.transitionEnd,gI(e,t,n,r)},Tf={current:null},c_={current:!1};function vI(){if(c_.current=!0,!!Cu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tf.current=e.matches;e.addListener(t),t()}else Tf.current=!1}function wI(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(zt(i))e.addValue(s,i),Yc(r)&&r.add(s);else if(zt(a))e.addValue(s,wa(i,{owner:e})),Yc(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,wa(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Y0=new WeakMap,u_=Object.keys(Ho),xI=u_.length,Q0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bI=Qm.length;class _I{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ce.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=Eu(n),this.isVariantNode=Gb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const m=d[h];l[h]!==void 0&&zt(m)&&(m.set(l[h],!1),Yc(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Y0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),c_.current||vI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Y0.delete(this.current),this.projection&&this.projection.unmount(),or(this.notifyUpdate),or(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=li.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ce.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let a,l;for(let c=0;c<xI;c++){const u=u_[c],{isEnabled:d,Feature:h,ProjectionNode:m,MeasureLayout:f}=Ho[u];m&&(a=m),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),f&&(l=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:m,layoutRoot:f}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&$i(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:f})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Q0.length;r++){const s=Q0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=wI(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<bI;r++){const s=Qm[r],i=this.props[s];(Ko(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=wa(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=sp(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!zt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class d_ extends _I{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let a=UR(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){DR(this,r,a);const l=yI(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function SI(e){return window.getComputedStyle(e)}class jI extends d_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(li.has(n)){const r=cp(n);return r&&r.default||0}else{const r=SI(t),s=(Xb(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return X1(t,n)}build(t,n,r,s){Zm(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return rp(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){s1(t,n,r,s)}}class kI extends d_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(li.has(n)){const r=cp(n);return r&&r.default||0}return n=i1.has(n)?n:Gm(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ge()}scrapeMotionValuesFromProps(t,n){return o1(t,n)}build(t,n,r,s){tp(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){a1(t,n,r,s)}mount(t){this.isSVGTag=np(t.tagName),super.mount(t)}}const CI=(e,t)=>Xm(e)?new kI(t,{enableHardwareAcceleration:!1}):new jI(t,{enableHardwareAcceleration:!0}),NI={layout:{ProjectionNode:o_,MeasureLayout:e_}},EI={...eO,...xA,...iI,...NI},ge=PT((e,t)=>oA(e,t,EI,CI));function h_(){const e=b.useRef(!1);return Hm(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function PI(){const e=h_(),[t,n]=b.useState(0),r=b.useCallback(()=>{e.current&&n(t+1)},[t]);return[b.useCallback(()=>Ce.postRender(r),[r]),t]}class TI extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AI({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(TI,{isPresent:t,childRef:r,sizeRef:s},b.cloneElement(e,{ref:r}))}const Fd=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=l1(RI),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const h of l.values())if(!h)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return b.useMemo(()=>{l.forEach((d,h)=>l.set(h,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=b.createElement(AI,{isPresent:n},e)),b.createElement(ku.Provider,{value:u},e)};function RI(){return new Map}function OI(e){return b.useEffect(()=>()=>e(),[])}const Ns=e=>e.key||"";function II(e,t){e.forEach(n=>{const r=Ns(n);t.set(r,n)})}function zI(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const ml=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=b.useContext(Jm).forceRender||PI()[0],c=h_(),u=zI(e);let d=u;const h=b.useRef(new Map).current,m=b.useRef(d),f=b.useRef(new Map).current,v=b.useRef(!0);if(Hm(()=>{v.current=!1,II(u,f),m.current=d}),OI(()=>{v.current=!0,f.clear(),h.clear()}),v.current)return b.createElement(b.Fragment,null,d.map(y=>b.createElement(Fd,{key:Ns(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},y)));d=[...d];const w=m.current.map(Ns),_=u.map(Ns),g=w.length;for(let y=0;y<g;y++){const p=w[y];_.indexOf(p)===-1&&!h.has(p)&&h.set(p,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((y,p)=>{if(_.indexOf(p)!==-1)return;const x=f.get(p);if(!x)return;const S=w.indexOf(p);let j=y;if(!j){const P=()=>{h.delete(p);const N=Array.from(f.keys()).filter(k=>!_.includes(k));if(N.forEach(k=>f.delete(k)),m.current=u.filter(k=>{const E=Ns(k);return E===p||N.includes(E)}),!h.size){if(c.current===!1)return;l(),r&&r()}};j=b.createElement(Fd,{key:Ns(x),isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:i,mode:a},x),h.set(p,j)}d.splice(S,0,j)}),d=d.map(y=>{const p=y.key;return h.has(p)?y:b.createElement(Fd,{key:Ns(y),isPresent:!0,presenceAffectsLayout:i,mode:a},y)}),b.createElement(b.Fragment,null,h.size?d:d.map(y=>b.cloneElement(y)))};function ze({className:e,variant:t="default",...n}){const r={default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"};return o.jsx("div",{className:ye("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",r[t],e),...n})}function pp({addon:e,index:t=0}){var u,d;const n=((u=e.images)==null?void 0:u[0])||"https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=400&h=300&fit=crop",[r,s]=I.useState(0),[i,a]=I.useState(0),[l,c]=I.useState(0);return I.useEffect(()=>{e!=null&&e.id&&(async()=>{try{const m=await q.entities.Rating.getAverageRating(e.id),f=await q.entities.Rating.getRatingCount(e.id);s(m),a(f);const v=await q.entities.Purchase.filter({addon_id:e.id});c(v.length)}catch(m){console.error("Error loading stats:",m)}})()},[e]),o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:t*.05},children:o.jsx(Be,{to:We(`AddonDetail?id=${e.id}`),children:o.jsxs(ne,{className:"group overflow-hidden bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 transition-all duration-300 hover:shadow-xl hover:shadow-orange-500/10 cursor-pointer",children:[o.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[o.jsx("img",{src:n,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),e.video_url&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500 flex items-center justify-center",children:o.jsx(Mb,{className:"w-5 h-5 text-white fill-white ml-0.5"})})}),o.jsx("div",{className:"absolute top-3 right-3",children:e.is_free?o.jsx(ze,{className:"bg-emerald-500/90 text-white border-0",children:"Free"}):o.jsxs(ze,{className:"bg-orange-500/90 text-white border-0",children:[o.jsx(Fi,{className:"w-3 h-3 mr-0.5"}),e.price]})})]}),o.jsxs(qn,{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:o.jsx("h3",{className:"font-semibold text-white group-hover:text-orange-400 transition-colors line-clamp-1",children:e.title})}),o.jsx("p",{className:"text-sm text-zinc-400 line-clamp-2 mb-3",children:e.short_description||((d=e.description)==null?void 0:d.slice(0,100))}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e.category&&o.jsx(ze,{variant:"outline",className:"text-xs border-zinc-700 text-zinc-400",children:e.category.replace("_"," ")}),r>0&&o.jsxs("div",{className:"flex items-center gap-1 text-orange-400 text-xs",children:[o.jsx(uo,{className:"w-3 h-3 fill-orange-400"}),o.jsx("span",{children:r}),i>0&&o.jsxs("span",{className:"text-zinc-500",children:["(",i,")"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-zinc-500 text-xs",children:[!e.is_free&&l>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ub,{className:"w-3 h-3"}),l]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(as,{className:"w-3 h-3"}),e.downloads||0]})]})]}),e.author_name&&e.created_by&&o.jsxs(Be,{to:We(`UserProfile?email=${e.created_by}`),className:"text-xs text-zinc-500 hover:text-orange-400 mt-3 pt-3 border-t border-zinc-800 block transition-colors",onClick:h=>h.stopPropagation(),children:["by ",e.author_name]})]})]})})})}function J0(){const{user:e}=ll(),t=hr(),{data:n=[]}=Ae({queryKey:["featuredAddons"],queryFn:async()=>await q.entities.Addon.filter({is_published:!0},"-downloads",6)}),r=s=>{e||(s.preventDefault(),t("/login",{state:{from:{pathname:"/create"}}}))};return o.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[600px] bg-orange-500/20 rounded-full blur-[128px]"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-orange-600/10 rounded-full blur-[100px]"})]}),o.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-24 md:py-32",children:o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-8",children:[o.jsx(ts,{className:"w-4 h-4"}),"AI-Powered Blender Addon Creator"]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:["Create Blender Addons",o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-orange-400 to-orange-600 bg-clip-text text-transparent",children:"with AI Magic"})]}),o.jsx("p",{className:"text-xl text-zinc-400 max-w-2xl mx-auto mb-10",children:"Describe what you want, and our AI generates production-ready Blender addons instantly. Share your creations with the community."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e?o.jsx(Be,{to:We("Create"),children:o.jsxs(B,{size:"lg",className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-6 text-lg rounded-xl",children:[o.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Start Creating"]})}):o.jsxs(B,{size:"lg",onClick:r,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-6 text-lg rounded-xl",children:[o.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Start Creating"]}),o.jsx(Be,{to:We("Explore"),children:o.jsxs(B,{size:"lg",variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800 px-8 py-6 text-lg rounded-xl",children:["Explore Addons",o.jsx(Uy,{className:"w-5 h-5 ml-2"})]})})]})]})})]}),o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-20",children:o.jsx(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"grid md:grid-cols-3 gap-6",children:[{icon:fT,title:"AI-Powered Generation",description:"Describe your addon idea in plain English and get working Python code in seconds."},{icon:as,title:"Instant Download",description:"Download your addon as a .py file ready to install directly in Blender."},{icon:Wm,title:"Community Marketplace",description:"Share your creations, discover addons from others, or sell your premium tools."}].map((s,i)=>o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 hover:border-orange-500/30 transition-all duration-300",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-500/10 flex items-center justify-center mb-4",children:o.jsx(s.icon,{className:"w-6 h-6 text-orange-500"})}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:s.title}),o.jsx("p",{className:"text-zinc-400",children:s.description})]},i))})}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[o.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"How It Works"}),o.jsx("p",{className:"text-zinc-400 max-w-xl mx-auto",children:"Creating Blender addons has never been easier"})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{step:"01",title:"Describe Your Idea",description:"Tell us what you want your addon to do in plain language"},{step:"02",title:"AI Generates Code",description:"Our AI creates complete, working Python code for your addon"},{step:"03",title:"Download & Use",description:"Download the .py file and install it in Blender instantly"}].map((s,i)=>o.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},className:"relative",children:[o.jsx("div",{className:"text-6xl font-bold text-zinc-800 mb-4",children:s.step}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:s.title}),o.jsx("p",{className:"text-zinc-400",children:s.description}),i<2&&o.jsx("div",{className:"hidden md:block absolute top-8 right-0 translate-x-1/2",children:o.jsx(Uy,{className:"w-6 h-6 text-zinc-700"})})]},i))})]}),n.length>0&&o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[o.jsxs(ge.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Featured Addons"}),o.jsx("p",{className:"text-zinc-400",children:"Popular addons from the community"})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((s,i)=>o.jsx(pp,{addon:s,index:i},s.id))})]})]})}const xe=b.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));xe.displayName="Input";const In=b.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));In.displayName="Textarea";const gp=b.createContext(),yp=({defaultValue:e,value:t,onValueChange:n,children:r,className:s})=>{const[i,a]=b.useState(t||e),l=t!==void 0?t:i,c=n||a;return o.jsx(gp.Provider,{value:{value:l,onValueChange:c},children:o.jsx("div",{className:s,children:r})})},Ru=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ru.displayName="TabsList";const si=b.forwardRef(({className:e,value:t,...n},r)=>{const{value:s,onValueChange:i}=b.useContext(gp),a=s===t;return o.jsx("button",{ref:r,onClick:()=>i(t),className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a&&"bg-background text-foreground shadow-sm",e),...n})});si.displayName="TabsTrigger";const rs=b.forwardRef(({className:e,value:t,...n},r)=>{const{value:s}=b.useContext(gp);return s!==t?null:o.jsx("div",{ref:r,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n})});rs.displayName="TabsContent";function vp({code:e,filename:t="addon.py",readOnly:n=!0,onChange:r}){const[s,i]=b.useState(!1),[a,l]=b.useState(e);I.useEffect(()=>{l(e)},[e]);const c=()=>{navigator.clipboard.writeText(a),i(!0),D.success("Code copied to clipboard"),setTimeout(()=>i(!1),2e3)},u=()=>{const h=new Blob([a],{type:"text/x-python"}),m=URL.createObjectURL(h),f=document.createElement("a");f.href=m,f.download=t,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(m),D.success("Addon downloaded!")},d=h=>{const m=h.target.value;l(m),r&&r(m)};return o.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-zinc-950 border border-zinc-800",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-zinc-900 border-b border-zinc-800",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/80"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/80"}),o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/80"})]}),o.jsx("span",{className:"text-sm text-zinc-400 ml-2",children:t}),!n&&o.jsx(ze,{variant:"outline",className:"text-xs text-green-400 border-green-500/20",children:"Editable"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{size:"sm",variant:"ghost",onClick:c,className:"text-zinc-400 hover:text-white hover:bg-zinc-800",children:s?o.jsx(VP,{className:"w-4 h-4"}):o.jsx(HP,{className:"w-4 h-4"})}),o.jsxs(B,{size:"sm",onClick:u,className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(as,{className:"w-4 h-4 mr-1"}),"Download .py"]})]})]}),n?o.jsx("pre",{className:"p-4 overflow-auto max-h-[500px] text-sm",children:o.jsx("code",{className:"text-zinc-300 font-mono whitespace-pre",children:a})}):o.jsx("textarea",{value:a,onChange:d,className:"w-full p-4 bg-zinc-950 text-zinc-300 font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-orange-500/20 min-h-[400px] max-h-[600px] overflow-auto",style:{fontFamily:"monospace",tabSize:2},spellCheck:!1})]})}const me=b.forwardRef(({className:e,...t},n)=>o.jsx("label",{ref:n,className:ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));me.displayName="Label";const Qs=b.forwardRef(({className:e,checked:t,onCheckedChange:n,...r},s)=>o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:t,onChange:i=>n==null?void 0:n(i.target.checked),className:"sr-only peer",...r}),o.jsx("div",{className:ye("w-11 h-6 bg-zinc-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-500/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500",e)})]}));Qs.displayName="Switch";const pl=b.createContext(),lr=({children:e,value:t,onValueChange:n})=>{const[r,s]=b.useState(!1);return o.jsx(pl.Provider,{value:{value:t,onValueChange:n,open:r,setOpen:s},children:o.jsx("div",{className:"relative",children:e})})},zn=b.forwardRef(({className:e,children:t,...n},r)=>{const{open:s,setOpen:i}=b.useContext(pl);return o.jsxs("button",{ref:r,type:"button",onClick:()=>i(!s),className:ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:[t,o.jsx("svg",{className:"h-4 w-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})});zn.displayName="SelectTrigger";const cr=({placeholder:e})=>{const{value:t}=b.useContext(pl);return o.jsx("span",{children:t||e})},Mn=b.forwardRef(({className:e,children:t,...n},r)=>{const{open:s,setOpen:i}=b.useContext(pl);return s?o.jsxs("div",{ref:r,className:ye("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",e),...n,children:[t,o.jsx("div",{className:"fixed inset-0 z-[-1]",onClick:()=>i(!1)})]}):null});Mn.displayName="SelectContent";const et=b.forwardRef(({className:e,children:t,value:n,...r},s)=>{const{value:i,onValueChange:a,setOpen:l}=b.useContext(pl);return o.jsx("div",{ref:s,onClick:()=>{a(n),l(!1)},className:ye("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 px-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i===n&&"bg-accent",e),...r,children:t})});et.displayName="SelectItem";function MI(e){const t=[],n=[],r=[],s=[];try{const i=/class\s+(\w+)\s*\([^)]*(?:bpy\.types\.)?Panel[^)]*\):([\s\S]*?)(?=\nclass\s+\w+|\ndef\s+register|\ndef\s+unregister|\nif\s+__name__|$)/g;let a;for(;(a=i.exec(e))!==null;){const h=a[1],m=a[2],f=m.match(/bl_label\s*=\s*["']([^"']+)["']/),v=f?f[1]:h.replace(/^PANEL_PT_/,"").replace(/_/g," "),w=m.match(/bl_idname\s*=\s*["']([^"']+)["']/),_=w?w[1]:h.toLowerCase(),g=m.match(/bl_space_type\s*=\s*["']([^"']+)["']/),y=g?g[1]:"VIEW_3D",p=m.match(/bl_region_type\s*=\s*["']([^"']+)["']/),x=p?p[1]:"UI",S=m.match(/bl_context\s*=\s*["']([^"']+)["']/),j=S?S[1]:null,P=m.match(/def\s+draw\s*\([^)]*\):([\s\S]*?)(?=\n\s*(?:def\s+\w+|class\s+\w+|\#\s*---|if\s+__name__)|$)/),N=P?P[1]:"",k=DI(N,e);t.push({className:h,label:v,idname:_,spaceType:y,regionType:x,context:j,uiElements:k,rawCode:a[0]})}const l=/class\s+(\w+)\s*\([^)]*bpy\.types\.Operator[^)]*\):([\s\S]*?)(?=class\s+\w+|def\s+\w+|$)/g;let c;for(;(c=l.exec(e))!==null;){const h=c[1],m=c[2],f=m.match(/bl_label\s*=\s*["']([^"']+)["']/),v=f?f[1]:h.replace(/^OPERATOR_OT_/,"").replace(/_/g," "),w=m.match(/bl_idname\s*=\s*["']([^"']+)["']/),_=w?w[1]:h.toLowerCase();n.push({className:h,label:v,idname:_,rawCode:c[0]})}const u=/class\s+(\w+)\s*\([^)]*bpy\.types\.PropertyGroup[^)]*\):([\s\S]*?)(?=class\s+\w+|def\s+\w+|$)/g;let d;for(;(d=u.exec(e))!==null;){const h=d[1],f=d[2].matchAll(/(\w+)\s*:\s*bpy\.props\.(\w+)\([^)]*\)/g),v=[];for(const w of f)v.push({name:w[1],type:w[2]});r.push({className:h,properties:v,rawCode:d[0]})}}catch(i){s.push({type:"parse_error",message:`Failed to parse addon code: ${i.message}`,line:null})}return{panels:t,operators:n,properties:r,errors:s,hasPanels:t.length>0}}function DI(e,t=""){const n=[];if(!e)return n;const r=e.split(`
`);let s=0,i=!1,a=null,l=[];for(let c=0;c<r.length;c++){const u=r[c],d=u.trim(),h=u.length-u.trimStart().length;if(!d||d.startsWith("#"))continue;if(d.match(/box\s*=\s*layout\.box\(\)/)){for(let p=c+1;p<Math.min(c+5,r.length);p++){const x=r[p].trim(),S=x.match(/box\.label\([^)]*text\s*=\s*["']([^"']+)["']/);if(S){a=S[1];break}const j=x.match(/box\.label\([^)]*icon\s*=\s*["']([^"']+)["']/);j&&!a&&(a=j[1])}i=!0,l=[],s=h;continue}if(i){const p=d.match(/box\s*=\s*layout\.box\(\)/);if((p||h<s&&!d.includes("box.")&&!d.includes("row."))&&((l.length>0||a)&&n.push({type:"box",label:a,elements:[...l],line:c+1}),i=!1,a=null,l=[],p)){for(let x=c+1;x<Math.min(c+5,r.length);x++){const j=r[x].trim().match(/box\.label\([^)]*text\s*=\s*["']([^"']+)["']/);if(j){a=j[1];break}}i=!0,l=[],s=h;continue}}const f=d.match(/box\.label\([^)]*text\s*=\s*["']([^"']+)["']/);if(f&&i){a=f[1];continue}const v=d.match(/(?:layout|box)\.label\([^)]*text\s*=\s*["']([^"']+)["']/);if(v){const p={type:"label",text:v[1],line:c+1};i?l.push(p):n.push(p);continue}const w=d.match(/(?:layout|box)\.operator\([^)]*["']([^"']+)["']/);if(w){const p=w[1];let x=p;const S=t.match(new RegExp(`class\\s+\\w+.*?bl_idname\\s*=\\s*["']${p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}["'][\\s\\S]*?bl_label\\s*=\\s*["']([^"']+)["']`));S&&(x=S[1]);const j=d.match(/text\s*=\s*["']([^"']+)["']/);j&&(x=j[1]);const P=d.match(/icon\s*=\s*["']([^"']+)["']/),N={type:"operator",operatorId:p,text:x,icon:P?P[1]:null,line:c+1};i?l.push(N):n.push(N);continue}else{const p=d.match(/(?:layout|box)\.operator\(([A-Z_][A-Z0-9_]+)\.bl_idname/);if(p){const x=p[1],S=new RegExp(`class\\s+${x}[\\s\\S]*?bl_idname\\s*=\\s*["']([^"']+)["'][\\s\\S]*?bl_label\\s*=\\s*["']([^"']+)["']`),j=t.match(S);if(j){const P={type:"operator",operatorId:j[1],text:j[2]||x,line:c+1};i?l.push(P):n.push(P);continue}}}const _=d.match(/(?:layout|box|row)\.prop\([^,)]+,\s*["']([^"']+)["']/);if(_){const p=_[1],x=$d(p,t),S={type:"property",propertyName:p,propertyType:x,line:c+1};i?l.push(S):n.push(S);continue}const g=d.match(/(?:layout|box|row)\.prop\([^)]*["']([^"']+)["']/);if(g&&!_){const p=g[1],x=$d(p,t),S={type:"property",propertyName:p,propertyType:x,line:c+1};i?l.push(S):n.push(S);continue}if(d.includes(".separator()")){const p={type:"separator",line:c+1};i?l.push(p):n.push(p);continue}if(d.match(/row\s*=\s*(?:layout|box)\.row\(/)){const p=h,x=[];for(let j=c+1;j<Math.min(c+10,r.length);j++){const P=r[j],N=P.trim();if(P.length-P.trimStart().length<=p&&!N.includes("row."))break;const E=N.match(/row\.prop\([^,)]+,\s*["']([^"']+)["']/);if(E){const z=E[1],L=$d(z,t);x.push({type:"property",propertyName:z,propertyType:L,line:j+1})}}const S={type:"row",elements:x,line:c+1};i?l.push(S):n.push(S),x.length>0&&(c+=x.length);continue}}return i&&l.length>0&&n.push({type:"box",label:a,elements:l,line:r.length}),n}function X0(e,t){return e.includes("scale")||e.includes("size")||e.includes("distance")||e.includes("offset")?"FloatProperty":e.includes("count")||e.includes("number")||e.includes("amount")||e.includes("seed")?"IntProperty":e.includes("enable")||e.includes("use_")||e.includes("show_")||e.includes("apply_")?"BoolProperty":e.includes("color")||e.includes("colour")?"FloatVectorProperty":e.includes("mode")||e.includes("type")||e.includes("method")?"EnumProperty":"StringProperty"}function $d(e,t){if(!t)return X0(e);const n=new RegExp(`${e}\\s*:\\s*bpy\\.props\\.(\\w+)\\s*\\(`,"i"),r=t.match(n);if(r)return r[1];const s=new RegExp(`${e.replace(/_/g,"[_s]+")}\\s*:\\s*bpy\\.props\\.(\\w+)\\s*\\(`,"i"),i=t.match(s);return i?i[1]:X0(e)}function LI(e){const t=[],n=[];e.includes("bl_info")||t.push({type:"error",message:"Missing bl_info dictionary",line:1,suggestion:"Add a bl_info dictionary at the top of your addon"}),!e.includes("def register()")&&!e.includes("def register():")&&t.push({type:"error",message:"Missing register() function",line:null,suggestion:"Add a register() function to register your addon classes"}),!e.includes("def unregister()")&&!e.includes("def unregister():")&&t.push({type:"error",message:"Missing unregister() function",line:null,suggestion:"Add an unregister() function to unregister your addon classes"}),e.includes("bpy.")&&!e.includes("import bpy")&&t.push({type:"error",message:"Missing bpy import",line:null,suggestion:"Add 'import bpy' at the top of your file"});const r=(e.match(/\(/g)||[]).length,s=(e.match(/\)/g)||[]).length;r!==s&&n.push({type:"warning",message:"Possible parenthesis mismatch",line:null,suggestion:"Check for unmatched parentheses"});const i=(e.match(/\{/g)||[]).length,a=(e.match(/\}/g)||[]).length;return i!==a&&n.push({type:"warning",message:"Possible brace mismatch",line:null,suggestion:"Check for unmatched braces"}),{errors:t,warnings:n,isValid:t.length===0}}function UI({code:e,onError:t}){var g,y;const[n,r]=I.useState(!0),[s,i]=I.useState(!1),[a,l]=I.useState(null),[c,u]=I.useState(null),[d,h]=I.useState({}),m=I.useRef(null);if(I.useEffect(()=>{if(!e){l(null),u(null);return}return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{try{const p=MI(e),x=LI(e);l(p),u(x),t&&x.errors.length>0&&t(x.errors)}catch(p){console.error("Error parsing code:",p),l({panels:[],operators:[],properties:[],errors:[{type:"parse_error",message:p.message}],hasPanels:!1}),u({errors:[{type:"error",message:p.message,line:null}],warnings:[],isValid:!1})}},500),()=>{m.current&&clearTimeout(m.current)}},[e,t]),!e)return null;if(!a)return o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 text-center",children:[o.jsx(mf,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),o.jsx("p",{className:"text-zinc-400 mb-2",children:"Parsing code..."})]});const{panels:f,operators:v,errors:w}=a||{panels:[],operators:[],errors:[]},_=f&&f.length>0;return e&&a&&(console.log("Parsed panels:",f),console.log("Has panels:",_)),o.jsxs("div",{className:"space-y-4",children:[c&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:c.isValid?o.jsxs(o.Fragment,{children:[o.jsx(co,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-green-400 font-medium",children:"Code Valid"})]}):o.jsxs(o.Fragment,{children:[o.jsx(LP,{className:"w-5 h-5 text-red-500"}),o.jsxs("span",{className:"text-red-400 font-medium",children:[c.errors.length," Error",c.errors.length!==1?"s":""]})]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{size:"sm",variant:"ghost",onClick:()=>i(!s),className:"text-zinc-400 hover:text-white",title:s?"Expand preview":"Collapse preview",children:s?o.jsx(qm,{className:"w-4 h-4"}):o.jsx(Ib,{className:"w-4 h-4"})}),o.jsx(B,{size:"sm",variant:"ghost",onClick:()=>r(!n),className:"text-zinc-400 hover:text-white",children:n?o.jsxs(o.Fragment,{children:[o.jsx(pf,{className:"w-4 h-4 mr-2"}),"Hide"]}):o.jsxs(o.Fragment,{children:[o.jsx(gf,{className:"w-4 h-4 mr-2"}),"Show"]})})]})]}),c.errors.length>0&&o.jsx("div",{className:"space-y-2 mt-3",children:c.errors.map((p,x)=>o.jsxs("div",{className:"text-sm text-red-400 bg-red-500/10 p-2 rounded",children:[o.jsx("strong",{children:p.message}),p.suggestion&&o.jsx("div",{className:"text-red-300/80 mt-1 text-xs",children:p.suggestion})]},x))}),c.warnings.length>0&&o.jsx("div",{className:"space-y-2 mt-3",children:c.warnings.map((p,x)=>o.jsxs("div",{className:"text-sm text-yellow-400 bg-yellow-500/10 p-2 rounded",children:[o.jsx("strong",{children:p.message}),p.suggestion&&o.jsx("div",{className:"text-yellow-300/80 mt-1 text-xs",children:p.suggestion})]},x))})]}),o.jsx(ml,{children:n&&_&&!s&&o.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 overflow-hidden",children:[o.jsxs("div",{className:"bg-zinc-800/50 px-4 py-2 border-b border-zinc-700 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ZP,{className:"w-4 h-4 text-orange-500"}),o.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Panel Preview (Interactive)"}),o.jsxs(ze,{variant:"outline",className:"text-xs",children:[f.length," Panel",f.length!==1?"s":""]}),o.jsx(ze,{variant:"outline",className:"text-xs bg-green-500/10 text-green-400 border-green-500/20",children:"Live"})]}),o.jsxs(ze,{variant:"outline",className:"text-xs text-zinc-400",children:[((g=f[0])==null?void 0:g.spaceType)||"VIEW_3D"," / ",((y=f[0])==null?void 0:y.regionType)||"UI"]})]}),o.jsx("div",{className:"p-4 space-y-4",children:f.map((p,x)=>o.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-zinc-950 rounded-lg border border-zinc-800 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:p.label}),o.jsx(ze,{variant:"outline",className:"text-xs",children:p.idname})]}),o.jsx("div",{className:"space-y-3",children:p.uiElements.length>0?p.uiElements.map((S,j)=>o.jsx(Af,{element:S,operators:v,panelState:d,setPanelState:h,panelId:p.idname,elementId:`${p.idname}_${j}`},j)):o.jsx("div",{className:"text-sm text-zinc-500 italic",children:"No UI elements found in draw method"})})]},x))})]})})}),n&&!_&&!w.length&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 text-center",children:[o.jsx(mf,{className:"w-12 h-12 text-zinc-600 mx-auto mb-3"}),o.jsx("p",{className:"text-zinc-400 mb-2",children:"No UI panels detected in this addon"}),o.jsx("p",{className:"text-sm text-zinc-500",children:"Add a Panel class (bpy.types.Panel) to see a preview of your UI"})]})]})}function Af({element:e,operators:t,panelState:n,setPanelState:r,panelId:s,elementId:i}){const a=u=>`${s}_${i}_${u}`,l=(u,d)=>n[a(u)]??d,c=(u,d)=>{r(h=>({...h,[a(u)]:d}))};switch(e.type){case"label":return o.jsx("div",{className:"text-sm font-medium text-zinc-300 py-1",children:e.text});case"operator":const u=t.find(m=>m.idname===e.operatorId),d=()=>{D.success(`Operator "${e.text||(u==null?void 0:u.label)||e.operatorId}" clicked! (Preview mode)`),console.log("Operator executed:",e.operatorId)};return o.jsxs(B,{variant:"outline",onClick:d,className:"w-full justify-start border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:text-white hover:border-orange-500/50 transition-all",children:[o.jsx(Mb,{className:"w-4 h-4 mr-2"}),e.text||(u==null?void 0:u.label)||e.operatorId]});case"property":const h=l(e.propertyName,e.propertyType==="BoolProperty"?!1:e.propertyType==="IntProperty"||e.propertyType==="FloatProperty"?0:"");return o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{className:"text-sm text-zinc-400 capitalize",children:e.propertyName.replace(/_/g," ")}),e.propertyType==="BoolProperty"?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-zinc-300",children:"Enable"}),o.jsx(Qs,{checked:h,onCheckedChange:m=>c(e.propertyName,m),className:"data-[state=checked]:bg-orange-500"})]}):e.propertyType==="PointerProperty"?o.jsxs("div",{className:"space-y-1",children:[o.jsxs(lr,{value:h||"none",onValueChange:m=>c(e.propertyName,m),children:[o.jsx(zn,{className:"bg-zinc-950 border-zinc-700 text-zinc-300 hover:border-orange-500/50",children:o.jsx(cr,{placeholder:"Select..."})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"none",className:"text-white",children:"None"}),o.jsx(et,{value:"object1",className:"text-white",children:"Object 1"}),o.jsx(et,{value:"object2",className:"text-white",children:"Object 2"})]})]}),o.jsxs("p",{className:"text-xs text-zinc-500",children:["Pointer to ",e.propertyName.includes("collection")?"Collection":"Object"]})]}):e.propertyType==="EnumProperty"?o.jsxs(lr,{value:h,onValueChange:m=>c(e.propertyName,m),children:[o.jsx(zn,{className:"bg-zinc-950 border-zinc-700 text-zinc-300 hover:border-orange-500/50",children:o.jsx(cr,{placeholder:"Select option"})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"option1",className:"text-white",children:"Option 1"}),o.jsx(et,{value:"option2",className:"text-white",children:"Option 2"}),o.jsx(et,{value:"option3",className:"text-white",children:"Option 3"})]})]}):e.propertyType==="FloatProperty"?o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{type:"number",step:"0.1",value:h,onChange:m=>c(e.propertyName,parseFloat(m.target.value)||0),className:"bg-zinc-950 border-zinc-700 text-zinc-300 focus:border-orange-500",placeholder:"0.0"}),o.jsx("div",{className:"relative flex items-center",children:o.jsx("input",{type:"range",min:"0",max:"10",step:"0.1",value:h,onChange:m=>c(e.propertyName,parseFloat(m.target.value)),className:"w-full h-2 bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-orange-500"})})]}):e.propertyType==="IntProperty"?o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{type:"number",value:h,onChange:m=>c(e.propertyName,parseInt(m.target.value)||0),className:"bg-zinc-950 border-zinc-700 text-zinc-300 focus:border-orange-500",placeholder:"0"}),o.jsx("div",{className:"relative flex items-center",children:o.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:h,onChange:m=>c(e.propertyName,parseInt(m.target.value)),className:"w-full h-2 bg-zinc-800 rounded-lg appearance-none cursor-pointer accent-orange-500"})})]}):o.jsx(xe,{value:h,onChange:m=>c(e.propertyName,m.target.value),className:"bg-zinc-950 border-zinc-700 text-zinc-300 focus:border-orange-500",placeholder:"Enter value"})]});case"separator":return o.jsx("div",{className:"h-px bg-zinc-700 my-2"});case"box":return o.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded p-3 space-y-3",children:[e.label&&o.jsx("div",{className:"text-sm font-semibold text-zinc-300 mb-2 pb-2 border-b border-zinc-700",children:e.label}),e.elements&&e.elements.length>0?o.jsx("div",{className:"space-y-2",children:e.elements.map((m,f)=>o.jsx(Af,{element:m,operators:t,panelState:n,setPanelState:r,panelId:s,elementId:`${i}_box_${f}`},f))}):o.jsx("div",{className:"text-xs text-zinc-500",children:"Empty box"})]});case"row":return o.jsx("div",{className:"flex gap-2 items-center",children:e.elements&&e.elements.length>0?e.elements.map((m,f)=>o.jsx("div",{className:"flex-1",children:o.jsx(Af,{element:m,operators:t,panelState:n,setPanelState:r,panelId:s,elementId:`${i}_row_${f}`})},f)):o.jsx("div",{className:"text-xs text-zinc-500",children:"Row"})});case"column":return o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"text-xs text-zinc-500",children:"Column:"})});default:return o.jsxs("div",{className:"text-xs text-zinc-500 italic",children:["Unknown element: ",e.type]})}}const f_=b.forwardRef(({className:e,children:t,...n},r)=>o.jsx("div",{ref:r,className:ye("overflow-auto",e),...n,children:t}));f_.displayName="ScrollArea";let ki=null;const Rf="fireworks_api_key",FI="https://api.fireworks.ai/inference/v1/chat/completions",gl="accounts/fireworks/models/qwen3-8b";async function $I(e){if(ki=e,typeof window<"u"){localStorage.setItem(Rf,e);try{const{supabase:t}=await sn(async()=>{const{supabase:r}=await Promise.resolve().then(()=>va);return{supabase:r}},void 0),{data:{user:n}}=await t.auth.getUser();if(n!=null&&n.email){const{supabaseAdapter:r}=await sn(async()=>{const{supabaseAdapter:s}=await Promise.resolve().then(()=>Su);return{supabaseAdapter:s}},void 0);await r.ApiKey.set(n.email,"fireworks",e)}}catch(t){console.warn("Failed to save API key to Supabase:",t)}}}async function wp(){if(!ki&&typeof window<"u"){try{const{supabase:e}=await sn(async()=>{const{supabase:n}=await Promise.resolve().then(()=>va);return{supabase:n}},void 0),{data:{user:t}}=await e.auth.getUser();if(t!=null&&t.email){const{supabaseAdapter:n}=await sn(async()=>{const{supabaseAdapter:s}=await Promise.resolve().then(()=>Su);return{supabaseAdapter:s}},void 0),r=await n.ApiKey.get(t.email,"fireworks");if(r)return ki=r,localStorage.setItem(Rf,r),ki}}catch(e){console.warn("Failed to get API key from Supabase:",e)}ki=localStorage.getItem(Rf)}return ki}async function Ou(e,t={}){var u,d,h;const n=wp();if(!n)throw new Error("Fireworks API key not configured. Please add your API key in Settings.");const{model:r=gl,temperature:s=.2,max_tokens:i=100}=t,a=await fetch(FI,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({model:r,messages:e,temperature:s,max_tokens:i})});if(!a.ok){const m=await a.text().catch(()=>"");throw m.includes("<!DOCTYPE")||m.includes("<html")?new Error("Server proxy configuration failed. The API returned HTML instead of JSON. This might be a temporary issue."):a.status===401?new Error("Invalid Fireworks API key. Please check your key in Settings."):a.status===429?new Error("Fireworks rate limit reached. Please wait a bit and try again."):a.status>=500?new Error("Fireworks is currently overloaded or unavailable. Please try again later."):new Error(`Fireworks API error (${a.status}): ${m||a.statusText}`)}const l=await a.json(),c=(h=(d=(u=l==null?void 0:l.choices)==null?void 0:u[0])==null?void 0:d.message)==null?void 0:h.content;if(!c)throw new Error("Empty response from DeepSeek.");return c}async function BI(e){const t={role:"system",content:"You are an expert Blender Python addon developer. Generate ONLY Python code. No explanations, no thinking, no markdown. Start directly with bl_info."},n={role:"user",content:`Create a complete Blender addon: ${e}

CRITICAL REQUIREMENTS - COMPLETE EVERYTHING:
1. Always include proper bl_info dictionary with name, author, version, blender, location, description, category
2. Include proper register() and unregister() functions
3. Use proper Blender API conventions
4. Add helpful comments explaining the code
5. Make sure the addon is complete and can be installed directly in Blender
6. Include proper error handling where needed
7. Use descriptive names for operators, panels, and properties
8. COMPLETE all property definitions - never leave description parameters incomplete
9. COMPLETE all method implementations - never cut off mid-method
10. COMPLETE all class definitions - ensure all methods are fully implemented

ABSOLUTELY CRITICAL: Generate the ENTIRE addon code from start to finish. Do NOT stop mid-sentence, mid-property, or mid-method. Every string must be closed, every parenthesis matched, every method completed.

Generate ONLY the Python code, starting with imports, then bl_info, then all classes, then register/unregister functions.`};let s=(await Ou([t,n],{model:gl,temperature:.2,max_tokens:8e3})).replace(/<think>[\s\S]*?<\/think>/gi,"").replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim();const i=s.match(/bl_info\s*=\s*\{[^}]*["']name["']\s*:\s*["']([^"']+)["']/),a=i?i[1]:"My Blender Addon",l=s.match(/bl_info\s*=\s*\{[^}]*["']description["']\s*:\s*["']([^"']+)["']/),c=l?l[1]:"A Blender addon created with AI";return{addon_name:a,code:s,short_description:c}}async function VI(e){const t=`Generate 10 unique Blender addon ideas based on: ${e}
  
Return ONLY this JSON format (no other text):
[
  {"title": "Idea 1", "description": "Description 1"},
  {"title": "Idea 2", "description": "Description 2"}
]`,n=await Ou([{role:"system",content:"You are a JSON generator. Always respond with valid JSON only. No explanations. No thinking. Start with ["},{role:"user",content:t}],{model:gl,temperature:0,max_tokens:2e3});try{const r=n.replace(/<think>[\s\S]*?<\/think>/gi,"").trim();return JSON.parse(r)}catch{console.error("DeepSeek raw response:",n);const s=n.match(/\[[\s\S]*?\]/);if(s)try{return JSON.parse(s[0])}catch(i){console.error("Failed to parse extracted JSON:",i)}return[{title:"AI Generated Idea",description:"Unable to generate ideas. Please try again or check your API key."}]}}async function qI(e){const t={hasErrors:!1,errors:[],summary:"Preliminary checks completed"};if(e.includes("bl_info")||t.errors.push({type:"error",message:"Missing bl_info dictionary",line:1,suggestion:"Add a bl_info dictionary at the top of your addon with name, author, version, etc."}),(!e.includes("register()")||!e.includes("unregister()"))&&t.errors.push({type:"error",message:"Missing register() or unregister() functions",line:1,suggestion:"Add both register() and unregister() functions to handle addon enabling/disabling"}),e.includes("bpy.")&&!e.includes("import bpy")&&t.errors.push({type:"error",message:"Missing bpy import",line:1,suggestion:"Add 'import bpy' at the top of your file"}),t.errors.length>0)return t.hasErrors=!0,t.summary="Found critical issues in preliminary check",t;const n={role:"system",content:`You are an expert Blender addon reviewer. Analyze the code thoroughly and return a JSON object with this exact structure:
    {
      "hasErrors": boolean,
      "errors": [{
        "type": "error" | "warning" | "info",
        "message": "detailed description",
        "line": number | null,
        "suggestion": "specific suggestion"
      }],
      "summary": "overall assessment"
    }
    
    Check for:
    1. Syntax errors
    2. Missing or invalid bl_info
    3. Missing register()/unregister()
    4. Undefined variables/imports
    5. Common Blender API mistakes
    6. Error handling issues
    7. Performance concerns
    
    Be specific and include line numbers when possible.
    Return ONLY the JSON object with no other text.`},r={role:"user",content:`Analyze this Blender addon code:
\`\`\`python
${e}
\`\`\``};try{const a=(await Ou([n,r],{model:gl,temperature:0,max_tokens:2e3})).replace(/<think>[\s\S]*?<\/think>/gi,"").replace(/```json\s*|```/g,"").trim().match(/\{[\s\S]*\}/);if(a){const l=JSON.parse(a[0]);if(l&&typeof l=="object")return Array.isArray(l.errors)||(l.errors=[]),typeof l.hasErrors!="boolean"&&(l.hasErrors=l.errors.some(c=>c.type==="error")),l}return{hasErrors:!0,errors:[{type:"error",message:"Failed to analyze code - invalid response format",line:null,suggestion:"Please try again or check the console for more details"}],summary:"Analysis failed"}}catch(s){return console.error("Analysis error:",s),{hasErrors:!0,errors:[{type:"error",message:s.message||"Failed to analyze code",line:null,suggestion:"Check console for details"}],summary:"Analysis failed with error"}}}async function WI({code:e,errorMessage:t,analysisResult:n}){const r=n&&n.errors?JSON.stringify(n.errors,null,2):"";let s=`Fix this Blender addon code. Make sure it's complete, working, and error-free.

Original code:
\`\`\`python
${e}
\`\`\``;return t&&t.trim()&&(s+=`

Error message from Blender:
${t}`),r&&(s+=`

Issues found by static analysis:
${r}`),s+=`

IMPORTANT REQUIREMENTS:
1. Always include proper bl_info dictionary with name, author, version, blender, location, description, category
2. Include proper register() and unregister() functions
3. Use proper Blender API conventions (bpy module)
4. Add helpful comments explaining the code
5. Make sure the addon is complete and can be installed directly in Blender
6. Include proper error handling where needed
7. Use descriptive names for operators, panels, and properties

Return ONLY the fixed Python code. No thinking, no explanations. Start with bl_info.`,(await Ou([{role:"system",content:"You are an expert Blender Python addon developer. Generate ONLY Python code. No thinking, no explanations."},{role:"user",content:s}],{model:gl,temperature:0,max_tokens:4e3})).replace(/<think>[\s\S]*?<\/think>/gi,"").replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Z0||(Z0={}));var ev;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(ev||(ev={}));var tv;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(tv||(tv={}));var nv;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(nv||(nv={}));var Jc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.OTHER="OTHER"})(Jc||(Jc={}));var rv;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(rv||(rv={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class sv extends Yo{constructor(t,n){super(t),this.response=n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="https://generativelanguage.googleapis.com",HI="v1",GI="0.2.1",YI="genai-js";var ii;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ii||(ii={}));class yl{constructor(t,n,r,s){this.model=t,this.task=n,this.apiKey=r,this.stream=s}toString(){let t=`${KI}/${HI}/${this.model}:${this.task}`;return this.stream&&(t+="?alt=sse"),t}}function QI(){return`${YI}/${GI}`}async function vl(e,t,n){let r;try{if(r=await fetch(e.toString(),Object.assign(Object.assign({},JI(n)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":QI(),"x-goog-api-key":e.apiKey},body:t})),!r.ok){let s="";try{const i=await r.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${r.status} ${r.statusText}] ${s}`)}}catch(s){const i=new Yo(`Error fetching from ${e.toString()}: ${s.message}`);throw i.stack=s.stack,i}return r}function JI(e){const t={};if((e==null?void 0:e.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),e.timeout),t.signal=r}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),m_(e.candidates[0]))throw new sv(`${Xc(e)}`,e);return XI(e)}else if(e.promptFeedback)throw new sv(`Text not available. ${Xc(e)}`,e);return""},e}function XI(e){var t,n,r,s;return!((s=(r=(n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?e.candidates[0].content.parts[0].text:""}const ZI=[Jc.RECITATION,Jc.SAFETY];function m_(e){return!!e.finishReason&&ZI.includes(e.finishReason)}function Xc(e){var t,n,r;let s="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)s+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(s+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const i=e.candidates[0];m_(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Qo(e){return this instanceof Qo?(this.v=e,this):new Qo(e)}function e4(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(m){r[m]&&(s[m]=function(f){return new Promise(function(v,w){i.push([m,f,v,w])>1||l(m,f)})})}function l(m,f){try{c(r[m](f))}catch(v){h(i[0][3],v)}}function c(m){m.value instanceof Qo?Promise.resolve(m.value.v).then(u,d):h(i[0][2],m)}function u(m){l("next",m)}function d(m){l("throw",m)}function h(m,f){m(f),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function t4(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=s4(t),[r,s]=n.tee();return{stream:r4(r),response:n4(s)}}async function n4(e){const t=[],n=e.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return xp(i4(t));t.push(s)}}function r4(e){return e4(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:s}=yield Qo(n.read());if(s)break;yield yield Qo(xp(r))}})}function s4(e){const t=e.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return t.read().then(({value:a,done:l})=>{if(l){if(s.trim()){r.error(new Yo("Failed to parse stream"));return}r.close();return}s+=a;let c=s.match(iv),u;for(;c;){try{u=JSON.parse(c[1])}catch{r.error(new Yo(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(u),s=s.substring(c[0].length),c=s.match(iv)}return i()})}}})}function i4(e){const t=e[e.length-1],n={promptFeedback:t==null?void 0:t.promptFeedback};for(const r of e)if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[{text:""}]});for(const a of s.content.parts)a.text&&(n.candidates[i].content.parts[0].text+=a.text)}}return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_(e,t,n,r){const s=new yl(t,ii.STREAM_GENERATE_CONTENT,e,!0),i=await vl(s,JSON.stringify(n),r);return t4(i)}async function g_(e,t,n,r){const s=new yl(t,ii.GENERATE_CONTENT,e,!1),a=await(await vl(s,JSON.stringify(n),r)).json();return{response:xp(a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e,t){let n=[];if(typeof e=="string")n=[{text:e}];else for(const r of e)typeof r=="string"?n.push({text:r}):n.push(r);return{role:t,parts:n}}function Bd(e){return e.contents?e:{contents:[go(e,"user")]}}function a4(e){return typeof e=="string"||Array.isArray(e)?{content:go(e,"user")}:e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="SILENT_ERROR";class o4{constructor(t,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r!=null&&r.history&&(this._history=r.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return go(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t){var n,r;await this._sendPromise;const s=go(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]};let a;return this._sendPromise=this._sendPromise.then(()=>g_(this._apiKey,this.model,i,this.requestOptions)).then(l=>{var c;if(l.response.candidates&&l.response.candidates.length>0){this._history.push(s);const u=Object.assign({parts:[],role:"model"},(c=l.response.candidates)===null||c===void 0?void 0:c[0].content);this._history.push(u)}else{const u=Xc(l.response);u&&console.warn(`sendMessage() was unsuccessful. ${u}. Inspect response object for details.`)}a=l}),await this._sendPromise,a}async sendMessageStream(t){var n,r;await this._sendPromise;const s=go(t,"user"),i={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,contents:[...this._history,s]},a=p_(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>a).catch(l=>{throw new Error(av)}).then(l=>l.response).then(l=>{if(l.candidates&&l.candidates.length>0){this._history.push(s);const c=Object.assign({},l.candidates[0].content);c.role||(c.role="model"),this._history.push(c)}else{const c=Xc(l);c&&console.warn(`sendMessageStream() was unsuccessful. ${c}. Inspect response object for details.`)}}).catch(l=>{l.message!==av&&console.error(l)}),a}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(e,t,n,r){const s=new yl(t,ii.COUNT_TOKENS,e,!1);return(await vl(s,JSON.stringify(Object.assign(Object.assign({},n),{model:t})),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(e,t,n,r){const s=new yl(t,ii.EMBED_CONTENT,e,!1);return(await vl(s,JSON.stringify(n),r)).json()}async function u4(e,t,n,r){const s=new yl(t,ii.BATCH_EMBED_CONTENTS,e,!1),i=n.requests.map(l=>Object.assign(Object.assign({},l),{model:t}));return(await vl(s,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(t,n,r){this.apiKey=t,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.requestOptions=r||{}}async generateContent(t){const n=Bd(t);return g_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}async generateContentStream(t){const n=Bd(t);return p_(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},n),this.requestOptions)}startChat(t){return new o4(this.apiKey,this.model,t,this.requestOptions)}async countTokens(t){const n=Bd(t);return l4(this.apiKey,this.model,n)}async embedContent(t){const n=a4(t);return c4(this.apiKey,this.model,n)}async batchEmbedContents(t){return u4(this.apiKey,this.model,t,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Yo("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new d4(this.apiKey,t,n)}}let Ci=null;async function h4(e){if(Ci=e,typeof window<"u"){localStorage.setItem("gemini_api_key",e);try{const{supabase:t}=await sn(async()=>{const{supabase:r}=await Promise.resolve().then(()=>va);return{supabase:r}},void 0),{data:{user:n}}=await t.auth.getUser();if(n!=null&&n.email){const{supabaseAdapter:r}=await sn(async()=>{const{supabaseAdapter:s}=await Promise.resolve().then(()=>Su);return{supabaseAdapter:s}},void 0);await r.ApiKey.set(n.email,"gemini",e)}}catch(t){console.warn("Failed to save API key to Supabase:",t)}}}async function Ea(){if(!Ci&&typeof window<"u"){try{const{supabase:e}=await sn(async()=>{const{supabase:n}=await Promise.resolve().then(()=>va);return{supabase:n}},void 0),{data:{user:t}}=await e.auth.getUser();if(t!=null&&t.email){const{supabaseAdapter:n}=await sn(async()=>{const{supabaseAdapter:s}=await Promise.resolve().then(()=>Su);return{supabaseAdapter:s}},void 0),r=await n.ApiKey.get(t.email,"gemini");if(r)return Ci=r,localStorage.setItem("gemini_api_key",r),Ci}}catch(e){console.warn("Failed to get API key from Supabase:",e)}Ci=localStorage.getItem("gemini_api_key")}return Ci}async function f4(e){const t=Ea();if(!t)throw new Error("Gemini API key not configured. Please add your API key in Settings.");try{const r=new Iu(t).getGenerativeModel({model:"gemini-2.5-flash"}),s=`You are a creative Blender addon idea generator. Based on the given Blender functionalities, generate 10 unique and innovative Blender addon ideas.
For each idea, provide a concise title and a short description (1-2 sentences).
Return ONLY a valid JSON array of objects, each with "title" and "description" fields. DO NOT include any conversational text, markdown, or extra characters outside the JSON array.

Functionalities:
${e}`,l=(await(await r.generateContent({contents:[{parts:[{text:s}]}],generationConfig:{maxOutputTokens:2e3,temperature:.7}})).response).text(),c=l.replace(/```json\s*/gi,"").replace(/```\s*$/g,"").trim();try{return JSON.parse(c)}catch{console.error("Gemini raw response:",l),console.error("Gemini cleaned response:",c);const d=c.match(/\[[\s\S]*\]/);if(d)try{return JSON.parse(d[0])}catch{}return[{title:"AI Generated Idea",description:c.substring(0,200)+(c.length>200?"...":"")}]}}catch(n){throw console.error("Gemini generateIdea error:",n),new Error(`Failed to generate ideas: ${n.message}`)}}async function m4(e){var n,r,s;const t=Ea();if(!t)throw new Error("Gemini API key not configured. Please add your API key in Settings.");try{const i=new Iu(t),a=i.getGenerativeModel({model:"gemini-2.5-flash"}),l=`You are an expert Blender Python addon developer. Create a COMPLETE, FULLY FUNCTIONAL Blender addon based on the user's request.

CRITICAL REQUIREMENTS - YOU MUST INCLUDE ALL OF THESE AND COMPLETE EVERYTHING:
1. bl_info dictionary with ALL required fields: name, author, version, blender (minimum version), location, description, category
2. ALL necessary imports (import bpy, import bmesh, etc.)
3. PropertyGroup class if properties are needed - COMPLETE all property definitions with full descriptions
4. Operator class(es) with execute() method that contains the actual functionality - COMPLETE the entire execute method
5. Panel class(es) with draw() method that displays the UI - COMPLETE the entire draw method with all UI elements
6. register() function that registers ALL classes (operators, panels, property groups)
7. unregister() function that unregisters ALL classes in reverse order
8. if __name__ == "__main__": block that calls register() for testing

ABSOLUTELY CRITICAL - DO NOT CUT OFF:
- NEVER leave a property definition incomplete (always finish the description parameter)
- NEVER leave a method incomplete (always close all parentheses, brackets, and complete all statements)
- NEVER leave a class incomplete (always include all methods fully implemented)
- The code MUST be syntactically complete and runnable
- Every string must be closed, every parenthesis matched, every method completed

IMPORTANT:
- The code MUST be complete and runnable - NO truncated code
- Include actual working functionality, not just placeholders
- Use proper Blender API (bpy.ops, bpy.context, bpy.data, etc.)
- Add error handling with try/except blocks
- Include helpful comments
- Make operators actually do something useful related to the request
- Complete ALL property definitions with full parameters
- Complete ALL method implementations

User's request: ${e}

Generate COMPLETE Python code starting with imports, then bl_info, then all classes, then register/unregister functions. 
CRITICAL: Generate the ENTIRE addon code from start to finish. Do NOT stop mid-sentence, mid-property, or mid-method.
NO explanations, NO markdown, NO code blocks - just the raw Python code.`,c=i.getGenerativeModel({model:"gemini-2.5-flash"}),d=await(await c.generateContent({contents:[{parts:[{text:l}]}],generationConfig:{maxOutputTokens:16e3,temperature:.2}})).response;let h=d.text();const m=(r=(n=d.candidates)==null?void 0:n[0])==null?void 0:r.finishReason;(m==="MAX_TOKENS"||m==="OTHER")&&console.warn("Response may have been truncated. Finish reason:",m),h=h.replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim();const f=ov(h);if(!f.complete&&(console.warn("Code may be incomplete:",f.reason),h.length<2e3||f.reason.includes("cut off"))){console.log("Attempting to complete truncated code...");try{const y=`The following Blender addon code was cut off mid-generation. Please complete it from where it left off. Continue exactly where it stopped and complete all remaining parts including:
- Any incomplete property definitions
- Any incomplete methods
- The register() function
- The unregister() function
- The if __name__ == "__main__": block

Here's the incomplete code:
\`\`\`python
${h}
\`\`\`

Generate ONLY the continuation of the code starting from where it was cut off. Do NOT repeat any code that's already there.`,x=(await c.generateContent({contents:[{parts:[{text:y}]}],generationConfig:{maxOutputTokens:8e3,temperature:.1}})).response.text().replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim();h=h+`

`+x,ov(h).complete||console.warn("Code still incomplete after completion attempt")}catch(y){console.error("Failed to complete code:",y)}}const v=h.match(/bl_info\s*=\s*\{[^}]*"name"\s*:\s*"([^"]+)"/),w=v?v[1]:"My Blender Addon",_=h.match(/bl_info\s*=\s*\{[^}]*"description"\s*:\s*"([^"]+)"/),g=_?_[1]:"A Blender addon created with AI";return{addon_name:w,code:h.trim(),short_description:g}}catch(i){throw console.error("Gemini API error:",i),(s=i.message)!=null&&s.includes("API_KEY")?new Error("Invalid API key. Please check your Gemini API key in Settings."):new Error(`Failed to generate addon: ${i.message}`)}}function ov(e){const t=[],n=(e.match(/\(/g)||[]).length,r=(e.match(/\)/g)||[]).length;n!==r&&t.push("Unmatched parentheses");const s=(e.match(/\{/g)||[]).length,i=(e.match(/\}/g)||[]).length;s!==i&&t.push("Unmatched braces");const a=(e.match(/\[/g)||[]).length,l=(e.match(/\]/g)||[]).length;a!==l&&t.push("Unmatched brackets");const c=(e.match(/'/g)||[]).length,u=(e.match(/"/g)||[]).length;(c%2!==0||u%2!==0)&&t.push("Unclosed string"),e.includes("def register()")||t.push("Missing register() function"),e.includes("def unregister()")||t.push("Missing unregister() function");const d=e.trim().split(`
`).pop()||"";return d&&!d.match(/[;:}\]]\s*$/)&&!d.match(/^def\s+\w+/)&&!d.match(/^class\s+\w+/)&&d.includes("description")&&!d.includes('"')&&!d.includes("'")&&t.push("Code appears to be cut off mid-property definition"),{complete:t.length===0,reason:t.join(", ")}}async function p4(e){const t=Ea();if(!t)throw new Error("Gemini API key not configured. Please add your API key in Settings.");const n={hasErrors:!1,errors:[],summary:"Preliminary checks completed"};if(e.includes("bl_info")||n.errors.push({type:"error",message:"Missing bl_info dictionary",line:1,suggestion:"Add a bl_info dictionary at the top of your addon with name, author, version, etc."}),(!e.includes("register()")||!e.includes("unregister()"))&&n.errors.push({type:"error",message:"Missing register() or unregister() functions",line:1,suggestion:"Add both register() and unregister() functions to handle addon enabling/disabling"}),e.includes("bpy.")&&!e.includes("import bpy")&&n.errors.push({type:"error",message:"Missing bpy import",line:1,suggestion:"Add 'import bpy' at the top of your file"}),n.errors.length>0)return n.hasErrors=!0,n.summary="Found critical issues in preliminary check",n;try{const s=new Iu(t).getGenerativeModel({model:"gemini-2.5-flash"}),i=`You are an expert Blender addon reviewer. Analyze the code thoroughly and return a JSON object with this exact structure:
    {
      "hasErrors": boolean,
      "errors": [{
        "type": "error" | "warning" | "info",
        "message": "detailed description",
        "line": number | null,
        "suggestion": "specific suggestion"
      }],
      "summary": "overall assessment"
    }
    
    Check for:
    1. Syntax errors
    2. Missing or invalid bl_info
    3. Missing register()/unregister()
    4. Undefined variables/imports
    5. Common Blender API mistakes
    6. Error handling issues
    7. Performance concerns
    
    Be specific and include line numbers when possible.
    Return ONLY the JSON object with no other text.`,a=`Analyze this Blender addon code:
\`\`\`python
${e}
\`\``,h=(await(await s.generateContent({contents:[{parts:[{text:i+`

`+a}]}],generationConfig:{maxOutputTokens:2e3,temperature:0}})).response).text().replace(/```json\s*|```/g,"").trim().match(/\{[\s\S]*\}/);if(h)try{const m=JSON.parse(h[0]);if(m&&typeof m=="object")return Array.isArray(m.errors)||(m.errors=[]),typeof m.hasErrors!="boolean"&&(m.hasErrors=m.errors.some(f=>f.type==="error")),m}catch(m){console.error("Failed to parse Gemini analysis response:",m)}return{hasErrors:!0,errors:[{type:"error",message:"Failed to analyze code - invalid response format",line:null,suggestion:"Please try again or check the console for more details"}],summary:"Analysis failed"}}catch(r){return console.error("Gemini analysis error:",r),{hasErrors:!0,errors:[{type:"error",message:r.message||"Failed to analyze code",line:null,suggestion:"Check console for details"}],summary:"Analysis failed with error"}}}async function g4({code:e,errorMessage:t,analysisResult:n}){var a;const r=Ea();if(!r)throw new Error("Gemini API key not configured. Please add your API key in Settings.");const s=n&&n.errors?JSON.stringify(n.errors,null,2):"";let i=`Fix this Blender addon code. Make sure it's complete, working, and error-free.

Original code:
\`\`\`python
${e}
\`\``;t&&t.trim()&&(i+=`

Error message from Blender:
${t}`),s&&(i+=`

Issues found by static analysis:
${s}`),i+=`

IMPORTANT REQUIREMENTS:
1. Always include proper bl_info dictionary with name, author, version, blender, location, description, category
2. Include proper register() and unregister() functions
3. Use proper Blender API conventions (bpy module)
4. Add helpful comments explaining the code
5. Make sure the addon is complete and can be installed directly in Blender
6. Include proper error handling where needed
7. Use descriptive names for operators, panels, and properties

Return ONLY the fixed Python code. No thinking, no explanations. Start with bl_info.`;try{return(await(await new Iu(r).getGenerativeModel({model:"gemini-2.5-flash"}).generateContent({contents:[{parts:[{text:"You are an expert Blender Python addon developer. Generate ONLY Python code. No thinking, no explanations."+`

`+i}]}],generationConfig:{maxOutputTokens:4e3,temperature:0}})).response).text().replace(/```python\s*/gi,"").replace(/```\s*$/g,"").trim()}catch(l){throw console.error("Gemini fix code error:",l),(a=l.message)!=null&&a.includes("API_KEY")?new Error("Invalid API key. Please check your Gemini API key in Settings."):new Error(`Failed to fix code: ${l.message}`)}}const y4="llm_preferred_provider";function v4(){return typeof window>"u"?"auto":localStorage.getItem(y4)||"auto"}function w4(){const e=!!wp(),t=!!Ea(),n=v4(),r=[];return n==="fireworks"?(e&&r.push("fireworks"),t&&r.push("gemini")):(t&&r.push("gemini"),e&&r.push("fireworks")),r}function x4(e){if(!e)return!1;const t=e.toLowerCase();return t.includes("invalid")&&t.includes("api key")}async function zu(e,t){const n=w4();if(n.length===0)throw new Error("No AI providers configured. Please add at least one API key in Settings.");const r=[];for(const s of n)try{return await t(s)}catch(i){const a=(i==null?void 0:i.message)||String(i);if(r.push(`${s}: ${a}`),x4(a))continue;continue}throw new Error(`All AI providers failed for ${e}.
`+r.map(s=>`- ${s}`).join(`
`))}async function y_(e){return zu("generateAddonCode",async t=>{if(t==="gemini")return m4(e);if(t==="fireworks")return BI(e);throw new Error(`Unknown provider: ${t}`)})}async function b4(e){return zu("generateIdeas",async t=>{if(t==="gemini")return f4(e);if(t==="fireworks")return VI(e);throw new Error(`Unknown provider: ${t}`)})}async function _4(e){return zu("analyzeAddonCode",async t=>{if(t==="gemini")return p4(e);if(t==="fireworks")return qI(e);throw new Error(`Unknown provider: ${t}`)})}async function S4(e){return zu("fixAddonCode",async t=>{if(t==="gemini")return g4(e);if(t==="fireworks")return WI(e);throw new Error(`Unknown provider: ${t}`)})}function j4({initialCode:e="",onCodeUpdate:t,onReset:n}){const[r,s]=b.useState([]),[i,a]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState(e),h=b.useRef(null),m=b.useRef(null);b.useEffect(()=>{e&&r.length===0&&d(e)},[e]),b.useEffect(()=>{if(h.current){const g=h.current.querySelector("[data-radix-scroll-area-viewport]");g&&(g.scrollTop=g.scrollHeight)}},[r]);const f=async()=>{var p;if(!i.trim()||l)return;const g=i.trim();a("");const y={id:Date.now(),role:"user",content:g,timestamp:new Date};s(x=>[...x,y]),c(!0);try{let x=g;u&&(x=`Based on this existing addon code:

\`\`\`python
${u}
\`\`\`

User request: ${g}

Please update the code according to the user's request. If the request is vague, make reasonable improvements or additions.`);const S=await y_(x),j=S.code;d(j),t&&t(j,S.addon_name);const P={id:Date.now()+1,role:"assistant",content:`I've updated your addon code. Here's what changed:

- ${S.short_description||"Code has been updated based on your request"}`,code:j,addonName:S.addon_name,timestamp:new Date};s(N=>[...N,P])}catch(x){console.error("Error generating code:",x),D.error(x.message||"Failed to generate code");const S={id:Date.now()+1,role:"assistant",content:`Sorry, I encountered an error: ${x.message}`,isError:!0,timestamp:new Date};s(j=>[...j,S])}finally{c(!1),(p=m.current)==null||p.focus()}},v=()=>{s([]),d(""),a(""),n&&n()},w=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),f())},_=[{label:"Add Settings Panel",prompt:"Add a settings panel with options for the user to configure"},{label:"Make it Faster",prompt:"Optimize the code for better performance"},{label:"Add Error Handling",prompt:"Add comprehensive error handling throughout the code"},{label:"Add Documentation",prompt:"Add detailed comments and docstrings to explain the code"}];return o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 flex flex-col h-full max-h-[600px]",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-zinc-800 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nT,{className:"w-5 h-5 text-orange-500"}),o.jsx("h3",{className:"font-semibold text-white",children:"Conversational Development"}),r.length>0&&o.jsxs(ze,{variant:"outline",className:"text-xs",children:[r.length," message",r.length!==1?"s":""]})]}),r.length>0&&o.jsxs(B,{size:"sm",variant:"ghost",onClick:v,className:"text-zinc-400 hover:text-white",children:[o.jsx(Db,{className:"w-4 h-4 mr-2"}),"Reset"]})]}),o.jsx(f_,{ref:h,className:"flex-1 px-4 py-4",children:o.jsxs("div",{className:"space-y-4",children:[r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-orange-500/10 mb-4",children:o.jsx(ts,{className:"w-8 h-8 text-orange-500"})}),o.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Start a Conversation"}),o.jsx("p",{className:"text-zinc-400 text-sm mb-6 max-w-md mx-auto",children:"Describe what you want to change or improve in your addon. I'll update the code for you!"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-w-md mx-auto",children:_.map((g,y)=>o.jsx(B,{variant:"outline",size:"sm",onClick:()=>{a(g.prompt),setTimeout(()=>f(),100)},className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800 hover:text-white text-xs",children:g.label},y))})]}):o.jsx(ml,{children:r.map(g=>o.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`flex gap-3 ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="assistant"&&o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-orange-500/10 flex items-center justify-center",children:o.jsx($y,{className:"w-5 h-5 text-orange-500"})}),o.jsxs("div",{className:`flex flex-col gap-1 max-w-[80%] ${g.role==="user"?"items-end":"items-start"}`,children:[o.jsxs(ne,{className:`p-3 ${g.role==="user"?"bg-orange-500/10 border-orange-500/20":g.isError?"bg-red-500/10 border-red-500/20":"bg-zinc-800/50 border-zinc-700"}`,children:[o.jsxs("div",{className:"flex items-start gap-2",children:[g.role==="user"&&o.jsx(Rn,{className:"w-4 h-4 text-orange-400 mt-0.5 flex-shrink-0"}),o.jsx("p",{className:`text-sm ${g.role==="user"?"text-orange-200":g.isError?"text-red-200":"text-zinc-300"}`,children:g.content})]}),g.code&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(mf,{className:"w-4 h-4 text-green-400"}),o.jsxs("span",{className:"text-xs text-green-400 font-medium",children:["Code Updated: ",g.addonName||"Addon"]})]}),o.jsx("pre",{className:"text-xs text-zinc-400 bg-zinc-950 p-2 rounded overflow-x-auto",children:o.jsxs("code",{children:[g.code.substring(0,200),"..."]})})]})]}),o.jsx("span",{className:"text-xs text-zinc-500 px-1",children:g.timestamp.toLocaleTimeString()})]}),g.role==="user"&&o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(Rn,{className:"w-5 h-5 text-zinc-400"})})]},g.id))}),l&&o.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex gap-3 justify-start",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-orange-500/10 flex items-center justify-center",children:o.jsx($y,{className:"w-5 h-5 text-orange-500"})}),o.jsx(ne,{className:"bg-zinc-800/50 border-zinc-700 p-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ke,{className:"w-4 h-4 animate-spin text-orange-500"}),o.jsx("span",{className:"text-sm text-zinc-400",children:"Generating code..."})]})})]})]})}),o.jsxs("div",{className:"px-4 py-3 border-t border-zinc-800",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(In,{ref:m,value:i,onChange:g=>a(g.target.value),onKeyPress:w,placeholder:"Describe what you want to change or improve...",className:"flex-1 bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500 resize-none min-h-[60px] max-h-[120px]",disabled:l}),o.jsx(B,{onClick:f,disabled:!i.trim()||l,className:"bg-orange-500 hover:bg-orange-600 text-white px-6",children:l?o.jsx(ke,{className:"w-4 h-4 animate-spin"}):o.jsx(iT,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})}const k4=[{name:"Quick Object Duplicator",description:"Quickly duplicate selected objects in a grid pattern with customizable rows and columns",prompt:"Create a Blender addon that adds a button to quickly duplicate selected objects in a grid pattern with customizable rows and columns, spacing, and rotation options."},{name:"Material Library Manager",description:"Organize and manage your material library with categories and tags",prompt:"Create a Blender addon for managing a material library. It should allow users to save, organize, and quickly apply materials with categories, tags, and search functionality."},{name:"Batch Render Manager",description:"Render multiple scenes or camera angles automatically",prompt:"Create a Blender addon that allows batch rendering of multiple scenes or camera angles with customizable output settings and automatic file naming."},{name:"UV Unwrap Assistant",description:"Smart UV unwrapping tools with automatic seam detection",prompt:"Create a Blender addon that provides smart UV unwrapping tools with automatic seam detection, island packing optimization, and UV layout management."},{name:"Animation Timeline Cleaner",description:"Clean up and organize keyframes in the animation timeline",prompt:"Create a Blender addon that helps clean up animation timelines by removing redundant keyframes, organizing channels, and providing timeline management tools."},{name:"Asset Browser Organizer",description:"Organize and categorize assets in the asset browser",prompt:"Create a Blender addon for organizing assets in the asset browser with custom categories, tags, preview management, and search capabilities."}];function C4(){const t=new URLSearchParams(window.location.search).get("prompt")||"",n=hr(),[r,s]=b.useState(t),[i,a]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState(""),[h,m]=b.useState(!1),[f,v]=b.useState([]),[w,_]=b.useState(!t),[g,y]=b.useState(""),[p,x]=b.useState("ai"),[S,j]=b.useState(!1);b.useEffect(()=>{t&&(s(t),_(!1)),P()},[t]);const P=async()=>{try{const F=await q.auth.me(),le=await q.entities.Idea.filter({created_by:F.email});v(le.filter(A=>A.is_template!==!1))}catch(F){console.error("Error loading ideas:",F)}},N=async F=>{try{await q.entities.Idea.delete(F),D.success("Template deleted"),P()}catch{D.error("Failed to delete template")}},k=F=>{s(F),_(!1),D.success("Template loaded!")},E=async()=>{if(!r.trim()){D.error("Please describe what you want your addon to do");return}c(!0);try{const F=await y_(r);d(F.addon_name||"My Blender Addon"),a(F.code),D.success("Addon generated successfully!")}catch(F){D.error(F.message||"Failed to generate addon")}finally{c(!1)}},z=F=>{var Y;const le=(Y=F.target.files)==null?void 0:Y[0];if(!le)return;if(!le.name.endsWith(".py")){D.error("Please upload a Python (.py) file");return}const A=new FileReader;A.onload=O=>{const R=O.target.result;y(R),x("manual");const U=R.match(/bl_info\s*=\s*\{[^}]*"name"\s*:\s*"([^"]+)"/);U&&d(U[1]),D.success("Addon file loaded!")},A.readAsText(le)},L=async()=>{const F=p==="ai"?i:g;if(!F.trim()){D.error("Please generate or upload addon code first");return}m(!0);try{const le=await q.auth.me(),A=await q.entities.Addon.create({title:u||"My Blender Addon",code:F,prompt_used:p==="ai"?r:"Manually uploaded",is_published:!1,is_free:!0,price:0,author_name:le.full_name||"Anonymous",downloads:0,created_by:le.email,images:[],video_url:"",description:"",short_description:"",category:"other",allow_forking:!0,forks_count:0});await q.entities.AddonVersion.create({addon_id:A.id,version_number:"1.0.0",code:F,changelog:p==="ai"?"Initial version created with AI":"Initial version uploaded",is_current:!0}),D.success("Addon saved to your collection!"),J(),setTimeout(()=>{n("/myaddons")},1e3)}catch{D.error("Failed to save addon")}finally{m(!1)}},J=()=>{s(""),a(""),y(""),d(""),_(!0),x("ai")};return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12",children:[o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-6",children:[o.jsx(ts,{className:"w-4 h-4"}),"AI-Powered Addon Creator"]}),o.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Create Blender Addons",o.jsx("span",{className:"text-orange-500",children:" with AI"})]}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-2xl mx-auto",children:'Create addons with AI or upload your own. After saving, you can set prices, add images, and sell them in "My Addons".'})]}),w&&o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Templates & Ideas"}),o.jsx(B,{variant:"ghost",onClick:()=>_(!1),className:"text-zinc-400 hover:text-white",children:"Hide Templates"})]}),f.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(qo,{className:"w-5 h-5 text-orange-500"}),"Your Templates (",f.length,")"]})}),o.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:f.map(F=>o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 transition-all relative group",children:[o.jsxs("div",{className:"p-4 pr-10",children:[o.jsx("h4",{className:"font-semibold text-white mb-1",children:F.name}),o.jsx("p",{className:"text-sm text-zinc-400 mb-2",children:F.description}),o.jsx(B,{size:"sm",onClick:()=>k(F.prompt||F.description),className:"bg-orange-500 hover:bg-orange-600 text-white text-xs",children:"Use Template"})]}),o.jsx(B,{size:"sm",variant:"ghost",onClick:()=>N(F.id),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity text-red-400 hover:text-red-300",children:o.jsx(Km,{className:"w-4 h-4"})})]},F.id))})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[o.jsx(cl,{className:"w-5 h-5 text-orange-500"}),"Helpful Default Templates"]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:k4.map((F,le)=>o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 cursor-pointer transition-all",onClick:()=>k(F.prompt),children:o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-semibold text-white mb-1",children:F.name}),o.jsx("p",{className:"text-sm text-zinc-400",children:F.description})]})},le))})]})]}),o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[!w&&o.jsx(B,{variant:"ghost",onClick:()=>_(!0),className:"mb-4 text-zinc-400 hover:text-white",children:"Show Templates"}),o.jsxs(yp,{value:p,onValueChange:x,className:"mb-8",children:[o.jsxs(Ru,{className:"bg-zinc-900 border-zinc-800 mb-4",children:[o.jsxs(si,{value:"ai",className:"text-zinc-400 data-[state=active]:text-white",children:[o.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Create with AI"]}),o.jsxs(si,{value:"manual",className:"text-zinc-400 data-[state=active]:text-white",children:[o.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Upload Your Addon"]})]}),o.jsx(rs,{value:"ai",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(xe,{value:u,onChange:F=>d(F.target.value),placeholder:"Addon name (optional - will be extracted from code)",className:"bg-zinc-950 border-zinc-700 text-white mb-4"})}),o.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Describe your addon"}),o.jsx(In,{value:r,onChange:F=>s(F.target.value),placeholder:"Example: Create an addon that adds a button to quickly duplicate selected objects in a grid pattern with customizable rows and columns...",className:"min-h-[140px] bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500 focus:border-orange-500 focus:ring-orange-500/20 resize-none"}),o.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[o.jsx(B,{onClick:E,disabled:l||!r.trim(),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6",children:l?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Generate Addon"]})}),i&&o.jsxs(B,{variant:"outline",onClick:J,className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(Db,{className:"w-4 h-4 mr-2"}),"Start Over"]})]})]})}),o.jsx(rs,{value:"chat",children:o.jsx("div",{className:"space-y-4",children:o.jsx(j4,{initialCode:i||g,onCodeUpdate:(F,le)=>{a(F),le&&d(le),x("ai")},onReset:()=>{a(""),d("")}})})}),o.jsx(rs,{value:"manual",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(xe,{value:u,onChange:F=>d(F.target.value),placeholder:"Addon name",className:"bg-zinc-950 border-zinc-700 text-white"})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-zinc-300 mb-3",children:"Upload Python File or Paste Code"}),o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsxs("label",{className:"cursor-pointer",children:[o.jsxs("div",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-zinc-300 text-sm transition-colors flex items-center gap-2",children:[o.jsx(Wo,{className:"w-4 h-4"}),"Upload .py File"]}),o.jsx("input",{type:"file",accept:".py",onChange:z,className:"hidden"})]}),o.jsx("span",{className:"text-sm text-zinc-400",children:"or paste code below"})]})]}),o.jsx(In,{value:g,onChange:F=>y(F.target.value),placeholder:"Paste your Blender addon Python code here...",className:"min-h-[300px] bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500 focus:border-orange-500 focus:ring-orange-500/20 resize-none font-mono text-sm"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Make sure your code includes bl_info, register(), and unregister() functions"})]})})]})]}),o.jsx(ml,{children:(i||g)&&o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:u||"My Blender Addon"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(B,{onClick:()=>{n(`/debug?code=${encodeURIComponent(p==="ai"?i:g)}`)},variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Send to Debug"]}),o.jsx(B,{onClick:L,disabled:h,variant:"outline",className:"border-orange-500/50 text-orange-400 hover:bg-orange-500/10",children:h?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Lb,{className:"w-4 h-4 mr-2"}),"Save Addon"]})})]})]}),o.jsx("div",{className:"mb-6",children:o.jsx(UI,{code:p==="ai"?i:g})}),o.jsx(vp,{code:p==="ai"?i:g,filename:`${(u||"addon").toLowerCase().replace(/\s+/g,"_")}.py`,readOnly:!1,onChange:F=>{p==="ai"?a(F):y(F)}})]})})]})})}async function N4(e){if(!e||e.trim().length<3)return{keywords:[],categories:[]};try{const t=`Based on this search query: "${e}"

Generate:
1. 5-10 relevant keywords that would help find Blender addons
2. Suggested categories (modeling, animation, rendering, texturing, rigging, scripting, ui, import_export, other)

Return ONLY a JSON object with this structure:
{
  "keywords": ["keyword1", "keyword2", ...],
  "categories": ["category1", "category2", ...]
}`,n=await fetch("/api/semantic-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t})}).catch(()=>null),r=e.toLowerCase().split(/\s+/).filter(i=>i.length>2),s=lv(e);return{keywords:r,categories:s}}catch(t){return console.error("Error generating search keywords:",t),{keywords:e.toLowerCase().split(/\s+/).filter(r=>r.length>2),categories:lv(e)}}}function lv(e){const t=e.toLowerCase(),n=[];return(t.includes("model")||t.includes("mesh")||t.includes("sculpt"))&&n.push("modeling"),(t.includes("animat")||t.includes("keyframe")||t.includes("rig"))&&n.push("animation"),(t.includes("render")||t.includes("material")||t.includes("shader"))&&n.push("rendering"),(t.includes("texture")||t.includes("uv")||t.includes("unwrap"))&&n.push("texturing"),(t.includes("rig")||t.includes("bone")||t.includes("armature"))&&n.push("rigging"),(t.includes("script")||t.includes("automate")||t.includes("batch"))&&n.push("scripting"),(t.includes("ui")||t.includes("panel")||t.includes("interface"))&&n.push("ui"),(t.includes("import")||t.includes("export")||t.includes("file"))&&n.push("import_export"),n.length>0?n:[]}function E4(e,t,n=[],r=[]){var l,c,u;let s=0;const i=t.toLowerCase(),a=`${e.title||""} ${e.description||""} ${e.short_description||""}`.toLowerCase();return(l=e.title)!=null&&l.toLowerCase().includes(i)&&(s+=10),(c=e.description)!=null&&c.toLowerCase().includes(i)&&(s+=5),(u=e.short_description)!=null&&u.toLowerCase().includes(i)&&(s+=3),n.forEach(d=>{a.includes(d)&&(s+=2)}),r.length>0&&e.category&&r.includes(e.category)&&(s+=5),e.downloads&&(s+=Math.log10(e.downloads+1)*.5),s}const P4=[{value:"all",label:"All Categories"},{value:"modeling",label:"Modeling"},{value:"animation",label:"Animation"},{value:"rendering",label:"Rendering"},{value:"texturing",label:"Texturing"},{value:"rigging",label:"Rigging"},{value:"scripting",label:"Scripting"},{value:"ui",label:"UI"},{value:"import_export",label:"Import/Export"},{value:"other",label:"Other"}];function T4(){const[e,t]=b.useState(""),[n,r]=b.useState("all"),[s,i]=b.useState("all"),[a,l]=b.useState({keywords:[],categories:[]}),[c,u]=b.useState(!1),{data:d=[],isLoading:h}=Ae({queryKey:["publishedAddons"],queryFn:()=>q.entities.Addon.filter({is_published:!0},"-created_date")});b.useEffect(()=>{e&&e.length>3?(u(!0),N4(e).then(f=>{l(f),u(!1)}).catch(()=>{u(!1)})):l({keywords:[],categories:[]})},[e]);const m=b.useMemo(()=>{let f=d;return e&&a.keywords.length>0?f=f.map(v=>({...v,relevanceScore:E4(v,e,a.keywords,a.categories)})).filter(v=>v.relevanceScore>0).sort((v,w)=>w.relevanceScore-v.relevanceScore):e&&(f=f.filter(v=>{var w,_,g;return((w=v.title)==null?void 0:w.toLowerCase().includes(e.toLowerCase()))||((_=v.description)==null?void 0:_.toLowerCase().includes(e.toLowerCase()))||((g=v.short_description)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))})),n!=="all"&&(f=f.filter(v=>v.category===n)),s!=="all"&&(f=f.filter(v=>s==="free"&&v.is_free||s==="paid"&&!v.is_free)),f},[d,e,n,s,a]);return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600/10 via-transparent to-orange-600/10"}),o.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-orange-500/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"}),o.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-16 text-center",children:o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-6",children:[o.jsx(ts,{className:"w-4 h-4"}),"Community Marketplace"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Explore Blender Addons"}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-2xl mx-auto mb-8",children:"Discover amazing addons created by the community. Find tools to supercharge your Blender workflow."}),o.jsxs("div",{className:"max-w-2xl mx-auto relative",children:[o.jsx(sT,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-400"}),o.jsx(xe,{value:e,onChange:f=>t(f.target.value),placeholder:"Search addons... (e.g., 'tools for creating materials', 'animation helpers')",className:"pl-12 pr-4 py-6 bg-zinc-900/80 border-zinc-700 text-white placeholder:text-zinc-500 text-lg rounded-xl focus:border-orange-500 focus:ring-orange-500/20"}),c&&o.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2 text-orange-400 text-sm",children:[o.jsx(ts,{className:"w-4 h-4 animate-pulse"}),o.jsx("span",{children:"AI analyzing..."})]})]}),a.keywords.length>0&&o.jsxs("div",{className:"max-w-2xl mx-auto mt-4 flex flex-wrap gap-2 justify-center",children:[o.jsx("span",{className:"text-xs text-zinc-500",children:"Searching for:"}),a.keywords.slice(0,5).map((f,v)=>o.jsx(ze,{variant:"outline",className:"text-xs border-orange-500/30 text-orange-400",children:f},v))]})]})})]}),o.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-16",children:[o.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex flex-wrap items-center gap-3 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[o.jsx(GP,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Filters:"})]}),o.jsxs(lr,{value:n,onValueChange:r,children:[o.jsx(zn,{className:"w-40 bg-zinc-900 border-zinc-700 text-white",children:o.jsx(cr,{})}),o.jsx(Mn,{className:"bg-zinc-900 border-zinc-700",children:P4.map(f=>o.jsx(et,{value:f.value,className:"text-white",children:f.label},f.value))})]}),o.jsxs(lr,{value:s,onValueChange:i,children:[o.jsx(zn,{className:"w-32 bg-zinc-900 border-zinc-700 text-white",children:o.jsx(cr,{})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"all",className:"text-white",children:"All Prices"}),o.jsx(et,{value:"free",className:"text-white",children:"Free Only"}),o.jsx(et,{value:"paid",className:"text-white",children:"Paid Only"})]})]}),(e||n!=="all"||s!=="all")&&o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>{t(""),r("all"),i("all")},className:"text-zinc-400 hover:text-white",children:"Clear all"}),o.jsxs("div",{className:"ml-auto text-sm text-zinc-500",children:[m.length," addon",m.length!==1?"s":""," found"]})]}),h?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})}):m.length===0?o.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[o.jsx(es,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No addons found"}),o.jsx("p",{className:"text-zinc-400",children:e?"Try adjusting your search or filters":"Be the first to publish an addon!"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((f,v)=>o.jsx(pp,{addon:f,index:v},f.id))})]})]})}const bp=b.createContext(),_p=({children:e,open:t,onOpenChange:n})=>{const[r,s]=b.useState(t||!1),i=t!==void 0?t:r,a=n||s;return b.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),i?o.jsx(bp.Provider,{value:{open:i,onOpenChange:a},children:o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>a(!1)}),e]})}):null},Sp=b.forwardRef(({asChild:e,children:t,...n},r)=>{const{onOpenChange:s}=b.useContext(bp);return e?b.cloneElement(t,{...n,onClick:()=>s(!0)}):o.jsx("button",{ref:r,onClick:()=>s(!0),...n,children:t})});Sp.displayName="DialogTrigger";const Mu=b.forwardRef(({className:e,children:t,...n},r)=>{const{onOpenChange:s}=b.useContext(bp);return o.jsx("div",{ref:r,className:ye("relative z-50 grid w-full max-w-lg gap-4 border bg-background p-6 shadow-lg duration-200 sm:rounded-lg",e),...n,children:t})});Mu.displayName="DialogContent";const Du=({className:e,...t})=>o.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Du.displayName="DialogHeader";const Lu=b.forwardRef(({className:e,...t},n)=>o.jsx("h2",{ref:n,className:ye("text-lg font-semibold leading-none tracking-tight",e),...t}));Lu.displayName="DialogTitle";const jp=b.createContext({open:!1,onOpenChange:()=>{}}),v_=b.forwardRef(({open:e,onOpenChange:t,children:n,className:r,...s},i)=>o.jsx(jp.Provider,{value:{open:e,onOpenChange:t},children:o.jsx("div",{ref:i,className:ye("w-full",r),...s,children:n})}));v_.displayName="Collapsible";const w_=b.forwardRef(({asChild:e=!1,className:t,children:n,onClick:r,...s},i)=>{const{open:a,onOpenChange:l}=b.useContext(jp),c=u=>{l(!a),r&&r(u)};return e?b.cloneElement(n,{ref:i,onClick:c,...s}):o.jsx("button",{ref:i,className:ye("w-full",t),onClick:c,...s,children:n})});w_.displayName="CollapsibleTrigger";const x_=b.forwardRef(({className:e,children:t,...n},r)=>{const{open:s}=b.useContext(jp);return s?o.jsx("div",{ref:r,className:ye("overflow-hidden",e),...n,children:t}):null});x_.displayName="CollapsibleContent";function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function ur(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ut(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function _n(e){ut(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Zc(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function A4(e,t){ut(2,arguments);var n=_n(e),r=ur(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function R4(e,t){ut(2,arguments);var n=_n(e).getTime(),r=ur(t);return new Date(n+r)}var O4={};function Uu(){return O4}function I4(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function z4(e){return ut(1,arguments),e instanceof Date||Zc(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function M4(e){if(ut(1,arguments),!z4(e)&&typeof e!="number")return!1;var t=_n(e);return!isNaN(Number(t))}function D4(e,t){ut(2,arguments);var n=ur(t);return R4(e,-n)}var L4=864e5;function U4(e){ut(1,arguments);var t=_n(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/L4)+1}function eu(e){ut(1,arguments);var t=1,n=_n(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function b_(e){ut(1,arguments);var t=_n(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=eu(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=eu(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function F4(e){ut(1,arguments);var t=b_(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=eu(n);return r}var $4=6048e5;function B4(e){ut(1,arguments);var t=_n(e),n=eu(t).getTime()-F4(t).getTime();return Math.round(n/$4)+1}function tu(e,t){var n,r,s,i,a,l,c,u;ut(1,arguments);var d=Uu(),h=ur((n=(r=(s=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=_n(e),f=m.getUTCDay(),v=(f<h?7:0)+f-h;return m.setUTCDate(m.getUTCDate()-v),m.setUTCHours(0,0,0,0),m}function __(e,t){var n,r,s,i,a,l,c,u;ut(1,arguments);var d=_n(e),h=d.getUTCFullYear(),m=Uu(),f=ur((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(h+1,0,f),v.setUTCHours(0,0,0,0);var w=tu(v,t),_=new Date(0);_.setUTCFullYear(h,0,f),_.setUTCHours(0,0,0,0);var g=tu(_,t);return d.getTime()>=w.getTime()?h+1:d.getTime()>=g.getTime()?h:h-1}function V4(e,t){var n,r,s,i,a,l,c,u;ut(1,arguments);var d=Uu(),h=ur((n=(r=(s=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=__(e,t),f=new Date(0);f.setUTCFullYear(m,0,h),f.setUTCHours(0,0,0,0);var v=tu(f,t);return v}var q4=6048e5;function W4(e,t){ut(1,arguments);var n=_n(e),r=tu(n,t).getTime()-V4(n,t).getTime();return Math.round(r/q4)+1}function we(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var xr={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return we(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):we(r+1,2)},d:function(t,n){return we(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return we(t.getUTCHours()%12||12,n.length)},H:function(t,n){return we(t.getUTCHours(),n.length)},m:function(t,n){return we(t.getUTCMinutes(),n.length)},s:function(t,n){return we(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return we(i,n.length)}},bi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K4={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return xr.y(t,n)},Y:function(t,n,r,s){var i=__(t,s),a=i>0?i:1-i;if(n==="YY"){var l=a%100;return we(l,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):we(a,n.length)},R:function(t,n){var r=b_(t);return we(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return we(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return we(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return we(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return xr.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return we(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var i=W4(t,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):we(i,n.length)},I:function(t,n,r){var s=B4(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):we(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):xr.d(t,n)},D:function(t,n,r){var s=U4(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):we(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return we(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var i=t.getUTCDay(),a=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return we(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return we(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),i;switch(s===12?i=bi.noon:s===0?i=bi.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),i;switch(s>=17?i=bi.evening:s>=12?i=bi.afternoon:s>=4?i=bi.morning:i=bi.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return xr.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):xr.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):we(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):we(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):xr.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):xr.s(t,n)},S:function(t,n){return xr.S(t,n)},X:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return uv(a);case"XXXX":case"XX":return Es(a);case"XXXXX":case"XXX":default:return Es(a,":")}},x:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"x":return uv(a);case"xxxx":case"xx":return Es(a);case"xxxxx":case"xxx":default:return Es(a,":")}},O:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cv(a,":");case"OOOO":default:return"GMT"+Es(a,":")}},z:function(t,n,r,s){var i=s._originalDate||t,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cv(a,":");case"zzzz":default:return"GMT"+Es(a,":")}},t:function(t,n,r,s){var i=s._originalDate||t,a=Math.floor(i.getTime()/1e3);return we(a,n.length)},T:function(t,n,r,s){var i=s._originalDate||t,a=i.getTime();return we(a,n.length)}};function cv(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var a=t;return n+String(s)+a+we(i,2)}function uv(e,t){if(e%60===0){var n=e>0?"-":"+";return n+we(Math.abs(e)/60,2)}return Es(e,t)}function Es(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),i=we(Math.floor(s/60),2),a=we(s%60,2);return r+i+n+a}var dv=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},S_=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},H4=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return dv(t,n);var a;switch(s){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",dv(s,n)).replace("{{time}}",S_(i,n))},G4={p:S_,P:H4},Y4=["D","DD"],Q4=["YY","YYYY"];function J4(e){return Y4.indexOf(e)!==-1}function X4(e){return Q4.indexOf(e)!==-1}function hv(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Z4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ez=function(t,n,r){var s,i=Z4[t];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Vd(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var tz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sz={date:Vd({formats:tz,defaultWidth:"full"}),time:Vd({formats:nz,defaultWidth:"full"}),dateTime:Vd({formats:rz,defaultWidth:"full"})},iz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},az=function(t,n,r,s){return iz[t]};function Ba(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var oz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fz=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mz={ordinalNumber:fz,era:Ba({values:oz,defaultWidth:"wide"}),quarter:Ba({values:lz,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ba({values:cz,defaultWidth:"wide"}),day:Ba({values:uz,defaultWidth:"wide"}),dayPeriod:Ba({values:dz,defaultWidth:"wide",formattingValues:hz,defaultFormattingWidth:"wide"})};function Va(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;var a=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?gz(l,function(h){return h.test(a)}):pz(l,function(h){return h.test(a)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function pz(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function gz(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function yz(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var vz=/^(\d+)(th|st|nd|rd)?/i,wz=/\d+/i,xz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bz={any:[/^b/i,/^(a|c)/i]},_z={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sz={any:[/1/i,/2/i,/3/i,/4/i]},jz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ez={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tz={ordinalNumber:yz({matchPattern:vz,parsePattern:wz,valueCallback:function(t){return parseInt(t,10)}}),era:Va({matchPatterns:xz,defaultMatchWidth:"wide",parsePatterns:bz,defaultParseWidth:"any"}),quarter:Va({matchPatterns:_z,defaultMatchWidth:"wide",parsePatterns:Sz,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Va({matchPatterns:jz,defaultMatchWidth:"wide",parsePatterns:kz,defaultParseWidth:"any"}),day:Va({matchPatterns:Cz,defaultMatchWidth:"wide",parsePatterns:Nz,defaultParseWidth:"any"}),dayPeriod:Va({matchPatterns:Ez,defaultMatchWidth:"any",parsePatterns:Pz,defaultParseWidth:"any"})},Az={code:"en-US",formatDistance:ez,formatLong:sz,formatRelative:az,localize:mz,match:Tz,options:{weekStartsOn:0,firstWeekContainsDate:1}},Rz=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Oz=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iz=/^'([^]*?)'?$/,zz=/''/g,Mz=/[a-zA-Z]/;function Dz(e,t,n){var r,s,i,a,l,c,u,d,h,m,f,v,w,_;ut(2,arguments);var g=String(t),y=Uu(),p=(r=(s=void 0)!==null&&s!==void 0?s:y.locale)!==null&&r!==void 0?r:Az,x=ur((i=(a=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:y.firstWeekContainsDate)!==null&&a!==void 0?a:(u=y.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(x>=1&&x<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=ur((h=(m=(f=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&f!==void 0?f:y.weekStartsOn)!==null&&m!==void 0?m:(w=y.locale)===null||w===void 0||(_=w.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&h!==void 0?h:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!p.localize)throw new RangeError("locale must contain localize property");if(!p.formatLong)throw new RangeError("locale must contain formatLong property");var j=_n(e);if(!M4(j))throw new RangeError("Invalid time value");var P=I4(j),N=D4(j,P),k={firstWeekContainsDate:x,weekStartsOn:S,locale:p,_originalDate:j},E=g.match(Oz).map(function(z){var L=z[0];if(L==="p"||L==="P"){var J=G4[L];return J(z,p.formatLong)}return z}).join("").match(Rz).map(function(z){if(z==="''")return"'";var L=z[0];if(L==="'")return Lz(z);var J=K4[L];if(J)return X4(z)&&hv(z,t,String(e)),J4(z)&&hv(z,t,String(e)),J(N,z,p.localize,k);if(L.match(Mz))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return z}).join("");return E}function Lz(e){var t=e.match(Iz);return t?t[1].replace(zz,"'"):e}function fv(e,t){ut(2,arguments);var n=ur(t);return A4(e,-n)}const Uz=[{value:"modeling",label:"Modeling"},{value:"animation",label:"Animation"},{value:"rendering",label:"Rendering"},{value:"texturing",label:"Texturing"},{value:"rigging",label:"Rigging"},{value:"scripting",label:"Scripting"},{value:"ui",label:"UI"},{value:"import_export",label:"Import/Export"},{value:"other",label:"Other"}];function Fz(){const e=hr(),[t,n]=b.useState(null),[r,s]=b.useState(null),[i,a]=b.useState(!1),[l,c]=b.useState(""),[u,d]=b.useState(""),[h,m]=b.useState([]),[f,v]=b.useState(!1),w=ps(),{data:_}=Ae({queryKey:["user"],queryFn:()=>q.auth.me()}),{data:g=[],isLoading:y}=Ae({queryKey:["myAddons",_==null?void 0:_.email],queryFn:async()=>(await q.entities.Addon.list()).filter(z=>z.created_by===(_==null?void 0:_.email)),enabled:!!_}),{data:p=[]}=Ae({queryKey:["savedIdeas",_==null?void 0:_.email],queryFn:async()=>_!=null&&_.email?(await q.entities.Idea.filter({created_by:_.email})).filter(z=>z.is_template===!0||z.is_template!==!1):[],enabled:!!_});I.useEffect(()=>{p.length>0&&m(p)},[p]);const x=Do({mutationFn:({id:E,data:z})=>q.entities.Addon.update(E,z),onSuccess:()=>{w.invalidateQueries({queryKey:["myAddons"]}),D.success("Addon updated!"),n(null)}}),S=Do({mutationFn:E=>q.entities.Addon.delete(E),onSuccess:()=>{w.invalidateQueries({queryKey:["myAddons"]}),D.success("Addon deleted")}}),j=async E=>{const z=Array.from(E.target.files);if(!z.length)return;a(!0);const L=[];for(const J of z){const{file_url:F}=await q.integrations.Core.UploadFile({file:J});L.push(F)}n(J=>({...J,images:[...J.images||[],...L]})),a(!1)},P=E=>{n(z=>({...z,images:z.images.filter((L,J)=>J!==E)}))},N=async()=>{var le;const{id:E,code:z,...L}=t;if(g.find(A=>A.id===E).code!==z){const Y=((le=(await q.entities.AddonVersion.filter({addon_id:E},"-created_date",1))[0])==null?void 0:le.version_number)||"1.0.0",O=k(Y),R=u||O,U=await q.entities.AddonVersion.filter({addon_id:E});for(const $ of U)$.is_current&&await q.entities.AddonVersion.update($.id,{is_current:!1});await q.entities.AddonVersion.create({addon_id:E,version_number:R,code:z,changelog:l||"Updated addon",is_current:!0}),x.mutate({id:E,data:{...L,code:z}}),c(""),d("")}else x.mutate({id:E,data:L})},k=E=>{const z=E.split(".");return z[2]=String(parseInt(z[2]||0)+1),z.join(".")};return y?o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Addons"}),o.jsx("p",{className:"text-zinc-400",children:"Manage and publish your Blender addons"})]}),o.jsx(Be,{to:We("Create"),children:o.jsxs(B,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Create New"]})})]}),h.length>0&&o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 mb-8",children:o.jsxs(v_,{open:f,onOpenChange:v,children:[o.jsx(w_,{asChild:!0,children:o.jsxs(B,{variant:"ghost",className:"w-full justify-between p-4 hover:bg-zinc-800",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cl,{className:"w-5 h-5 text-orange-500"}),o.jsxs("span",{className:"text-white font-semibold",children:["Saved Ideas from Blenderstorm (",h.length,")"]})]}),f?o.jsx(Ib,{className:"w-5 h-5 text-zinc-400"}):o.jsx(qm,{className:"w-5 h-5 text-zinc-400"})]})}),o.jsx(x_,{children:o.jsxs("div",{className:"px-4 pb-4",children:[o.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:"Click on any idea to create an addon from it"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:h.map(E=>o.jsx(ne,{className:"bg-zinc-800/50 border-zinc-700 hover:border-orange-500/50 transition-all cursor-pointer group",onClick:()=>{const z=`Create a complete, production-ready Blender addon: ${E.name||E.title}

Description: ${E.description}

Requirements:
- Fully functional Blender addon implementing this idea
- User-friendly UI panel in the 3D Viewport
- Operators that perform the main functionality
- Proper error handling and user feedback
- Easy to use with clear button labels
- Follows Blender Python API best practices
- Complete and ready to install in Blender`;e(`/create?prompt=${encodeURIComponent(z)}&ideaId=${E.id||""}`)},children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-white group-hover:text-orange-400 transition-colors line-clamp-2",children:E.name||"Untitled Idea"}),o.jsx(Zn,{className:"w-4 h-4 text-orange-500 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0 ml-2"})]}),o.jsx("p",{className:"text-sm text-zinc-400 line-clamp-2",children:E.description||"No description"})]})},E.id))})]})})]})}),g.length===0?o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-12 text-center",children:[o.jsx(es,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No addons yet"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Create your first AI-powered Blender addon"}),o.jsx(Be,{to:We("Create"),children:o.jsxs(B,{className:"bg-orange-500 hover:bg-orange-600",children:[o.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Create Addon"]})})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(E=>o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsx(Cr,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx(Nr,{className:"text-white",children:E.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>n(E),children:o.jsx(rT,{className:"w-4 h-4"})}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>S.mutate(E.id),children:o.jsx(Fb,{className:"w-4 h-4 text-red-400"})})]})]})}),o.jsxs(qn,{children:[o.jsx("p",{className:"text-zinc-400 text-sm mb-4 line-clamp-2",children:E.short_description||E.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{variant:"outline",className:"border-zinc-700",children:E.is_published?"Published":"Draft"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Be,{to:We(`AddonDetail?id=${E.id}`),children:o.jsx(B,{variant:"ghost",size:"sm",children:"View"})}),o.jsx(Be,{to:We(`Debug?addonId=${E.id}`),children:o.jsx(B,{variant:"ghost",size:"sm",className:"text-orange-400 hover:text-orange-300",title:"Debug this addon",children:o.jsx(Gs,{className:"w-4 h-4"})})})]})]})]})]},E.id))}),t&&o.jsx(_p,{open:!!t,onOpenChange:()=>n(null),children:o.jsxs(Mu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-zinc-900 border-zinc-800",children:[o.jsx(Du,{children:o.jsx(Lu,{className:"text-white",children:"Edit Addon"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Title"}),o.jsx(xe,{value:t.title,onChange:E=>n({...t,title:E.target.value}),className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Short Description"}),o.jsx(xe,{value:t.short_description||"",onChange:E=>n({...t,short_description:E.target.value}),placeholder:"Brief description shown in listings",className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Full Description"}),o.jsx(In,{value:t.description||"",onChange:E=>n({...t,description:E.target.value}),placeholder:"Detailed description of your addon, features, and how to use it",className:"bg-zinc-800 border-zinc-700 text-white mt-2 min-h-[100px]"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Category"}),o.jsxs(lr,{value:t.category||"other",onValueChange:E=>n({...t,category:E}),children:[o.jsx(zn,{className:"bg-zinc-800 border-zinc-700 text-white mt-2",children:o.jsx(cr,{})}),o.jsx(Mn,{className:"bg-zinc-900 border-zinc-700",children:Uz.map(E=>o.jsx(et,{value:E.value,className:"text-white",children:E.label},E.value))})]})]}),o.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(Fi,{className:"w-5 h-5"}),"Pricing"]}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qs,{checked:t.is_free!==!1,onCheckedChange:E=>n({...t,is_free:E,price:E?0:t.price||0})}),o.jsx(me,{className:"text-zinc-300",children:"Free Addon"})]}),!t.is_free&&o.jsxs("div",{className:"flex-1",children:[o.jsx(me,{className:"text-zinc-300",children:"Price ($)"}),o.jsx(xe,{type:"number",min:"0",step:"0.01",value:t.price||0,onChange:E=>n({...t,price:parseFloat(E.target.value)||0}),className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]})]})]}),o.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(XP,{className:"w-5 h-5"}),"Images"]}),o.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:(t.images||[]).map((E,z)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:E,alt:`Preview ${z+1}`,className:"w-full h-32 object-cover rounded-lg"}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>P(z),className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 bg-red-500 hover:bg-red-600",children:o.jsx(Km,{className:"w-4 h-4"})})]},z))}),o.jsxs("label",{className:"cursor-pointer",children:[o.jsxs("div",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-zinc-300 text-sm transition-colors flex items-center gap-2 w-fit",children:[i?o.jsx(ke,{className:"w-4 h-4 animate-spin"}):o.jsx(Wo,{className:"w-4 h-4"}),"Upload Images"]}),o.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:j,className:"hidden"})]})]}),o.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(hT,{className:"w-5 h-5"}),"Video URL"]}),o.jsx(xe,{value:t.video_url||"",onChange:E=>n({...t,video_url:E.target.value}),placeholder:"YouTube or Vimeo URL showing how to use the addon",className:"bg-zinc-800 border-zinc-700 text-white"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Paste a YouTube or Vimeo URL to show how your addon works"})]}),o.jsxs("div",{className:"border-t border-zinc-800 pt-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Permissions"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qs,{checked:t.is_published,onCheckedChange:E=>n({...t,is_published:E})}),o.jsx(me,{className:"text-zinc-300",children:"Published (visible in Explore)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qs,{checked:t.allow_forking!==!1,onCheckedChange:E=>n({...t,allow_forking:E})}),o.jsx(me,{className:"text-zinc-300",children:"Allow Forking (users can create remixes)"})]})]})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Code"}),o.jsx(In,{value:t.code||"",onChange:E=>n({...t,code:E.target.value}),className:"bg-zinc-800 border-zinc-700 text-white mt-2 min-h-[200px] font-mono text-sm"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{onClick:N,className:"bg-orange-500 hover:bg-orange-600",children:"Save Changes"}),o.jsx(B,{variant:"outline",onClick:()=>n(null),children:"Cancel"})]})]})]})})]})})}const $z=.15,Bz=.85;function Vz(e){const t=e*$z,n=e*Bz;return{total:e,platformFee:parseFloat(t.toFixed(2)),creatorEarnings:parseFloat(n.toFixed(2))}}async function qz({addon:e,buyer:t,paymentMethodId:n}){const{base44:r}=await sn(async()=>{const{base44:c}=await Promise.resolve().then(()=>qb);return{base44:c}},void 0),s=Vz(e.price),i=await r.entities.Transaction.create({type:"purchase",buyer_email:t.email,seller_email:e.created_by,addon_id:e.id,addon_title:e.title,amount:e.price,platform_fee:s.platformFee,creator_earnings:s.creatorEarnings,payment_method_id:n,status:"completed"}),a=await r.entities.Purchase.create({buyer_email:t.email,addon_id:e.id,addon_title:e.title,price:e.price,transaction_id:i.id,purchased_date:new Date().toISOString()}),l=await r.entities.Payout.create({creator_email:e.created_by,addon_id:e.id,addon_title:e.title,amount:s.creatorEarnings,platform_fee:s.platformFee,transaction_id:i.id,status:"pending"});return{transaction:i,purchase:a,payout:l}}async function Wz(e,t){const{base44:n}=await sn(async()=>{const{base44:s}=await Promise.resolve().then(()=>qb);return{base44:s}},void 0);return(await n.entities.Purchase.filter({buyer_email:e,addon_id:t})).length>0}function Kz({addonId:e,userEmail:t}){const[n,r]=b.useState(0),[s,i]=b.useState(0),[a,l]=b.useState(""),[c,u]=b.useState(null),[d,h]=b.useState(0),[m,f]=b.useState(0),[v,w]=b.useState([]),[_,g]=b.useState(!1);b.useEffect(()=>{e&&y()},[e]);const y=async()=>{const x=await q.entities.Rating.filter({addon_id:e});if(w(x),f(x.length),x.length>0){const S=x.reduce((j,P)=>j+P.rating,0);h(parseFloat((S/x.length).toFixed(1)))}if(t){const S=x.find(j=>j.user_email===t);S&&(u(S),r(S.rating),l(S.comment||""))}},p=async()=>{if(!t){D.error("Please log in to rate addons");return}if(n===0){D.error("Please select a rating");return}g(!0);try{c?(await q.entities.Rating.update(c.id,{rating:n,comment:a.trim()}),D.success("Rating updated!")):(await q.entities.Rating.create({addon_id:e,user_email:t,rating:n,comment:a.trim()}),D.success("Rating submitted!")),await y()}catch(x){console.error("Error submitting rating:",x),D.error("Failed to submit rating")}finally{g(!1)}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("div",{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(x=>o.jsx(uo,{className:`w-6 h-6 cursor-pointer transition-colors ${x<=(s||n)?"text-orange-500 fill-orange-500":"text-zinc-600"}`,onMouseEnter:()=>i(x),onMouseLeave:()=>i(0),onClick:()=>r(x)},x))}),d>0&&o.jsxs("div",{className:"ml-2",children:[o.jsx("span",{className:"text-white font-semibold",children:d}),o.jsxs("span",{className:"text-zinc-400 text-sm ml-1",children:["(",m," ",m===1?"rating":"ratings",")"]})]})]})})}),t&&o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-zinc-300 mb-2 block",children:"Your Rating"}),o.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(x=>o.jsx(uo,{className:`w-5 h-5 cursor-pointer transition-colors ${x<=(s||n)?"text-orange-500 fill-orange-500":"text-zinc-600"}`,onMouseEnter:()=>i(x),onMouseLeave:()=>i(0),onClick:()=>r(x)},x)),n>0&&o.jsxs("span",{className:"text-zinc-400 text-sm ml-2",children:[n," out of 5"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-zinc-300 mb-2 block",children:"Review (Optional)"}),o.jsx(In,{value:a,onChange:x=>l(x.target.value),placeholder:"Share your thoughts about this addon...",className:"bg-zinc-800 border-zinc-700 text-white min-h-[100px]"})]}),o.jsx(B,{onClick:p,disabled:_||n===0,className:"bg-orange-500 hover:bg-orange-600 text-white",children:_?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):c?"Update Rating":"Submit Rating"})]})}),v.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Reviews"}),v.map(x=>o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-4",children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(S=>o.jsx(uo,{className:`w-4 h-4 ${S<=x.rating?"text-orange-500 fill-orange-500":"text-zinc-600"}`},S))}),o.jsx("span",{className:"text-zinc-400 text-sm",children:x.user_email})]})}),x.comment&&o.jsx("p",{className:"text-zinc-300 text-sm mt-2",children:x.comment})]},x.id))]})]})}function Hz(){var T,W,Z;const t=new URLSearchParams(window.location.search).get("id"),[n,r]=b.useState(0),[s,i]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState(!1),[m,f]=b.useState(!1),[v,w]=b.useState([]),[_,g]=b.useState(!1),[y,p]=b.useState(0),[x,S]=b.useState(0),[j,P]=b.useState(0),N=ps();b.useEffect(()=>{q.auth.me().then(V=>{u(V)}).catch(()=>{u(null)})},[]),b.useEffect(()=>{c&&q.entities.PaymentMethod.filter({user_email:c.email}).then(V=>{w(V)})},[c]),b.useEffect(()=>{c&&k&&!k.is_free&&Wz(c.email,k.id).then(V=>{h(V)})},[c,k]),b.useEffect(()=>{k!=null&&k.id&&(async()=>{try{const ie=await q.entities.Rating.getAverageRating(k.id),se=await q.entities.Rating.getRatingCount(k.id);p(ie),S(se);const yt=await q.entities.Purchase.filter({addon_id:k.id});P(yt.length)}catch(ie){console.error("Error loading stats:",ie)}})()},[k]);const{data:k,isLoading:E,error:z}=Ae({queryKey:["addon",t],queryFn:async()=>(await q.entities.Addon.filter({id:t}))[0],enabled:!!t}),L=c&&k&&k.created_by===c.email,J=!k||k.is_free||L||d,F=Do({mutationFn:async()=>{await q.entities.Addon.update(t,{downloads:(k.downloads||0)+1})},onSuccess:()=>{N.invalidateQueries({queryKey:["addon",t]})}}),le=()=>{if(!k)return;if(!k.is_free&&k.price>0){D.error("Please purchase this addon to download the code");return}i(!0);const V=new Blob([k.code],{type:"text/x-python"}),ie=URL.createObjectURL(V),se=document.createElement("a");se.href=ie,se.download=`${k.title.toLowerCase().replace(/\s+/g,"_")}.py`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(ie),F.mutate(),D.success("Addon downloaded!"),i(!1)},A=()=>{navigator.clipboard.writeText(window.location.href),D.success("Link copied to clipboard!")},Y=async()=>{if(k){if(k.allow_forking===!1){D.error("Forking is not allowed for this addon");return}if(!J){D.error("You must purchase this addon to fork it");return}l(!0);try{const V=await q.auth.me();if(!V){D.error("Please log in to fork addons"),l(!1);return}if(k.created_by===V.email){D.error("You cannot fork your own addon"),l(!1);return}const se=(await q.entities.AddonVersion.filter({addon_id:k.id,is_current:!0}))[0],yt=await q.entities.Addon.create({title:`${k.title} (Fork)`,code:k.code,prompt_used:`Forked from: ${k.title}`,is_published:!1,is_free:!0,price:0,author_name:V.full_name||"Anonymous",downloads:0,created_by:V.email,images:k.images||[],video_url:k.video_url||"",description:k.description||"",short_description:k.short_description||"",category:k.category||"other",forked_from:k.id,original_author:k.created_by,original_title:k.title,allow_forking:!0});await q.entities.AddonVersion.create({addon_id:yt.id,version_number:"1.0.0",code:(se==null?void 0:se.code)||k.code,changelog:`Forked from ${k.title} by ${k.author_name}`,is_current:!0});const Ct=(k.forks_count||0)+1;await q.entities.Addon.update(k.id,{forks_count:Ct}),N.invalidateQueries({queryKey:["addon",k.id]}),D.success('Addon forked! You can now edit it in "My Addons"'),setTimeout(()=>{window.location.href=`/create?forked=${yt.id}`},1e3)}catch(V){console.error("Error forking addon:",V),D.error("Failed to fork addon")}finally{l(!1)}}},O=()=>{var V;((V=k==null?void 0:k.images)==null?void 0:V.length)>1&&r(ie=>(ie+1)%k.images.length)},R=()=>{var V;((V=k==null?void 0:k.images)==null?void 0:V.length)>1&&r(ie=>(ie-1+k.images.length)%k.images.length)},U=V=>{var ie,se,yt;return V?V.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${(ie=V.split("v=")[1])==null?void 0:ie.split("&")[0]}`:V.includes("youtu.be/")?`https://www.youtube.com/embed/${(se=V.split("youtu.be/")[1])==null?void 0:se.split("?")[0]}`:V.includes("vimeo.com/")?`https://player.vimeo.com/video/${(yt=V.split("vimeo.com/")[1])==null?void 0:yt.split("?")[0]}`:V:null};if(E)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})});if(z||!k)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Addon not found"}),o.jsx(Be,{to:We("Explore"),children:o.jsx(B,{className:"mt-4",children:"Back to Explore"})})]})});const $=((T=k.images)==null?void 0:T.length)>0?k.images:["https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=800&h=500&fit=crop"];return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:[o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[o.jsx(Be,{to:We("Explore"),children:o.jsxs(B,{variant:"ghost",className:"text-zinc-400 hover:text-white mb-6",children:[o.jsx(FP,{className:"w-4 h-4 mr-2"}),"Back to Explore"]})}),o.jsxs("div",{className:"grid lg:grid-cols-5 gap-8",children:[o.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[o.jsxs("div",{className:"relative aspect-video rounded-xl overflow-hidden bg-zinc-800",children:[o.jsx(ml,{mode:"wait",children:o.jsx(ge.img,{src:$[n],alt:k.title,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full object-cover"},n)}),$.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:R,className:"absolute left-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:o.jsx(qP,{className:"w-5 h-5"})}),o.jsx("button",{onClick:O,className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center text-white hover:bg-black/70 transition-colors",children:o.jsx(WP,{className:"w-5 h-5"})}),o.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5",children:$.map((V,ie)=>o.jsx("button",{onClick:()=>r(ie),className:`w-2 h-2 rounded-full transition-colors ${ie===n?"bg-white":"bg-white/50"}`},ie))})]})]}),k.video_url&&o.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-zinc-800",children:o.jsx("iframe",{src:U(k.video_url),className:"w-full h-full",allowFullScreen:!0,title:k.title})})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-white",children:k.title}),k.is_free?o.jsx(ze,{className:"bg-emerald-500 text-white",children:"Free"}):o.jsxs(ze,{className:"bg-orange-500 text-white",children:["$",k.price]})]}),k.short_description&&o.jsx("p",{className:"text-zinc-300 text-lg mb-4",children:k.short_description}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[J?o.jsx(B,{onClick:le,disabled:s,className:"bg-orange-500 hover:bg-orange-600 text-white flex-1",children:s?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Downloading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(as,{className:"w-4 h-4 mr-2"}),"Download"]})}):o.jsxs(B,{disabled:!0,className:"bg-zinc-700 text-zinc-400 flex-1 cursor-not-allowed",children:[o.jsx(Wl,{className:"w-4 h-4 mr-2"}),"Purchase to Download"]}),k.allow_forking!==!1&&J&&o.jsx(B,{onClick:Y,disabled:a,variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",title:"Fork this addon to create your own version",children:a?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Forking..."]}):o.jsxs(o.Fragment,{children:[o.jsx(QP,{className:"w-4 h-4 mr-2"}),"Fork"]})}),k.allow_forking!==!1&&!J&&o.jsxs(B,{disabled:!0,variant:"outline",className:"border-zinc-700 text-zinc-400 cursor-not-allowed",title:"Purchase this addon to fork it",children:[o.jsx(Wl,{className:"w-4 h-4 mr-2"}),"Fork"]}),o.jsx(Be,{to:We(`Debug?addonId=${k.id}`),children:o.jsxs(B,{variant:"outline",className:"border-zinc-700 text-zinc-300",title:"Debug this addon",children:[o.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Debug"]})}),o.jsx(B,{variant:"outline",onClick:A,className:"border-zinc-700 text-zinc-300",children:o.jsx(oT,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[k.category&&o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(lT,{className:"w-3 h-3 mr-1"}),k.category.replace("_"," ")]}),y>0&&o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(uo,{className:"w-3 h-3 mr-1 text-orange-500 fill-orange-500"}),y," (",x,")"]}),!k.is_free&&j>0&&o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(Ub,{className:"w-3 h-3 mr-1"}),j," purchased"]}),o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(as,{className:"w-3 h-3 mr-1"}),k.downloads||0," downloads"]}),k.created_date&&o.jsxs(ze,{variant:"outline",className:"border-zinc-700 text-zinc-400",children:[o.jsx(BP,{className:"w-3 h-3 mr-1"}),Dz(new Date(k.created_date),"MMM yyyy")]})]}),k.author_name&&k.created_by&&o.jsxs(Be,{to:We(`UserProfile?email=${k.created_by}`),className:"flex items-center gap-2 text-zinc-400 hover:text-orange-400 transition-colors",children:[o.jsx(Rn,{className:"w-4 h-4"}),o.jsxs("span",{children:["by ",k.author_name]})]}),k.forked_from&&o.jsx(ne,{className:"bg-zinc-800/50 border-zinc-700 p-4 mt-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[o.jsx(YP,{className:"w-4 h-4 text-orange-500"}),o.jsxs("span",{children:["Forked from"," ",o.jsx(Be,{to:We(`AddonDetail?id=${k.forked_from}`),className:"text-orange-400 hover:text-orange-300",children:k.original_title||"another addon"}),k.original_author&&o.jsxs(o.Fragment,{children:[" by ",k.original_author]})]})]})}),k.forks_count>0&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400 mt-2",children:[o.jsx(Wm,{className:"w-4 h-4"}),o.jsxs("span",{children:[k.forks_count," fork",k.forks_count!==1?"s":""]})]}),!k.is_free&&k.price>0&&!L&&!d&&o.jsxs(ne,{className:"bg-orange-500/10 border-orange-500/20 p-4 mt-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-300 mb-3",children:[o.jsx(Fi,{className:"w-4 h-4"}),o.jsxs("span",{children:["This is a paid addon ($",k.price,"). Code will be available after purchase."]})]}),o.jsx(B,{onClick:()=>g(!0),className:"w-full bg-orange-500 hover:bg-orange-600 text-white",disabled:v.length===0,children:v.length===0?o.jsxs(o.Fragment,{children:[o.jsx(Wl,{className:"w-4 h-4 mr-2"}),"Add Payment Method First"]}):o.jsxs(o.Fragment,{children:[o.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Buy Now - $",k.price]})}),v.length===0&&o.jsx("p",{className:"text-xs text-orange-200/80 mt-2 text-center",children:"Go to Settings to add a payment method"})]})]})})]}),o.jsx("div",{className:"mt-8",children:o.jsxs(yp,{defaultValue:"description",className:"w-full",children:[o.jsxs(Ru,{className:"bg-zinc-900 border-zinc-800",children:[o.jsx(si,{value:"description",className:"text-zinc-400 data-[state=active]:text-white",children:"Description"}),J&&o.jsx(si,{value:"code",className:"text-zinc-400 data-[state=active]:text-white",children:"Code"})]}),o.jsx(rs,{value:"description",className:"mt-6",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("p",{className:"text-zinc-300 whitespace-pre-wrap mb-6",children:k.description||"No description available."}),o.jsxs("div",{className:"border-t border-zinc-800 pt-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Ratings & Reviews"}),o.jsx(Kz,{addonId:k.id,userEmail:c==null?void 0:c.email})]})]})}),J&&o.jsx(rs,{value:"code",className:"mt-6",children:o.jsx(vp,{code:k.code||""})}),!J&&o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mt-6",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Wl,{className:"w-12 h-12 text-zinc-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Code Hidden"}),o.jsx("p",{className:"text-zinc-400 mb-4",children:"This is a paid addon. Purchase it to view and download the code."}),o.jsxs(B,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Purchase for $",k.price]})]})})]})})]}),_&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs(ne,{className:"bg-zinc-900 border-zinc-800 max-w-md w-full p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Purchase Addon"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300 mb-2 block",children:"Select Payment Method"}),o.jsxs(lr,{value:((W=v.find(V=>V.is_default))==null?void 0:W.id)||((Z=v[0])==null?void 0:Z.id)||"",onValueChange:V=>{},children:[o.jsx(zn,{className:"bg-zinc-800 border-zinc-700 text-white",children:o.jsx(cr,{placeholder:"Select payment method"})}),o.jsx(Mn,{children:v.map(V=>o.jsxs(et,{value:V.id,className:"text-white",children:[V.card_brand,"  ",V.last4," (Expires ",V.exp_month,"/",V.exp_year,")"]},V.id))})]})]}),o.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"text-zinc-400",children:"Addon Price:"}),o.jsxs("span",{className:"text-white",children:["$",k.price]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-zinc-400",children:"Total:"}),o.jsxs("span",{className:"text-orange-500 font-semibold",children:["$",k.price]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(B,{variant:"outline",onClick:()=>g(!1),className:"flex-1 border-zinc-700 text-zinc-300",children:"Cancel"}),o.jsx(B,{onClick:async()=>{if(!(!c||!k||v.length===0)){f(!0);try{const V=v.find(ie=>ie.is_default)||v[0];await qz({addon:k,buyer:c,paymentMethodId:V.id}),h(!0),g(!1),D.success("Purchase successful! You now have access to the code."),N.invalidateQueries({queryKey:["addon",t]})}catch(V){console.error("Purchase error:",V),D.error("Failed to process purchase. Please try again.")}finally{f(!1)}}},disabled:m,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",children:m?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Complete Purchase"]})})]})]})]})})]})}function Gz(){var w,_,g,y;const t=new URLSearchParams(window.location.search).get("username"),n=ps(),{data:r}=Ae({queryKey:["currentUser"],queryFn:()=>q.auth.me()}),{data:s,isLoading:i}=Ae({queryKey:["profileUser",t],queryFn:async()=>(await q.entities.User.filter({username:t}))[0],enabled:!!t}),{data:a=[],isLoading:l}=Ae({queryKey:["sharedIdeas",s==null?void 0:s.email],queryFn:async()=>await q.entities.Idea.filter({created_by:s.email,is_shared:!0}),enabled:!!s}),{data:c=[],isLoading:u}=Ae({queryKey:["userAddons",s==null?void 0:s.email,r==null?void 0:r.email],queryFn:async()=>{const x=(r==null?void 0:r.email)===s.email?{created_by:s.email}:{created_by:s.email,is_published:!0};return await q.entities.Addon.filter(x,"-created_date")},enabled:!!s}),{data:d=[]}=Ae({queryKey:["followers",s==null?void 0:s.email],queryFn:async()=>await q.entities.Follow.filter({following_email:s.email}),enabled:!!s}),{data:h=[]}=Ae({queryKey:["following",s==null?void 0:s.email],queryFn:async()=>await q.entities.Follow.filter({follower_email:s.email}),enabled:!!s}),{data:m=!1}=Ae({queryKey:["isFollowing",r==null?void 0:r.email,s==null?void 0:s.email],queryFn:async()=>(await q.entities.Follow.filter({follower_email:r.email,following_email:s.email})).length>0,enabled:!!r&&!!s&&r.email!==s.email}),f=Do({mutationFn:async()=>{if(m){const p=await q.entities.Follow.filter({follower_email:r.email,following_email:s.email});p[0]&&await q.entities.Follow.delete(p[0].id)}else await q.entities.Follow.create({follower_email:r.email,following_email:s.email})},onSuccess:()=>{n.invalidateQueries({queryKey:["isFollowing"]}),n.invalidateQueries({queryKey:["followers"]}),D.success(m?"Unfollowed":"Following!")}});if(i)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})});if(!s)return o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"User not found"}),o.jsx(Be,{to:We("Explore"),children:o.jsx(B,{children:"Back to Explore"})})]})});const v=(r==null?void 0:r.email)===s.email;return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsx(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-8 mb-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[o.jsx("div",{className:"w-32 h-32 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white text-4xl font-bold flex-shrink-0",children:s.avatar_url?o.jsx("img",{src:s.avatar_url,alt:s.username,className:"w-full h-full object-cover rounded-xl"}):((_=(w=s.username)==null?void 0:w[0])==null?void 0:_.toUpperCase())||((y=(g=s.email)==null?void 0:g[0])==null?void 0:y.toUpperCase())}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:s.username||"User"}),o.jsx("p",{className:"text-zinc-400",children:s.full_name||s.email}),s.bio&&o.jsx("p",{className:"text-zinc-300 mt-2",children:s.bio}),s.website&&o.jsxs("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-orange-400 hover:text-orange-300 flex items-center gap-1 mt-2",children:[o.jsx(JP,{className:"w-4 h-4"}),s.website]})]}),o.jsx("div",{className:"flex items-center gap-2",children:v?o.jsx(Be,{to:We("Settings"),children:o.jsxs(B,{className:"bg-orange-500 hover:bg-orange-600",children:[o.jsx(aT,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}):o.jsxs(B,{onClick:()=>f.mutate(),disabled:f.isPending||!r,className:m?"bg-zinc-700 hover:bg-zinc-600":"bg-orange-500 hover:bg-orange-600",children:[f.isPending?o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}):m?o.jsx(uT,{className:"w-4 h-4 mr-2"}):o.jsx(dT,{className:"w-4 h-4 mr-2"}),m?"Unfollow":"Follow"]})})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(es,{className:"w-4 h-4 text-zinc-400"}),o.jsxs("span",{className:"text-zinc-300",children:[c.length," addons"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rn,{className:"w-4 h-4 text-zinc-400"}),o.jsxs("span",{className:"text-zinc-300",children:[d.length," followers"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rn,{className:"w-4 h-4 text-zinc-400"}),o.jsxs("span",{className:"text-zinc-300",children:[h.length," following"]})]})]})]})]})})}),o.jsxs(yp,{defaultValue:"addons",className:"w-full",children:[o.jsxs(Ru,{className:"bg-zinc-900 border-zinc-800",children:[o.jsxs(si,{value:"addons",className:"text-zinc-400 data-[state=active]:text-white",children:[o.jsx(es,{className:"w-4 h-4 mr-2"}),"Addons (",c.length,")"]}),v&&o.jsxs(si,{value:"ideas",className:"text-zinc-400 data-[state=active]:text-white",children:[o.jsx(cl,{className:"w-4 h-4 mr-2"}),"Saved Ideas"]})]}),o.jsx(rs,{value:"addons",className:"mt-6",children:u?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})}):c.length===0?o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-12 text-center",children:[o.jsx(es,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No addons yet"}),o.jsx("p",{className:"text-zinc-400",children:"This user hasn't published any addons"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((p,x)=>o.jsx(pp,{addon:p,index:x},p.id))})}),v&&o.jsx(rs,{value:"ideas",className:"mt-6",children:l?o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})}):a.length===0?o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-12 text-center",children:[o.jsx(qo,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No shared ideas"}),o.jsx("p",{className:"text-zinc-400",children:"Ideas you save and choose to share will appear here"})]}):o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(p=>o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:p.name}),o.jsxs(ze,{variant:"outline",className:"border-zinc-700",children:[o.jsx(qo,{className:"w-3 h-3 mr-1"}),"Idea"]})]}),o.jsx("p",{className:"text-zinc-300 text-sm",children:p.description})]})},p.id))})})]})]})})}function Yz(){const t=new URLSearchParams(window.location.search).get("email"),{data:n,isLoading:r}=Ae({queryKey:["userByEmail",t],queryFn:async()=>(await q.entities.User.filter({email:t}))[0],enabled:!!t});return b.useEffect(()=>{n!=null&&n.username&&(window.location.href=We(`Profile?username=${n.username}`))},[n]),r||n!=null&&n.username?o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})}):o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx("div",{className:"text-center text-zinc-400",children:o.jsx("p",{children:"User profile not available"})})})}function Qz(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(!1),[d,h]=b.useState(""),[m,f]=b.useState(!1),[v,w]=b.useState(""),[_,g]=b.useState(!1),[y,p]=b.useState([]),[x,S]=b.useState(!1),[j,P]=b.useState({card_number:"",expiry_date:"",cvv:"",cardholder_name:"",zip_code:""}),N=ps(),{data:k,isLoading:E}=Ae({queryKey:["currentUser"],queryFn:()=>q.auth.me()}),{data:z=[]}=Ae({queryKey:["savedIdeas",k==null?void 0:k.email],queryFn:async()=>await q.entities.Idea.filter({created_by:k==null?void 0:k.email}),enabled:!!k}),{data:L=[]}=Ae({queryKey:["paymentMethods",k==null?void 0:k.email],queryFn:async()=>k!=null&&k.email?await q.entities.PaymentMethod.filter({user_email:k.email}):[],enabled:!!k});b.useEffect(()=>{L&&p(L)},[L]);const J=async(T,W)=>{try{await q.entities.Idea.update(T,{is_shared:W}),D.success(W?"Idea is now shared on your profile":"Idea is now private"),N.invalidateQueries({queryKey:["savedIdeas"]}),N.invalidateQueries({queryKey:["sharedIdeas"]})}catch{D.error("Failed to update idea")}};b.useEffect(()=>{k&&(t(k.username||""),r(k.bio||""),i(k.website||""),l(k.avatar_url||"")),(async()=>{try{const W=await wp();W&&h(W);const Z=await Ea();Z&&w(Z)}catch(W){console.error("Error loading API keys:",W)}})()},[k]);const F=Do({mutationFn:async T=>{if(T.username&&T.username!==k.username){const W=await q.entities.User.filter({username:T.username});if(W.length>0&&W[0].email!==k.email)throw new Error("Username is already taken")}await q.auth.updateMe(T)},onSuccess:()=>{N.invalidateQueries({queryKey:["currentUser"]}),D.success("Profile updated!")},onError:T=>{D.error(T.message||"Failed to update profile")}}),le=async T=>{var Z;const W=(Z=T.target.files)==null?void 0:Z[0];if(W){u(!0);try{const{file_url:V}=await q.integrations.Core.UploadFile({file:W});l(V),D.success("Avatar uploaded!")}catch{D.error("Failed to upload avatar")}u(!1)}},A=()=>{F.mutate({username:e.trim(),bio:n.trim(),website:s.trim(),avatar_url:a})},Y=async()=>{if(!d.trim()){D.error("Please enter your Fireworks API key");return}try{await $I(d.trim()),D.success("API key saved securely!")}catch(T){D.error("Failed to save API key"),console.error(T)}},O=async()=>{if(!v.trim()){D.error("Please enter your Gemini API key");return}try{await h4(v.trim()),D.success("Gemini API key saved securely!")}catch(T){D.error("Failed to save API key"),console.error(T)}},R=async()=>{if(!(k!=null&&k.email)){D.error("Please log in to add payment methods");return}const T=j.card_number.replace(/\s/g,"");if(T.length<13||T.length>19){D.error("Please enter a valid card number");return}const W=j.expiry_date.match(/^(\d{2})\/(\d{2})$/);if(!W){D.error("Please enter expiry date in MM/YY format");return}if(!j.cvv||j.cvv.length<3){D.error("Please enter a valid CVV");return}try{const Z=T[0];let V="Unknown";Z==="4"?V="Visa":Z==="5"?V="Mastercard":Z==="3"?V="American Express":Z==="6"&&(V="Discover");const[ie,se]=[W[1],W[2]],yt=T.slice(-4);await q.entities.PaymentMethod.create({user_email:k.email,card_brand:V,last4:yt,exp_month:parseInt(ie),exp_year:parseInt("20"+se),cardholder_name:j.cardholder_name,zip_code:j.zip_code,is_default:y.length===0}),D.success("Payment method added successfully!"),S(!1),P({card_number:"",expiry_date:"",cvv:"",cardholder_name:"",zip_code:""}),N.invalidateQueries({queryKey:["paymentMethods"]})}catch(Z){console.error("Error adding payment method:",Z),D.error("Failed to add payment method")}},U=async T=>{try{await q.entities.PaymentMethod.delete(T),D.success("Payment method deleted"),N.invalidateQueries({queryKey:["paymentMethods"]})}catch{D.error("Failed to delete payment method")}},$=async T=>{try{for(const W of y)W.is_default&&await q.entities.PaymentMethod.update(W.id,{is_default:!1});await q.entities.PaymentMethod.update(T,{is_default:!0}),D.success("Default payment method updated"),N.invalidateQueries({queryKey:["paymentMethods"]})}catch{D.error("Failed to update default payment method")}};return E?o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsx(ke,{className:"w-8 h-8 text-orange-500 animate-spin"})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsx("div",{className:"max-w-2xl mx-auto px-4 py-12",children:o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Settings"}),o.jsx("p",{className:"text-zinc-400",children:"Manage your profile and API settings"})]}),o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mb-6",children:o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Vy,{className:"w-5 h-5 text-orange-500"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Fireworks API Key"})]}),o.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:"Add your Fireworks API key to enable AI-powered addon generation and debugging."}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(xe,{type:m?"text":"password",value:d,onChange:T=>h(T.target.value),placeholder:"Enter your Fireworks API key",className:"bg-zinc-800 border-zinc-700 text-white pr-10"}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>f(!m),className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 p-0 text-zinc-400 hover:text-white",children:m?o.jsx(pf,{className:"w-4 h-4"}):o.jsx(gf,{className:"w-4 h-4"})})]}),o.jsx(B,{onClick:Y,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Save Key"})]})]})}),o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mb-6",children:o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Vy,{className:"w-5 h-5 text-orange-500"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Gemini API Key"})]}),o.jsx("p",{className:"text-sm text-zinc-400 mb-4",children:"Add your Gemini Flash 2.5 API key if you want the app to fall back to Gemini when Fireworks is unavailable."}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(xe,{type:_?"text":"password",value:v,onChange:T=>w(T.target.value),placeholder:"Enter your Gemini API key",className:"bg-zinc-800 border-zinc-700 text-white pr-10"}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>g(!_),className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 p-0 text-zinc-400 hover:text-white",children:_?o.jsx(pf,{className:"w-4 h-4"}):o.jsx(gf,{className:"w-4 h-4"})})]}),o.jsx(B,{onClick:O,className:"bg-orange-500 hover:bg-orange-600 text-white",children:"Save Key"})]})]})}),o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Profile Settings"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Profile Picture"}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[o.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center text-white text-2xl font-bold flex-shrink-0 overflow-hidden",children:a?o.jsx("img",{src:a,alt:"Avatar",className:"w-full h-full object-cover"}):o.jsx(Rn,{className:"w-8 h-8"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"cursor-pointer",children:[o.jsxs("div",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-zinc-300 text-sm transition-colors flex items-center gap-2",children:[c?o.jsx(ke,{className:"w-4 h-4 animate-spin"}):o.jsx(Wo,{className:"w-4 h-4"}),"Upload Image"]}),o.jsx("input",{type:"file",accept:"image/*",onChange:le,className:"hidden"})]}),a&&o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>l(""),className:"text-zinc-400 hover:text-white",children:o.jsx(Km,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Username"}),o.jsx(xe,{value:e,onChange:T=>t(T.target.value),placeholder:"johndoe",className:"bg-zinc-800 border-zinc-700 text-white mt-2"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Your unique username - visible on your profile"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Full Name"}),o.jsx(xe,{value:(k==null?void 0:k.full_name)||"",disabled:!0,className:"bg-zinc-800 border-zinc-700 text-zinc-500 mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Email"}),o.jsx(xe,{value:(k==null?void 0:k.email)||"",disabled:!0,className:"bg-zinc-800 border-zinc-700 text-zinc-500 mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Bio"}),o.jsx(In,{value:n,onChange:T=>r(T.target.value),placeholder:"Tell us about yourself...",className:"bg-zinc-800 border-zinc-700 text-white mt-2 min-h-[100px]"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Website"}),o.jsx(xe,{value:s,onChange:T=>i(T.target.value),placeholder:"https://yourwebsite.com",className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsx(B,{onClick:A,disabled:F.isPending,className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:F.isPending?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]}),o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(By,{className:"w-5 h-5 text-orange-500"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Payment Methods"})]}),o.jsxs(_p,{open:x,onOpenChange:S,children:[o.jsx(Sp,{asChild:!0,children:o.jsxs(B,{className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Bc,{className:"w-4 h-4 mr-2"}),"Add Card"]})}),o.jsxs(Mu,{className:"bg-zinc-900 border-zinc-800",children:[o.jsx(Du,{children:o.jsx(Lu,{className:"text-white",children:"Add Payment Method"})}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Cardholder Name"}),o.jsx(xe,{value:j.cardholder_name,onChange:T=>P({...j,cardholder_name:T.target.value}),placeholder:"John Doe",className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Card Number"}),o.jsx(xe,{value:j.card_number,onChange:T=>{var Z;let W=T.target.value.replace(/\s/g,"");W=((Z=W.match(/.{1,4}/g))==null?void 0:Z.join(" "))||W,P({...j,card_number:W})},placeholder:"1234 5678 9012 3456",maxLength:19,className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"Expiry (MM/YY)"}),o.jsx(xe,{value:j.expiry_date,onChange:T=>{let W=T.target.value.replace(/\D/g,"");W.length>=2&&(W=W.slice(0,2)+"/"+W.slice(2,4)),P({...j,expiry_date:W})},placeholder:"12/25",maxLength:5,className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"CVV"}),o.jsx(xe,{type:"password",value:j.cvv,onChange:T=>P({...j,cvv:T.target.value.replace(/\D/g,"").slice(0,4)}),placeholder:"123",maxLength:4,className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]})]}),o.jsxs("div",{children:[o.jsx(me,{className:"text-zinc-300",children:"ZIP Code"}),o.jsx(xe,{value:j.zip_code,onChange:T=>P({...j,zip_code:T.target.value}),placeholder:"12345",className:"bg-zinc-800 border-zinc-700 text-white mt-2"})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(B,{variant:"outline",onClick:()=>S(!1),className:"flex-1 border-zinc-700 text-zinc-300",children:"Cancel"}),o.jsx(B,{onClick:R,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white",children:"Add Card"})]})]})]})]})]}),o.jsx("div",{className:"space-y-3",children:y.length===0?o.jsx("p",{className:"text-zinc-400 text-center py-8",children:"No payment methods added yet"}):y.map(T=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-zinc-800 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(By,{className:"w-5 h-5 text-orange-500"}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-white font-medium",children:T.card_brand}),o.jsxs("span",{className:"text-zinc-400",children:[" ",T.last4]}),T.is_default&&o.jsx(ze,{variant:"outline",className:"text-xs border-orange-500/50 text-orange-400",children:"Default"})]}),o.jsxs("p",{className:"text-sm text-zinc-500",children:["Expires ",String(T.exp_month).padStart(2,"0"),"/",T.exp_year]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[!T.is_default&&o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>$(T.id),className:"text-zinc-400 hover:text-white",children:"Set Default"}),o.jsx(B,{variant:"ghost",size:"sm",onClick:()=>U(T.id),className:"text-red-400 hover:text-red-300",children:o.jsx(Fb,{className:"w-4 h-4"})})]})]},T.id))})]}),z.length>0&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6 mt-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(cl,{className:"w-5 h-5 text-orange-500"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Saved Ideas"})]}),o.jsx("div",{className:"space-y-4",children:z.map(T=>o.jsxs("div",{className:"flex items-start justify-between p-4 bg-zinc-800 rounded-lg",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-white mb-1",children:T.name}),o.jsx("p",{className:"text-sm text-zinc-400 line-clamp-2",children:T.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsx(Qs,{checked:T.is_shared,onCheckedChange:W=>J(T.id,W)}),o.jsx(me,{className:"text-zinc-300 text-sm",children:"Share"})]})]},T.id))})]})]})})})}const Jz=()=>o.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-zinc-950 to-zinc-900",children:o.jsx("div",{className:"max-w-md w-full p-8 bg-zinc-900 rounded-lg shadow-lg border border-zinc-800",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-6 rounded-full bg-orange-500/10",children:o.jsx("svg",{className:"w-8 h-8 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Access Restricted"}),o.jsx("p",{className:"text-zinc-400 mb-8",children:"You are not registered to use this application. Please contact the app administrator to request access."}),o.jsxs("div",{className:"p-4 bg-zinc-800 rounded-md text-sm text-zinc-400",children:[o.jsx("p",{children:"If you believe this is an error, you can:"}),o.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[o.jsx("li",{children:"Verify you are logged in with the correct account"}),o.jsx("li",{children:"Contact the app administrator for access"}),o.jsx("li",{children:"Try logging out and back in again"})]})]})]})})}),mv=[{id:"mesh_modeling",name:"Mesh Modeling",category:"Modeling",description:"Create and edit 3D meshes"},{id:"sculpting",name:"Sculpting",category:"Modeling",description:"Digital sculpting tools"},{id:"retopology",name:"Retopology",category:"Modeling",description:"Create clean topology"},{id:"boolean_operations",name:"Boolean Operations",category:"Modeling",description:"Combine meshes with boolean operations"},{id:"modifiers",name:"Modifiers",category:"Modeling",description:"Non-destructive mesh modifications"},{id:"mesh_cleanup",name:"Mesh Cleanup",category:"Modeling",description:"Clean and optimize meshes"},{id:"keyframe_animation",name:"Keyframe Animation",category:"Animation",description:"Animate objects with keyframes"},{id:"rigging",name:"Rigging",category:"Animation",description:"Create character rigs"},{id:"armature",name:"Armature",category:"Animation",description:"Bone-based animation system"},{id:"shape_keys",name:"Shape Keys",category:"Animation",description:"Morph targets and blendshapes"},{id:"constraints",name:"Constraints",category:"Animation",description:"Animation constraints"},{id:"motion_tracking",name:"Motion Tracking",category:"Animation",description:"Track camera and objects"},{id:"cycles_rendering",name:"Cycles Rendering",category:"Rendering",description:"Path-traced rendering engine"},{id:"eevee_rendering",name:"Eevee Rendering",category:"Rendering",description:"Real-time rendering engine"},{id:"material_nodes",name:"Material Nodes",category:"Rendering",description:"Node-based material editor"},{id:"lighting",name:"Lighting",category:"Rendering",description:"Scene lighting setup"},{id:"compositing",name:"Compositing",category:"Rendering",description:"Post-processing and compositing"},{id:"render_layers",name:"Render Layers",category:"Rendering",description:"Layer-based rendering"},{id:"uv_mapping",name:"UV Mapping",category:"Texturing",description:"UV unwrapping and editing"},{id:"texture_painting",name:"Texture Painting",category:"Texturing",description:"Paint textures directly on models"},{id:"baking",name:"Baking",category:"Texturing",description:"Bake textures and maps"},{id:"procedural_textures",name:"Procedural Textures",category:"Texturing",description:"Generate textures procedurally"},{id:"pbr_materials",name:"PBR Materials",category:"Texturing",description:"Physically based materials"},{id:"fbx_import",name:"FBX Import/Export",category:"Import/Export",description:"FBX file format support"},{id:"obj_import",name:"OBJ Import/Export",category:"Import/Export",description:"OBJ file format support"},{id:"gltf_export",name:"glTF Export",category:"Import/Export",description:"Export to glTF format"},{id:"usd_support",name:"USD Support",category:"Import/Export",description:"Universal Scene Description"},{id:"physics_simulation",name:"Physics Simulation",category:"Physics",description:"Rigid body and soft body physics"},{id:"fluid_simulation",name:"Fluid Simulation",category:"Physics",description:"Liquid and gas simulations"},{id:"cloth_simulation",name:"Cloth Simulation",category:"Physics",description:"Fabric and cloth dynamics"},{id:"particle_systems",name:"Particle Systems",category:"Physics",description:"Particle effects and simulations"},{id:"smoke_simulation",name:"Smoke Simulation",category:"Physics",description:"Smoke and fire effects"},{id:"custom_panels",name:"Custom Panels",category:"UI",description:"Create custom UI panels"},{id:"addon_management",name:"Addon Management",category:"UI",description:"Manage and organize addons"},{id:"keyboard_shortcuts",name:"Keyboard Shortcuts",category:"UI",description:"Custom keyboard shortcuts"},{id:"workspace_customization",name:"Workspace Customization",category:"UI",description:"Custom workspace layouts"},{id:"python_scripting",name:"Python Scripting",category:"Scripting",description:"Automate tasks with Python"},{id:"batch_processing",name:"Batch Processing",category:"Scripting",description:"Process multiple files"},{id:"addon_development",name:"Addon Development",category:"Scripting",description:"Create custom addons"},{id:"geometry_nodes",name:"Geometry Nodes",category:"Advanced",description:"Node-based geometry editing"},{id:"shader_editor",name:"Shader Editor",category:"Advanced",description:"Advanced shader creation"},{id:"animation_nodes",name:"Animation Nodes",category:"Advanced",description:"Node-based animation"},{id:"grease_pencil",name:"Grease Pencil",category:"Advanced",description:"2D animation and drawing"},{id:"vr_support",name:"VR Support",category:"Advanced",description:"Virtual reality workflows"}];function Xz(){const e=hr(),[t,n]=b.useState([]),[r,s]=b.useState([]),[i,a]=b.useState(!1),[l,c]=b.useState([]),[u,d]=b.useState(null),[h,m]=b.useState(!1);I.useEffect(()=>{f()},[]);const f=async()=>{const p=await q.auth.me(),x=await q.entities.Idea.filter({created_by:p.email});c(x)},v=p=>{n(x=>x.includes(p)?x.filter(S=>S!==p):[...x,p])},w=async()=>{if(t.length===0){D.error("Please select at least one functionality");return}a(!0);try{const S=`Based on these Blender functionalities:
${mv.filter(N=>t.includes(N.id)).map(N=>`${N.name} (${N.category}): ${N.description}`).join(`
`)}

Generate 10 creative and practical Blender addon ideas that combine or enhance these functionalities.`;let j=await b4(S);Array.isArray(j)||(j=[j]);const P=j.map((N,k)=>({name:N.name||N.title||`Addon Idea ${k+1}`,description:N.description||"",prompt:N.prompt||N.description||N.title||"",id:`idea_${Date.now()}_${k}`}));s(P),setTimeout(async()=>{try{const N=await q.auth.me();if(N)for(const k of P)try{await q.entities.Idea.create({name:k.name,description:k.description,prompt:k.prompt,created_by:N.email,is_shared:!1,is_template:!0})}catch(E){console.log("Template already exists or error saving:",E)}}catch(N){console.error("Error auto-saving templates:",N)}},2e3),D.success(`Generated ${P.length} addon ideas! They've been saved as templates.`)}catch(p){console.error("Error generating ideas:",p),D.error("Failed to generate ideas. Please try again.")}finally{a(!1)}},_=async(p,x=!1)=>{try{const S=await q.auth.me();await q.entities.Idea.create({name:p.name,description:p.description,prompt:p.prompt||p.description,created_by:S.email,is_shared:x}),D.success("Idea saved!"),f(),d(null),m(!1)}catch{D.error("Failed to save idea")}},g=async p=>{try{const x=`Create a complete, production-ready Blender addon: ${p.name||p.title}

Description: ${p.description}

Requirements:
- Fully functional Blender addon implementing this idea
- User-friendly UI panel in the 3D Viewport
- Operators that perform the main functionality
- Proper error handling and user feedback
- Easy to use with clear button labels
- Follows Blender Python API best practices
- Complete and ready to install in Blender`;e(`/create?prompt=${encodeURIComponent(x)}&ideaId=${p.id||""}`)}catch{e(`/create?prompt=${encodeURIComponent(p.prompt||p.description||p.name)}`)}},y=mv.reduce((p,x)=>(p[x.category]||(p[x.category]=[]),p[x.category].push(x),p),{});return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-6",children:[o.jsx(cl,{className:"w-4 h-4"}),"AI-Powered Idea Generator"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Blenderstorm"}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-2xl mx-auto",children:"Select Blender functionalities you're interested in, and AI will generate creative addon ideas for you!"})]}),t.length>0&&o.jsx("div",{className:"mb-6 text-center",children:o.jsxs(ze,{className:"bg-orange-500 text-white text-lg px-4 py-2",children:[t.length," functionality",t.length!==1?"ies":""," selected"]})}),o.jsx("div",{className:"space-y-8 mb-8",children:Object.entries(y).map(([p,x])=>o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:p}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map(S=>{const j=t.includes(S.id);return o.jsx(ne,{onClick:()=>v(S.id),className:`cursor-pointer transition-all duration-200 ${j?"bg-orange-500/20 border-orange-500 border-2":"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50"}`,children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-white",children:S.name}),j&&o.jsx(co,{className:"w-5 h-5 text-orange-500 flex-shrink-0"})]}),o.jsx("p",{className:"text-sm text-zinc-400",children:S.description})]})},S.id)})})]},p))}),o.jsx("div",{className:"text-center mb-8",children:o.jsx(B,{onClick:w,disabled:i||t.length===0,size:"lg",className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-6 text-lg",children:i?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-5 h-5 mr-2 animate-spin"}),"Generating Ideas..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Blenderstorm Ideas"]})})}),o.jsx(ml,{children:r.length>0&&o.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6 mb-8",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Generated Ideas (",r.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:r.map((p,x)=>o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 transition-all",children:o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsx("h3",{className:"text-xl font-bold text-white",children:p.name||`Idea ${x+1}`})}),o.jsx("p",{className:"text-zinc-300 mb-4",children:p.description||"No description available"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(_p,{open:u===x,onOpenChange:S=>{S||(d(null),m(!1))},children:[o.jsx(Sp,{asChild:!0,children:o.jsxs(B,{onClick:()=>d(x),variant:"outline",size:"sm",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(qo,{className:"w-4 h-4 mr-1"}),"Save Idea"]})}),o.jsxs(Mu,{className:"bg-zinc-900 border-zinc-800",children:[o.jsx(Du,{children:o.jsx(Lu,{className:"text-white",children:"Save Idea"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-zinc-300",children:p.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qs,{checked:h,onCheckedChange:m}),o.jsx(me,{className:"text-zinc-300",children:"Share on my profile"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(B,{onClick:()=>_(p,h),className:"bg-orange-500 hover:bg-orange-600",children:"Save"}),o.jsx(B,{variant:"outline",onClick:()=>{d(null),m(!1)},children:"Cancel"})]})]})]})]}),o.jsxs(B,{onClick:()=>g(p),size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white",children:[o.jsx(Zn,{className:"w-4 h-4 mr-1"}),"Create Addon"]})]})]})},x))})]})}),l.length>0&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Saved Ideas (",l.length,")"]}),o.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.map(p=>o.jsx(ne,{className:"bg-zinc-900/50 border-zinc-800 hover:border-orange-500/50 transition-all",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:p.name}),o.jsxs(ze,{variant:"outline",className:"border-zinc-700",children:[o.jsx(qo,{className:"w-3 h-3 mr-1"}),"Saved"]})]}),o.jsx("p",{className:"text-zinc-300 mb-4",children:p.description}),o.jsxs(B,{onClick:()=>g(p),className:"bg-orange-500 hover:bg-orange-600 text-white w-full",children:[o.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Create Addon"]})]})},p.id))})]})]})})}function Zz(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(!1),[c,u]=b.useState(!1),[d,h]=b.useState(null),[m,f]=b.useState(""),[v,w]=b.useState([]),_=ps(),{data:g}=Ae({queryKey:["user"],queryFn:()=>q.auth.me()}),{data:y=[]}=Ae({queryKey:["myAddons",g==null?void 0:g.email],queryFn:async()=>(await q.entities.Addon.list()).filter(Y=>Y.created_by===(g==null?void 0:g.email)),enabled:!!g}),p=new URLSearchParams(window.location.search),x=p.get("addonId"),S=p.get("code"),{data:j}=Ae({queryKey:["addon",x],queryFn:async()=>x?(await q.entities.Addon.filter({id:x}))[0]:null,enabled:!!x});b.useEffect(()=>{if(S&&!e)try{const A=decodeURIComponent(S);t(A),D.success("Code loaded from Create page")}catch(A){console.error("Error decoding code:",A),D.error("Failed to load code from URL")}else if(j&&!e)t(j.code||""),i(j.id),D.success("Addon code loaded");else if(x&&y.length>0){const A=y.find(Y=>Y.id===x);A&&!e&&(t(A.code||""),i(x),D.success("Addon code loaded"))}},[j,y,x,S]);const P=async A=>{let Y=y.find(O=>O.id===A);Y||(Y=(await q.entities.Addon.filter({id:A}))[0]),Y?(t(Y.code||""),i(A),h(null),f(""),w([]),D.success("Addon code loaded")):D.error("Addon not found")},N=()=>{if(!e.trim()){D.error("Please enter or load addon code first");return}const A=[];try{e.includes("bl_info")||A.push({type:"warning",message:"Missing bl_info dictionary - required for Blender addons",line:1}),e.includes("def register()")||A.push({type:"warning",message:"Missing register() function - required for Blender addons",line:1}),e.includes("def unregister()")||A.push({type:"warning",message:"Missing unregister() function - required for Blender addons",line:1}),e.includes("import bpy")||A.push({type:"info",message:"Consider importing bpy module for Blender API access",line:1}),e.split(`
`).forEach((O,R)=>{const U=(O.match(/\(/g)||[]).length,$=(O.match(/\)/g)||[]).length,T=(O.match(/\{/g)||[]).length,W=(O.match(/\}/g)||[]).length,Z=(O.match(/\[/g)||[]).length,V=(O.match(/\]/g)||[]).length;U!==$&&O.trim()&&!O.trim().startsWith("#")&&A.push({type:"error",message:`Possible unmatched parentheses on line ${R+1}`,line:R+1})}),w(A),A.length===0?D.success("No syntax errors found!"):D.warning(`Found ${A.length} potential issue(s)`)}catch{D.error("Error checking syntax")}},k=async()=>{if(!e.trim()){D.error("Please enter or load addon code first");return}l(!0),h(null);try{const A=await _4(e);h(A),D.success("Analysis complete!")}catch(A){console.error("Error analyzing code:",A),D.error("Failed to analyze code")}finally{l(!1)}},E=async()=>{if(!e.trim()){D.error("Please enter or load addon code first");return}u(!0),f("");try{const A=await S4({code:e,errorMessage:n,analysisResult:d});f(A),D.success("Code fixed! Review the changes below.")}catch(A){console.error("Error fixing code:",A),D.error("Failed to fix code")}finally{u(!1)}},z=()=>{m&&(t(m),f(""),h(null),w([]),D.success("Fixed code applied! You can now download or update your addon."))},L=()=>{if(!e.trim()){D.error("No code to download");return}let A="addon.py";const Y=e.match(/bl_info\s*=\s*\{[^}]*"name"\s*:\s*"([^"]+)"/);Y&&(A=`${Y[1].toLowerCase().replace(/\s+/g,"_")}.py`);const O=new Blob([e],{type:"text/x-python"}),R=URL.createObjectURL(O),U=document.createElement("a");U.href=R,U.download=A,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(R),D.success("Addon downloaded!")},J=()=>{if(!m){D.error("No fixed code to download");return}let A="addon_fixed.py";const Y=m.match(/bl_info\s*=\s*\{[^}]*"name"\s*:\s*"([^"]+)"/);Y&&(A=`${Y[1].toLowerCase().replace(/\s+/g,"_")}_fixed.py`);const O=new Blob([m],{type:"text/x-python"}),R=URL.createObjectURL(O),U=document.createElement("a");U.href=R,U.download=A,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(R),D.success("Fixed addon downloaded!")},F=A=>{var R;const Y=(R=A.target.files)==null?void 0:R[0];if(!Y)return;if(!Y.name.endsWith(".py")){D.error("Please upload a Python (.py) file");return}const O=new FileReader;O.onload=U=>{var T;const $=(T=U.target)==null?void 0:T.result;typeof $=="string"&&(t($),h(null),f(""),w([]),D.success(`Loaded ${Y.name}`))},O.onerror=()=>{D.error("Failed to read file")},O.readAsText(Y)},le=async()=>{if(!m||!s){D.error("Please fix code and select an addon first");return}try{if(!(await q.entities.Addon.filter({id:s}))[0]){D.error("Addon not found");return}const O=await q.entities.AddonVersion.filter({addon_id:s}),R=O.find($=>$.is_current);let U="1.0.1";if(R){const $=R.version_number.split("."),T=parseInt($[2]||0)+1;U=`${$[0]}.${$[1]}.${T}`}for(const $ of O)$.is_current&&await q.entities.AddonVersion.update($.id,{is_current:!1});await q.entities.AddonVersion.create({addon_id:s,version_number:U,code:m,changelog:"Fixed errors and issues with AI assistance",is_current:!0}),await q.entities.Addon.update(s,{code:m}),D.success(`Addon updated to version ${U}!`),t(m),f(""),_.invalidateQueries({queryKey:["myAddons"]}),_.invalidateQueries({queryKey:["addon",s]})}catch(A){console.error("Error updating addon:",A),D.error("Failed to update addon")}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[o.jsxs(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-orange-500/10 border border-orange-500/20 text-orange-400 text-sm mb-6",children:[o.jsx(Gs,{className:"w-4 h-4"}),"Addon Debug & Testing"]}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Debug Your Addon"}),o.jsx("p",{className:"text-zinc-400 text-lg max-w-2xl mx-auto",children:"Test your addon code, find errors, and let AI fix them automatically"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Addon Code"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"file",accept:".py",onChange:F,className:"hidden",id:"file-upload"}),o.jsxs(B,{onClick:()=>{var A;return(A=document.getElementById("file-upload"))==null?void 0:A.click()},variant:"outline",size:"sm",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Upload .py File"]}),y.length>0&&o.jsxs(lr,{value:s,onValueChange:P,children:[o.jsx(zn,{className:"w-48 bg-zinc-800 border-zinc-700 text-white",children:o.jsx(cr,{placeholder:"Load from My Addons"})}),o.jsx(Mn,{className:"bg-zinc-900 border-zinc-700",children:y.map(A=>o.jsx(et,{value:A.id,className:"text-white",children:A.title},A.id))})]})]})]}),o.jsx(In,{value:e,onChange:A=>t(A.target.value),placeholder:"Paste your Blender addon code here or load from My Addons...",className:"min-h-[400px] bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500 font-mono text-sm"}),e.trim()&&o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(B,{onClick:L,variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800",children:[o.jsx(as,{className:"w-4 h-4 mr-2"}),"Download Current Code"]})}),o.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[o.jsxs(B,{onClick:N,variant:"outline",className:"border-zinc-700 text-zinc-300",children:[o.jsx(co,{className:"w-4 h-4 mr-2"}),"Check Syntax"]}),o.jsx(B,{onClick:k,disabled:a||!e.trim(),className:"bg-orange-500 hover:bg-orange-600 text-white",children:a?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Gs,{className:"w-4 h-4 mr-2"}),"AI Analyze"]})})]})]}),o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx(me,{className:"text-zinc-300 mb-2 block",children:"Error Message from Blender"}),o.jsx(In,{value:n,onChange:A=>r(A.target.value),placeholder:"Paste any error messages you got when testing the addon in Blender...",className:"min-h-[100px] bg-zinc-950 border-zinc-700 text-white placeholder:text-zinc-500"}),o.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Paste the error traceback or error message from Blender's console here"})]})]}),o.jsxs("div",{className:"space-y-6",children:[v.length>0&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(Nd,{className:"w-5 h-5 text-yellow-500"}),"Syntax Check Results"]}),o.jsx("div",{className:"space-y-2",children:v.map((A,Y)=>o.jsx("div",{className:`p-3 rounded-lg ${A.type==="error"?"bg-red-500/10 border border-red-500/20":A.type==="warning"?"bg-yellow-500/10 border border-yellow-500/20":"bg-blue-500/10 border border-blue-500/20"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[A.type==="error"?o.jsx(qy,{className:"w-4 h-4 text-red-400 mt-0.5"}):o.jsx(Nd,{className:"w-4 h-4 text-yellow-400 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white",children:A.message}),A.line&&o.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Line ",A.line]})]})]})},Y))})]}),d&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx(Gs,{className:"w-5 h-5 text-orange-500"}),"AI Analysis Results"]}),d.summary&&o.jsx("p",{className:"text-zinc-300 mb-4",children:d.summary}),d.errors&&d.errors.length>0&&o.jsx("div",{className:"space-y-2 mb-4",children:d.errors.map((A,Y)=>o.jsx("div",{className:`p-3 rounded-lg ${A.type==="error"?"bg-red-500/10 border border-red-500/20":A.type==="warning"?"bg-yellow-500/10 border border-yellow-500/20":"bg-blue-500/10 border border-blue-500/20"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[A.type==="error"?o.jsx(qy,{className:"w-4 h-4 text-red-400 mt-0.5"}):o.jsx(Nd,{className:"w-4 h-4 text-yellow-400 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-white",children:A.message}),A.line&&o.jsxs("p",{className:"text-xs text-zinc-400 mt-1",children:["Line ",A.line]}),A.suggestion&&o.jsxs("p",{className:"text-xs text-zinc-300 mt-1 italic",children:[" ",A.suggestion]})]})]})},Y))}),o.jsx(B,{onClick:E,disabled:c,className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:c?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Fixing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Fix with AI"]})})]}),m&&o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(co,{className:"w-5 h-5 text-green-500"}),"Fixed Code"]}),o.jsx(ze,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:"Ready"})]}),o.jsx(vp,{code:m,readOnly:!0}),o.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[o.jsxs(B,{onClick:z,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white min-w-[120px]",children:[o.jsx(co,{className:"w-4 h-4 mr-2"}),"Apply Fix"]}),s&&o.jsxs(B,{onClick:le,variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-500/10 min-w-[140px]",children:[o.jsx(Lb,{className:"w-4 h-4 mr-2"}),"Update Addon"]}),o.jsxs(B,{onClick:J,variant:"outline",className:"border-zinc-700 text-zinc-300 hover:bg-zinc-800 min-w-[140px]",children:[o.jsx(as,{className:"w-4 h-4 mr-2"}),"Download Fixed"]})]})]}),o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"How to Use"}),o.jsxs("ol",{className:"space-y-2 text-sm text-zinc-400 list-decimal list-inside",children:[o.jsx("li",{children:"Upload a .py file, load from My Addons, or paste code manually"}),o.jsx("li",{children:'Click "Check Syntax" for basic validation'}),o.jsx("li",{children:'Click "AI Analyze" for comprehensive error detection'}),o.jsx("li",{children:"If you got errors in Blender, paste them in the error box"}),o.jsx("li",{children:'Click "Fix with AI" to automatically fix all issues'}),o.jsx("li",{children:"Review the fixed code and apply it or download it"})]})]})]})]})]})})}function eM(){const[e,t]=b.useState("all"),[n,r]=b.useState("7d"),{data:s}=Ae({queryKey:["user"],queryFn:()=>q.auth.me()}),{data:i=[]}=Ae({queryKey:["myAddons",s==null?void 0:s.email],queryFn:async()=>(await q.entities.Addon.list()).filter(u=>u.created_by===(s==null?void 0:s.email)),enabled:!!s}),{data:a=[]}=Ae({queryKey:["allAddons"],queryFn:()=>q.entities.Addon.filter({is_published:!0})}),l=I.useMemo(()=>{const c=e==="all"?i:i.filter(S=>S.id===e),u=c.reduce((S,j)=>S+(j.downloads||0),0),d=c.reduce((S,j)=>S+(j.forks_count||0),0),h=c.filter(S=>S.is_published).length,m=c.length,f=n==="7d"?7:n==="30d"?30:90,v=fv(new Date,f*2),w=fv(new Date,f),_=c.filter(S=>new Date(S.created_date)>=w).reduce((S,j)=>S+(j.downloads||0),0),g=c.filter(S=>{const j=new Date(S.created_date);return j>=v&&j<w}).reduce((S,j)=>S+(j.downloads||0),0),y=g>0?(_-g)/g*100:_>0?100:0,p=[...c].sort((S,j)=>(j.downloads||0)-(S.downloads||0)).slice(0,5),x=c.reduce((S,j)=>{const P=j.category||"other";return S[P]=(S[P]||0)+(j.downloads||0),S},{});return{totalDownloads:u,totalForks:d,publishedCount:h,totalAddons:m,downloadGrowth:y,topAddons:p,categoryBreakdown:x}},[i,e,n]);return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-b from-zinc-950 via-zinc-900 to-zinc-950",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsx(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-zinc-400",children:"Track your addon performance and insights"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(lr,{value:n,onValueChange:r,children:[o.jsx(zn,{className:"w-32 bg-zinc-900 border-zinc-700 text-white",children:o.jsx(cr,{})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"7d",className:"text-white",children:"Last 7 days"}),o.jsx(et,{value:"30d",className:"text-white",children:"Last 30 days"}),o.jsx(et,{value:"90d",className:"text-white",children:"Last 90 days"})]})]}),i.length>0&&o.jsxs(lr,{value:e,onValueChange:t,children:[o.jsx(zn,{className:"w-48 bg-zinc-900 border-zinc-700 text-white",children:o.jsx(cr,{})}),o.jsxs(Mn,{className:"bg-zinc-900 border-zinc-700",children:[o.jsx(et,{value:"all",className:"text-white",children:"All Addons"}),i.map(c=>o.jsx(et,{value:c.id,className:"text-white",children:c.title},c.id))]})]})]})]})}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsxs(Cr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Nr,{className:"text-sm font-medium text-zinc-400",children:"Total Downloads"}),o.jsx(as,{className:"w-4 h-4 text-orange-500"})]}),o.jsxs(qn,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalDownloads}),o.jsxs("div",{className:`flex items-center gap-1 text-xs mt-1 ${l.downloadGrowth>=0?"text-green-400":"text-red-400"}`,children:[l.downloadGrowth>=0?o.jsx($P,{className:"w-3 h-3"}):o.jsx(UP,{className:"w-3 h-3"}),o.jsxs("span",{children:[Math.abs(l.downloadGrowth).toFixed(1),"% from previous period"]})]})]})]})}),o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsxs(Cr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Nr,{className:"text-sm font-medium text-zinc-400",children:"Total Forks"}),o.jsx(Wm,{className:"w-4 h-4 text-orange-500"})]}),o.jsxs(qn,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalForks}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Community remixes"})]})]})}),o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsxs(Cr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Nr,{className:"text-sm font-medium text-zinc-400",children:"Published Addons"}),o.jsx(es,{className:"w-4 h-4 text-orange-500"})]}),o.jsxs(qn,{children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:l.publishedCount}),o.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["of ",l.totalAddons," total"]})]})]})}),o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsxs(Cr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(Nr,{className:"text-sm font-medium text-zinc-400",children:"Market Share"}),o.jsx(Fy,{className:"w-4 h-4 text-orange-500"})]}),o.jsxs(qn,{children:[o.jsxs("div",{className:"text-2xl font-bold text-white",children:[a.length>0?(l.publishedCount/a.length*100).toFixed(1):0,"%"]}),o.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"of all published addons"})]})]})})]}),l.topAddons.length>0&&o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsx(Cr,{children:o.jsxs(Nr,{className:"text-white flex items-center gap-2",children:[o.jsx(cT,{className:"w-5 h-5 text-orange-500"}),"Top Performing Addons"]})}),o.jsx(qn,{children:o.jsx("div",{className:"space-y-4",children:l.topAddons.map((c,u)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-zinc-950 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/10 flex items-center justify-center text-orange-400 font-bold",children:u+1}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium",children:c.title}),o.jsx("p",{className:"text-xs text-zinc-400",children:c.category||"Uncategorized"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-semibold",children:c.downloads||0}),o.jsx("div",{className:"text-xs text-zinc-400",children:"downloads"})]})]},c.id))})})]})}),Object.keys(l.categoryBreakdown).length>0&&o.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800",children:[o.jsx(Cr,{children:o.jsxs(Nr,{className:"text-white flex items-center gap-2",children:[o.jsx(Fy,{className:"w-5 h-5 text-orange-500"}),"Downloads by Category"]})}),o.jsx(qn,{children:o.jsx("div",{className:"space-y-3",children:Object.entries(l.categoryBreakdown).sort((c,u)=>u[1]-c[1]).map(([c,u])=>{const d=Math.max(...Object.values(l.categoryBreakdown)),h=u/d*100;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm text-zinc-300 capitalize",children:c.replace("_"," ")}),o.jsx("span",{className:"text-sm font-semibold text-white",children:u})]}),o.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]},c)})})})]})}),i.length===0&&o.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[o.jsx(es,{className:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No addons yet"}),o.jsx("p",{className:"text-zinc-400 mb-6",children:"Create your first addon to see analytics"})]})]})}):o.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center",children:o.jsxs(ne,{className:"bg-zinc-900/50 border-zinc-800 p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Please log in"}),o.jsx("p",{className:"text-zinc-400",children:"You need to be logged in to view analytics"})]})})}const kp=b.forwardRef(({className:e,variant:t="default",...n},r)=>{const s={default:"bg-zinc-900 border-zinc-800 text-zinc-200",destructive:"bg-red-950/50 border-red-800 text-red-300"};return o.jsx("div",{ref:r,role:"alert",className:ye("relative w-full rounded-lg border p-4",s[t]||s.default,e),...n})});kp.displayName="Alert";const tM=b.forwardRef(({className:e,...t},n)=>o.jsx("h5",{ref:n,className:ye("mb-1 font-medium leading-none tracking-tight",e),...t}));tM.displayName="AlertTitle";const Cp=b.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ye("text-sm",e),...t}));Cp.displayName="AlertDescription";function nM(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(!1),{signIn:c,user:u}=ll(),d=hr(),h=ms();b.useEffect(()=>{var f,v;if(u){const w=((v=(f=h.state)==null?void 0:f.from)==null?void 0:v.pathname)||"/";d(w,{replace:!0})}},[u,d,h]);const m=async f=>{var v,w;f.preventDefault(),i(""),l(!0);try{await c(e,n);const _=((w=(v=h.state)==null?void 0:v.from)==null?void 0:w.pathname)||"/";d(_,{replace:!0})}catch(_){i(_.message||"Failed to sign in. Please check your credentials.")}finally{l(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 px-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-8 shadow-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),o.jsx("p",{className:"text-zinc-400",children:"Sign in to your account to continue"})]}),s&&o.jsx(kp,{className:"mb-6 bg-red-950/50 border-red-800",children:o.jsx(Cp,{className:"text-red-300",children:s})}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"email",className:"text-zinc-300",children:"Email"}),o.jsx(xe,{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"you@example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"password",className:"text-zinc-300",children:"Password"}),o.jsx(xe,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:""})]}),o.jsx(B,{type:"submit",disabled:a,className:"w-full bg-orange-500 hover:bg-orange-600 text-white",children:a?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):o.jsxs(o.Fragment,{children:[o.jsx(zb,{className:"w-4 h-4 mr-2"}),"Sign In"]})})]}),o.jsxs("div",{className:"mt-6 text-center text-sm text-zinc-400",children:["Don't have an account?"," ",o.jsx(Be,{to:"/signup",className:"text-orange-500 hover:text-orange-400 font-medium",children:"Sign up"})]})]})})})}function rM(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[a,l]=b.useState(""),[c,u]=b.useState(""),[d,h]=b.useState(""),[m,f]=b.useState(!1),[v,w]=b.useState(!1),{signUp:_}=ll(),g=hr(),y=async p=>{if(p.preventDefault(),h(""),f(!1),n!==s){h("Passwords do not match");return}if(n.length<6){h("Password must be at least 6 characters");return}w(!0);try{await _(e,n,a,c),f(!0),setTimeout(()=>{g("/")},2e3)}catch(x){h(x.message||"Failed to create account. Please try again.")}finally{w(!1)}};return m?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 px-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-8 shadow-2xl text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(zb,{className:"w-8 h-8 text-green-500"})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Check your email!"}),o.jsx("p",{className:"text-zinc-400 mb-4",children:"We've sent you a confirmation link. Click it to verify your account."}),o.jsx("p",{className:"text-sm text-zinc-500",children:"Redirecting to home page..."})]})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-zinc-950 px-4 py-12",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-8 shadow-2xl",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),o.jsx("p",{className:"text-zinc-400",children:"Sign up to start creating Blender addons"})]}),d&&o.jsx(kp,{className:"mb-6 bg-red-950/50 border-red-800",children:o.jsx(Cp,{className:"text-red-300",children:d})}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"fullName",className:"text-zinc-300",children:"Full Name"}),o.jsx(xe,{id:"fullName",type:"text",value:a,onChange:p=>l(p.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"John Doe"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"username",className:"text-zinc-300",children:"Username"}),o.jsx(xe,{id:"username",type:"text",value:c,onChange:p=>u(p.target.value.replace(/\s/g,"").toLowerCase()),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"johndoe",pattern:"[a-z0-9_]+",title:"Username can only contain lowercase letters, numbers, and underscores"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"email",className:"text-zinc-300",children:"Email"}),o.jsx(xe,{id:"email",type:"email",value:e,onChange:p=>t(p.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:"you@example.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"password",className:"text-zinc-300",children:"Password"}),o.jsx(xe,{id:"password",type:"password",value:n,onChange:p=>r(p.target.value),required:!0,minLength:6,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:""}),o.jsx("p",{className:"text-xs text-zinc-500",children:"Must be at least 6 characters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(me,{htmlFor:"confirmPassword",className:"text-zinc-300",children:"Confirm Password"}),o.jsx(xe,{id:"confirmPassword",type:"password",value:s,onChange:p=>i(p.target.value),required:!0,className:"bg-zinc-800 border-zinc-700 text-white",placeholder:""})]}),o.jsx(B,{type:"submit",disabled:v,className:"w-full bg-orange-500 hover:bg-orange-600 text-white mt-6",children:v?o.jsxs(o.Fragment,{children:[o.jsx(ke,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Create Account"]})})]}),o.jsxs("div",{className:"mt-6 text-center text-sm text-zinc-400",children:["Already have an account?"," ",o.jsx(Be,{to:"/login",className:"text-orange-500 hover:text-orange-400 font-medium",children:"Sign in"})]})]})})})}function sM(){const e=ms(),t=e.pathname.split("/").pop()||"Home";return e.pathname==="/login"||e.pathname==="/signup"?o.jsxs(Jg,{children:[o.jsx(ft,{path:"/login",element:o.jsx(nM,{})}),o.jsx(ft,{path:"/signup",element:o.jsx(rM,{})})]}):o.jsx(pT,{currentPageName:t,children:o.jsxs(Jg,{children:[o.jsx(ft,{path:"/",element:o.jsx(J0,{})}),o.jsx(ft,{path:"/home",element:o.jsx(J0,{})}),o.jsx(ft,{path:"/explore",element:o.jsx(T4,{})}),o.jsx(ft,{path:"/addondetail",element:o.jsx(Hz,{})}),o.jsx(ft,{path:"/profile",element:o.jsx(Gz,{})}),o.jsx(ft,{path:"/userprofile",element:o.jsx(Yz,{})}),o.jsx(ft,{path:"/create",element:o.jsx(xi,{children:o.jsx(C4,{})})}),o.jsx(ft,{path:"/myaddons",element:o.jsx(xi,{children:o.jsx(Fz,{})})}),o.jsx(ft,{path:"/settings",element:o.jsx(xi,{children:o.jsx(Qz,{})})}),o.jsx(ft,{path:"/blenderstorm",element:o.jsx(xi,{children:o.jsx(Xz,{})})}),o.jsx(ft,{path:"/debug",element:o.jsx(xi,{children:o.jsx(Zz,{})})}),o.jsx(ft,{path:"/analytics",element:o.jsx(xi,{children:o.jsx(eM,{})})}),o.jsx(ft,{path:"/usernotregistered",element:o.jsx(Jz,{})})]})})}const iM=new zC({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});qd.createRoot(document.getElementById("root")).render(o.jsx(I.StrictMode,{children:o.jsx(MC,{client:iM,children:o.jsx(cC,{children:o.jsxs(tP,{children:[o.jsx(sM,{}),o.jsx(xN,{position:"top-right",richColors:!0})]})})})}));
